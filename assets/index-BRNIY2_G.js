(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();function Wf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vc={exports:{}},sl={},Cc={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vo=Symbol.for("react.element"),Kf=Symbol.for("react.portal"),Jf=Symbol.for("react.fragment"),Qf=Symbol.for("react.strict_mode"),Xf=Symbol.for("react.profiler"),Zf=Symbol.for("react.provider"),ep=Symbol.for("react.context"),tp=Symbol.for("react.forward_ref"),np=Symbol.for("react.suspense"),op=Symbol.for("react.memo"),rp=Symbol.for("react.lazy"),oa=Symbol.iterator;function lp(t){return t===null||typeof t!="object"?null:(t=oa&&t[oa]||t["@@iterator"],typeof t=="function"?t:null)}var Sc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tc=Object.assign,wc={};function Hn(t,e,n){this.props=t,this.context=e,this.refs=wc,this.updater=n||Sc}Hn.prototype.isReactComponent={};Hn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ec(){}Ec.prototype=Hn.prototype;function is(t,e,n){this.props=t,this.context=e,this.refs=wc,this.updater=n||Sc}var ss=is.prototype=new Ec;ss.constructor=is;Tc(ss,Hn.prototype);ss.isPureReactComponent=!0;var ra=Array.isArray,Nc=Object.prototype.hasOwnProperty,as={current:null},_c={key:!0,ref:!0,__self:!0,__source:!0};function Ic(t,e,n){var o,r={},l=null,i=null;if(e!=null)for(o in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(l=""+e.key),e)Nc.call(e,o)&&!_c.hasOwnProperty(o)&&(r[o]=e[o]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var d=Array(u),f=0;f<u;f++)d[f]=arguments[f+2];r.children=d}if(t&&t.defaultProps)for(o in u=t.defaultProps,u)r[o]===void 0&&(r[o]=u[o]);return{$$typeof:Vo,type:t,key:l,ref:i,props:r,_owner:as.current}}function ip(t,e){return{$$typeof:Vo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function us(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vo}function sp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var la=/\/+/g;function Al(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sp(""+t.key):e.toString(36)}function vr(t,e,n,o,r){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Vo:case Kf:i=!0}}if(i)return i=t,r=r(i),t=o===""?"."+Al(i,0):o,ra(r)?(n="",t!=null&&(n=t.replace(la,"$&/")+"/"),vr(r,e,n,"",function(f){return f})):r!=null&&(us(r)&&(r=ip(r,n+(!r.key||i&&i.key===r.key?"":(""+r.key).replace(la,"$&/")+"/")+t)),e.push(r)),1;if(i=0,o=o===""?".":o+":",ra(t))for(var u=0;u<t.length;u++){l=t[u];var d=o+Al(l,u);i+=vr(l,e,n,d,r)}else if(d=lp(t),typeof d=="function")for(t=d.call(t),u=0;!(l=t.next()).done;)l=l.value,d=o+Al(l,u++),i+=vr(l,e,n,d,r);else if(l==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Xo(t,e,n){if(t==null)return t;var o=[],r=0;return vr(t,o,"","",function(l){return e.call(n,l,r++)}),o}function ap(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Me={current:null},Cr={transition:null},up={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:Cr,ReactCurrentOwner:as};function Mc(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Xo,forEach:function(t,e,n){Xo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xo(t,function(){e++}),e},toArray:function(t){return Xo(t,function(e){return e})||[]},only:function(t){if(!us(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=Hn;G.Fragment=Jf;G.Profiler=Xf;G.PureComponent=is;G.StrictMode=Qf;G.Suspense=np;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=up;G.act=Mc;G.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=Tc({},t.props),r=t.key,l=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(l=e.ref,i=as.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(d in e)Nc.call(e,d)&&!_c.hasOwnProperty(d)&&(o[d]=e[d]===void 0&&u!==void 0?u[d]:e[d])}var d=arguments.length-2;if(d===1)o.children=n;else if(1<d){u=Array(d);for(var f=0;f<d;f++)u[f]=arguments[f+2];o.children=u}return{$$typeof:Vo,type:t.type,key:r,ref:l,props:o,_owner:i}};G.createContext=function(t){return t={$$typeof:ep,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Zf,_context:t},t.Consumer=t};G.createElement=Ic;G.createFactory=function(t){var e=Ic.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:tp,render:t}};G.isValidElement=us;G.lazy=function(t){return{$$typeof:rp,_payload:{_status:-1,_result:t},_init:ap}};G.memo=function(t,e){return{$$typeof:op,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=Cr.transition;Cr.transition={};try{t()}finally{Cr.transition=e}};G.unstable_act=Mc;G.useCallback=function(t,e){return Me.current.useCallback(t,e)};G.useContext=function(t){return Me.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return Me.current.useDeferredValue(t)};G.useEffect=function(t,e){return Me.current.useEffect(t,e)};G.useId=function(){return Me.current.useId()};G.useImperativeHandle=function(t,e,n){return Me.current.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return Me.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return Me.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return Me.current.useMemo(t,e)};G.useReducer=function(t,e,n){return Me.current.useReducer(t,e,n)};G.useRef=function(t){return Me.current.useRef(t)};G.useState=function(t){return Me.current.useState(t)};G.useSyncExternalStore=function(t,e,n){return Me.current.useSyncExternalStore(t,e,n)};G.useTransition=function(){return Me.current.useTransition()};G.version="18.3.1";Cc.exports=G;var E=Cc.exports;const cp=Wf(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp=E,fp=Symbol.for("react.element"),pp=Symbol.for("react.fragment"),mp=Object.prototype.hasOwnProperty,hp=dp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gp={key:!0,ref:!0,__self:!0,__source:!0};function kc(t,e,n){var o,r={},l=null,i=null;n!==void 0&&(l=""+n),e.key!==void 0&&(l=""+e.key),e.ref!==void 0&&(i=e.ref);for(o in e)mp.call(e,o)&&!gp.hasOwnProperty(o)&&(r[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)r[o]===void 0&&(r[o]=e[o]);return{$$typeof:fp,type:t,key:l,ref:i,props:r,_owner:hp.current}}sl.Fragment=pp;sl.jsx=kc;sl.jsxs=kc;vc.exports=sl;var c=vc.exports,Rr={},Dc={exports:{}},Ge={},Ac={exports:{}},Pc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,U){var j=P.length;P.push(U);e:for(;0<j;){var q=j-1>>>1,ne=P[q];if(0<r(ne,U))P[q]=U,P[j]=ne,j=q;else break e}}function n(P){return P.length===0?null:P[0]}function o(P){if(P.length===0)return null;var U=P[0],j=P.pop();if(j!==U){P[0]=j;e:for(var q=0,ne=P.length,Mt=ne>>>1;q<Mt;){var be=2*(q+1)-1,Ee=P[be],Oe=be+1,Ne=P[Oe];if(0>r(Ee,j))Oe<ne&&0>r(Ne,Ee)?(P[q]=Ne,P[Oe]=j,q=Oe):(P[q]=Ee,P[be]=j,q=be);else if(Oe<ne&&0>r(Ne,j))P[q]=Ne,P[Oe]=j,q=Oe;else break e}}return U}function r(P,U){var j=P.sortIndex-U.sortIndex;return j!==0?j:P.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,u=i.now();t.unstable_now=function(){return i.now()-u}}var d=[],f=[],p=1,m=null,h=3,y=!1,C=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(P){for(var U=n(f);U!==null;){if(U.callback===null)o(f);else if(U.startTime<=P)o(f),U.sortIndex=U.expirationTime,e(d,U);else break;U=n(f)}}function T(P){if(S=!1,v(P),!C)if(n(d)!==null)C=!0,mt(w);else{var U=n(f);U!==null&&It(T,U.startTime-P)}}function w(P,U){C=!1,S&&(S=!1,x(A),A=-1),y=!0;var j=h;try{for(v(U),m=n(d);m!==null&&(!(m.expirationTime>U)||P&&!Z());){var q=m.callback;if(typeof q=="function"){m.callback=null,h=m.priorityLevel;var ne=q(m.expirationTime<=U);U=t.unstable_now(),typeof ne=="function"?m.callback=ne:m===n(d)&&o(d),v(U)}else o(d);m=n(d)}if(m!==null)var Mt=!0;else{var be=n(f);be!==null&&It(T,be.startTime-U),Mt=!1}return Mt}finally{m=null,h=j,y=!1}}var M=!1,D=null,A=-1,$=5,L=-1;function Z(){return!(t.unstable_now()-L<$)}function qe(){if(D!==null){var P=t.unstable_now();L=P;var U=!0;try{U=D(!0,P)}finally{U?xe():(M=!1,D=null)}}else M=!1}var xe;if(typeof g=="function")xe=function(){g(qe)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,pt=ue.port2;ue.port1.onmessage=qe,xe=function(){pt.postMessage(null)}}else xe=function(){I(qe,0)};function mt(P){D=P,M||(M=!0,xe())}function It(P,U){A=I(function(){P(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){C||y||(C=!0,mt(w))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var j=h;h=U;try{return P()}finally{h=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,U){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var j=h;h=P;try{return U()}finally{h=j}},t.unstable_scheduleCallback=function(P,U,j){var q=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?q+j:q):j=q,P){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=j+ne,P={id:p++,callback:U,priorityLevel:P,startTime:j,expirationTime:ne,sortIndex:-1},j>q?(P.sortIndex=j,e(f,P),n(d)===null&&P===n(f)&&(S?(x(A),A=-1):S=!0,It(T,j-q))):(P.sortIndex=ne,e(d,P),C||y||(C=!0,mt(w))),P},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(P){var U=h;return function(){var j=h;h=U;try{return P.apply(this,arguments)}finally{h=j}}}})(Pc);Ac.exports=Pc;var xp=Ac.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp=E,ze=xp;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rc=new Set,So={};function mn(t,e){Un(t,e),Un(t+"Capture",e)}function Un(t,e){for(So[t]=e,t=0;t<e.length;t++)Rc.add(e[t])}var Tt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ri=Object.prototype.hasOwnProperty,vp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ia={},sa={};function Cp(t){return ri.call(sa,t)?!0:ri.call(ia,t)?!1:vp.test(t)?sa[t]=!0:(ia[t]=!0,!1)}function Sp(t,e,n,o){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Tp(t,e,n,o){if(e===null||typeof e>"u"||Sp(t,e,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ke(t,e,n,o,r,l,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=l,this.removeEmptyString=i}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ge[t]=new ke(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ge[e]=new ke(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ge[t]=new ke(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ge[t]=new ke(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ge[t]=new ke(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ge[t]=new ke(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ge[t]=new ke(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ge[t]=new ke(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ge[t]=new ke(t,5,!1,t.toLowerCase(),null,!1,!1)});var cs=/[\-:]([a-z])/g;function ds(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cs,ds);ge[e]=new ke(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cs,ds);ge[e]=new ke(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cs,ds);ge[e]=new ke(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ge[t]=new ke(t,1,!1,t.toLowerCase(),null,!1,!1)});ge.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ge[t]=new ke(t,1,!1,t.toLowerCase(),null,!0,!0)});function fs(t,e,n,o){var r=ge.hasOwnProperty(e)?ge[e]:null;(r!==null?r.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Tp(e,n,r,o)&&(n=null),o||r===null?Cp(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,o=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?t.setAttributeNS(o,e,n):t.setAttribute(e,n))))}var _t=yp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zo=Symbol.for("react.element"),yn=Symbol.for("react.portal"),vn=Symbol.for("react.fragment"),ps=Symbol.for("react.strict_mode"),li=Symbol.for("react.profiler"),Fc=Symbol.for("react.provider"),Lc=Symbol.for("react.context"),ms=Symbol.for("react.forward_ref"),ii=Symbol.for("react.suspense"),si=Symbol.for("react.suspense_list"),hs=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),bc=Symbol.for("react.offscreen"),aa=Symbol.iterator;function Zn(t){return t===null||typeof t!="object"?null:(t=aa&&t[aa]||t["@@iterator"],typeof t=="function"?t:null)}var le=Object.assign,Pl;function so(t){if(Pl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pl=e&&e[1]||""}return`
`+Pl+t}var Rl=!1;function Fl(t,e){if(!t||Rl)return"";Rl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var o=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){o=f}t.call(e.prototype)}else{try{throw Error()}catch(f){o=f}t()}}catch(f){if(f&&o&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),l=o.stack.split(`
`),i=r.length-1,u=l.length-1;1<=i&&0<=u&&r[i]!==l[u];)u--;for(;1<=i&&0<=u;i--,u--)if(r[i]!==l[u]){if(i!==1||u!==1)do if(i--,u--,0>u||r[i]!==l[u]){var d=`
`+r[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=u);break}}}finally{Rl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?so(t):""}function wp(t){switch(t.tag){case 5:return so(t.type);case 16:return so("Lazy");case 13:return so("Suspense");case 19:return so("SuspenseList");case 0:case 2:case 15:return t=Fl(t.type,!1),t;case 11:return t=Fl(t.type.render,!1),t;case 1:return t=Fl(t.type,!0),t;default:return""}}function ai(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vn:return"Fragment";case yn:return"Portal";case li:return"Profiler";case ps:return"StrictMode";case ii:return"Suspense";case si:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lc:return(t.displayName||"Context")+".Consumer";case Fc:return(t._context.displayName||"Context")+".Provider";case ms:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hs:return e=t.displayName||null,e!==null?e:ai(t.type)||"Memo";case At:e=t._payload,t=t._init;try{return ai(t(e))}catch{}}return null}function Ep(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ai(e);case 8:return e===ps?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ot(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Np(t){var e=Uc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,l=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(i){o=""+i,l.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(i){o=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function er(t){t._valueTracker||(t._valueTracker=Np(t))}function Vc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),o="";return t&&(o=Uc(t)?t.checked?"true":"false":t.value),t=o,t!==n?(e.setValue(t),!0):!1}function Fr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ui(t,e){var n=e.checked;return le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ua(t,e){var n=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;n=Ot(e.value!=null?e.value:n),t._wrapperState={initialChecked:o,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jc(t,e){e=e.checked,e!=null&&fs(t,"checked",e,!1)}function ci(t,e){jc(t,e);var n=Ot(e.value),o=e.type;if(n!=null)o==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?di(t,e.type,n):e.hasOwnProperty("defaultValue")&&di(t,e.type,Ot(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ca(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function di(t,e,n){(e!=="number"||Fr(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ao=Array.isArray;function Dn(t,e,n,o){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&o&&(t[n].defaultSelected=!0)}else{for(n=""+Ot(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,o&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function fi(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function da(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(k(92));if(ao(n)){if(1<n.length)throw Error(k(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ot(n)}}function $c(t,e){var n=Ot(e.value),o=Ot(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),o!=null&&(t.defaultValue=""+o)}function fa(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pi(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tr,Gc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,o,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,o,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(tr=tr||document.createElement("div"),tr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function To(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_p=["Webkit","ms","Moz","O"];Object.keys(fo).forEach(function(t){_p.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fo[e]=fo[t]})});function Bc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fo.hasOwnProperty(t)&&fo[t]?(""+e).trim():e+"px"}function qc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=Bc(n,e[n],o);n==="float"&&(n="cssFloat"),o?t.setProperty(n,r):t[n]=r}}var Ip=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mi(t,e){if(e){if(Ip[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function hi(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gi=null;function gs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xi=null,An=null,Pn=null;function pa(t){if(t=zo(t)){if(typeof xi!="function")throw Error(k(280));var e=t.stateNode;e&&(e=fl(e),xi(t.stateNode,t.type,e))}}function Oc(t){An?Pn?Pn.push(t):Pn=[t]:An=t}function Hc(){if(An){var t=An,e=Pn;if(Pn=An=null,pa(t),e)for(t=0;t<e.length;t++)pa(e[t])}}function Yc(t,e){return t(e)}function Wc(){}var Ll=!1;function Kc(t,e,n){if(Ll)return t(e,n);Ll=!0;try{return Yc(t,e,n)}finally{Ll=!1,(An!==null||Pn!==null)&&(Wc(),Hc())}}function wo(t,e){var n=t.stateNode;if(n===null)return null;var o=fl(n);if(o===null)return null;n=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var yi=!1;if(Tt)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){yi=!0}}),window.addEventListener("test",eo,eo),window.removeEventListener("test",eo,eo)}catch{yi=!1}function Mp(t,e,n,o,r,l,i,u,d){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(p){this.onError(p)}}var po=!1,Lr=null,br=!1,vi=null,kp={onError:function(t){po=!0,Lr=t}};function Dp(t,e,n,o,r,l,i,u,d){po=!1,Lr=null,Mp.apply(kp,arguments)}function Ap(t,e,n,o,r,l,i,u,d){if(Dp.apply(this,arguments),po){if(po){var f=Lr;po=!1,Lr=null}else throw Error(k(198));br||(br=!0,vi=f)}}function hn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Jc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ma(t){if(hn(t)!==t)throw Error(k(188))}function Pp(t){var e=t.alternate;if(!e){if(e=hn(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,o=e;;){var r=n.return;if(r===null)break;var l=r.alternate;if(l===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===n)return ma(r),t;if(l===o)return ma(r),e;l=l.sibling}throw Error(k(188))}if(n.return!==o.return)n=r,o=l;else{for(var i=!1,u=r.child;u;){if(u===n){i=!0,n=r,o=l;break}if(u===o){i=!0,o=r,n=l;break}u=u.sibling}if(!i){for(u=l.child;u;){if(u===n){i=!0,n=l,o=r;break}if(u===o){i=!0,o=l,n=r;break}u=u.sibling}if(!i)throw Error(k(189))}}if(n.alternate!==o)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function Qc(t){return t=Pp(t),t!==null?Xc(t):null}function Xc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Xc(t);if(e!==null)return e;t=t.sibling}return null}var Zc=ze.unstable_scheduleCallback,ha=ze.unstable_cancelCallback,Rp=ze.unstable_shouldYield,Fp=ze.unstable_requestPaint,se=ze.unstable_now,Lp=ze.unstable_getCurrentPriorityLevel,xs=ze.unstable_ImmediatePriority,ed=ze.unstable_UserBlockingPriority,Ur=ze.unstable_NormalPriority,bp=ze.unstable_LowPriority,td=ze.unstable_IdlePriority,al=null,dt=null;function Up(t){if(dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(al,t,void 0,(t.current.flags&128)===128)}catch{}}var ot=Math.clz32?Math.clz32:$p,Vp=Math.log,jp=Math.LN2;function $p(t){return t>>>=0,t===0?32:31-(Vp(t)/jp|0)|0}var nr=64,or=4194304;function uo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vr(t,e){var n=t.pendingLanes;if(n===0)return 0;var o=0,r=t.suspendedLanes,l=t.pingedLanes,i=n&268435455;if(i!==0){var u=i&~r;u!==0?o=uo(u):(l&=i,l!==0&&(o=uo(l)))}else i=n&~r,i!==0?o=uo(i):l!==0&&(o=uo(l));if(o===0)return 0;if(e!==0&&e!==o&&!(e&r)&&(r=o&-o,l=e&-e,r>=l||r===16&&(l&4194240)!==0))return e;if(o&4&&(o|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=o;0<e;)n=31-ot(e),r=1<<n,o|=t[n],e&=~r;return o}function zp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gp(t,e){for(var n=t.suspendedLanes,o=t.pingedLanes,r=t.expirationTimes,l=t.pendingLanes;0<l;){var i=31-ot(l),u=1<<i,d=r[i];d===-1?(!(u&n)||u&o)&&(r[i]=zp(u,e)):d<=e&&(t.expiredLanes|=u),l&=~u}}function Ci(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nd(){var t=nr;return nr<<=1,!(nr&4194240)&&(nr=64),t}function bl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ot(e),t[e]=n}function Bp(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-ot(n),l=1<<r;e[r]=0,o[r]=-1,t[r]=-1,n&=~l}}function ys(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var o=31-ot(n),r=1<<o;r&e|t[o]&e&&(t[o]|=e),n&=~r}}var K=0;function od(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rd,vs,ld,id,sd,Si=!1,rr=[],Ut=null,Vt=null,jt=null,Eo=new Map,No=new Map,Rt=[],qp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ga(t,e){switch(t){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":Vt=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":Eo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(e.pointerId)}}function to(t,e,n,o,r,l){return t===null||t.nativeEvent!==l?(t={blockedOn:e,domEventName:n,eventSystemFlags:o,nativeEvent:l,targetContainers:[r]},e!==null&&(e=zo(e),e!==null&&vs(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Op(t,e,n,o,r){switch(e){case"focusin":return Ut=to(Ut,t,e,n,o,r),!0;case"dragenter":return Vt=to(Vt,t,e,n,o,r),!0;case"mouseover":return jt=to(jt,t,e,n,o,r),!0;case"pointerover":var l=r.pointerId;return Eo.set(l,to(Eo.get(l)||null,t,e,n,o,r)),!0;case"gotpointercapture":return l=r.pointerId,No.set(l,to(No.get(l)||null,t,e,n,o,r)),!0}return!1}function ad(t){var e=on(t.target);if(e!==null){var n=hn(e);if(n!==null){if(e=n.tag,e===13){if(e=Jc(n),e!==null){t.blockedOn=e,sd(t.priority,function(){ld(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sr(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ti(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var o=new n.constructor(n.type,n);gi=o,n.target.dispatchEvent(o),gi=null}else return e=zo(n),e!==null&&vs(e),t.blockedOn=n,!1;e.shift()}return!0}function xa(t,e,n){Sr(t)&&n.delete(e)}function Hp(){Si=!1,Ut!==null&&Sr(Ut)&&(Ut=null),Vt!==null&&Sr(Vt)&&(Vt=null),jt!==null&&Sr(jt)&&(jt=null),Eo.forEach(xa),No.forEach(xa)}function no(t,e){t.blockedOn===e&&(t.blockedOn=null,Si||(Si=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,Hp)))}function _o(t){function e(r){return no(r,t)}if(0<rr.length){no(rr[0],t);for(var n=1;n<rr.length;n++){var o=rr[n];o.blockedOn===t&&(o.blockedOn=null)}}for(Ut!==null&&no(Ut,t),Vt!==null&&no(Vt,t),jt!==null&&no(jt,t),Eo.forEach(e),No.forEach(e),n=0;n<Rt.length;n++)o=Rt[n],o.blockedOn===t&&(o.blockedOn=null);for(;0<Rt.length&&(n=Rt[0],n.blockedOn===null);)ad(n),n.blockedOn===null&&Rt.shift()}var Rn=_t.ReactCurrentBatchConfig,jr=!0;function Yp(t,e,n,o){var r=K,l=Rn.transition;Rn.transition=null;try{K=1,Cs(t,e,n,o)}finally{K=r,Rn.transition=l}}function Wp(t,e,n,o){var r=K,l=Rn.transition;Rn.transition=null;try{K=4,Cs(t,e,n,o)}finally{K=r,Rn.transition=l}}function Cs(t,e,n,o){if(jr){var r=Ti(t,e,n,o);if(r===null)Hl(t,e,o,$r,n),ga(t,o);else if(Op(r,t,e,n,o))o.stopPropagation();else if(ga(t,o),e&4&&-1<qp.indexOf(t)){for(;r!==null;){var l=zo(r);if(l!==null&&rd(l),l=Ti(t,e,n,o),l===null&&Hl(t,e,o,$r,n),l===r)break;r=l}r!==null&&o.stopPropagation()}else Hl(t,e,o,null,n)}}var $r=null;function Ti(t,e,n,o){if($r=null,t=gs(o),t=on(t),t!==null)if(e=hn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Jc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $r=t,null}function ud(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lp()){case xs:return 1;case ed:return 4;case Ur:case bp:return 16;case td:return 536870912;default:return 16}default:return 16}}var Lt=null,Ss=null,Tr=null;function cd(){if(Tr)return Tr;var t,e=Ss,n=e.length,o,r="value"in Lt?Lt.value:Lt.textContent,l=r.length;for(t=0;t<n&&e[t]===r[t];t++);var i=n-t;for(o=1;o<=i&&e[n-o]===r[l-o];o++);return Tr=r.slice(t,1<o?1-o:void 0)}function wr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lr(){return!0}function ya(){return!1}function Be(t){function e(n,o,r,l,i){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(l):l[u]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?lr:ya,this.isPropagationStopped=ya,this}return le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),e}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ts=Be(Yn),$o=le({},Yn,{view:0,detail:0}),Kp=Be($o),Ul,Vl,oo,ul=le({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oo&&(oo&&t.type==="mousemove"?(Ul=t.screenX-oo.screenX,Vl=t.screenY-oo.screenY):Vl=Ul=0,oo=t),Ul)},movementY:function(t){return"movementY"in t?t.movementY:Vl}}),va=Be(ul),Jp=le({},ul,{dataTransfer:0}),Qp=Be(Jp),Xp=le({},$o,{relatedTarget:0}),jl=Be(Xp),Zp=le({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),em=Be(Zp),tm=le({},Yn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nm=Be(tm),om=le({},Yn,{data:0}),Ca=Be(om),rm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},im={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=im[t])?!!e[t]:!1}function ws(){return sm}var am=le({},$o,{key:function(t){if(t.key){var e=rm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(t){return t.type==="keypress"?wr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),um=Be(am),cm=le({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sa=Be(cm),dm=le({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),fm=Be(dm),pm=le({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),mm=Be(pm),hm=le({},ul,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gm=Be(hm),xm=[9,13,27,32],Es=Tt&&"CompositionEvent"in window,mo=null;Tt&&"documentMode"in document&&(mo=document.documentMode);var ym=Tt&&"TextEvent"in window&&!mo,dd=Tt&&(!Es||mo&&8<mo&&11>=mo),Ta=" ",wa=!1;function fd(t,e){switch(t){case"keyup":return xm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cn=!1;function vm(t,e){switch(t){case"compositionend":return pd(e);case"keypress":return e.which!==32?null:(wa=!0,Ta);case"textInput":return t=e.data,t===Ta&&wa?null:t;default:return null}}function Cm(t,e){if(Cn)return t==="compositionend"||!Es&&fd(t,e)?(t=cd(),Tr=Ss=Lt=null,Cn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dd&&e.locale!=="ko"?null:e.data;default:return null}}var Sm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ea(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Sm[t.type]:e==="textarea"}function md(t,e,n,o){Oc(o),e=zr(e,"onChange"),0<e.length&&(n=new Ts("onChange","change",null,n,o),t.push({event:n,listeners:e}))}var ho=null,Io=null;function Tm(t){Nd(t,0)}function cl(t){var e=wn(t);if(Vc(e))return t}function wm(t,e){if(t==="change")return e}var hd=!1;if(Tt){var $l;if(Tt){var zl="oninput"in document;if(!zl){var Na=document.createElement("div");Na.setAttribute("oninput","return;"),zl=typeof Na.oninput=="function"}$l=zl}else $l=!1;hd=$l&&(!document.documentMode||9<document.documentMode)}function _a(){ho&&(ho.detachEvent("onpropertychange",gd),Io=ho=null)}function gd(t){if(t.propertyName==="value"&&cl(Io)){var e=[];md(e,Io,t,gs(t)),Kc(Tm,e)}}function Em(t,e,n){t==="focusin"?(_a(),ho=e,Io=n,ho.attachEvent("onpropertychange",gd)):t==="focusout"&&_a()}function Nm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cl(Io)}function _m(t,e){if(t==="click")return cl(e)}function Im(t,e){if(t==="input"||t==="change")return cl(e)}function Mm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lt=typeof Object.is=="function"?Object.is:Mm;function Mo(t,e){if(lt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!ri.call(e,r)||!lt(t[r],e[r]))return!1}return!0}function Ia(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ma(t,e){var n=Ia(t);t=0;for(var o;n;){if(n.nodeType===3){if(o=t+n.textContent.length,t<=e&&o>=e)return{node:n,offset:e-t};t=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ia(n)}}function xd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yd(){for(var t=window,e=Fr();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fr(t.document)}return e}function Ns(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function km(t){var e=yd(),n=t.focusedElem,o=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xd(n.ownerDocument.documentElement,n)){if(o!==null&&Ns(n)){if(e=o.start,t=o.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,l=Math.min(o.start,r);o=o.end===void 0?l:Math.min(o.end,r),!t.extend&&l>o&&(r=o,o=l,l=r),r=Ma(n,l);var i=Ma(n,o);r&&i&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),l>o?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Dm=Tt&&"documentMode"in document&&11>=document.documentMode,Sn=null,wi=null,go=null,Ei=!1;function ka(t,e,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ei||Sn==null||Sn!==Fr(o)||(o=Sn,"selectionStart"in o&&Ns(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),go&&Mo(go,o)||(go=o,o=zr(wi,"onSelect"),0<o.length&&(e=new Ts("onSelect","select",null,e,n),t.push({event:e,listeners:o}),e.target=Sn)))}function ir(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Tn={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionend:ir("Transition","TransitionEnd")},Gl={},vd={};Tt&&(vd=document.createElement("div").style,"AnimationEvent"in window||(delete Tn.animationend.animation,delete Tn.animationiteration.animation,delete Tn.animationstart.animation),"TransitionEvent"in window||delete Tn.transitionend.transition);function dl(t){if(Gl[t])return Gl[t];if(!Tn[t])return t;var e=Tn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vd)return Gl[t]=e[n];return t}var Cd=dl("animationend"),Sd=dl("animationiteration"),Td=dl("animationstart"),wd=dl("transitionend"),Ed=new Map,Da="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(t,e){Ed.set(t,e),mn(e,[t])}for(var Bl=0;Bl<Da.length;Bl++){var ql=Da[Bl],Am=ql.toLowerCase(),Pm=ql[0].toUpperCase()+ql.slice(1);Yt(Am,"on"+Pm)}Yt(Cd,"onAnimationEnd");Yt(Sd,"onAnimationIteration");Yt(Td,"onAnimationStart");Yt("dblclick","onDoubleClick");Yt("focusin","onFocus");Yt("focusout","onBlur");Yt(wd,"onTransitionEnd");Un("onMouseEnter",["mouseout","mouseover"]);Un("onMouseLeave",["mouseout","mouseover"]);Un("onPointerEnter",["pointerout","pointerover"]);Un("onPointerLeave",["pointerout","pointerover"]);mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mn("onBeforeInput",["compositionend","keypress","textInput","paste"]);mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rm=new Set("cancel close invalid load scroll toggle".split(" ").concat(co));function Aa(t,e,n){var o=t.type||"unknown-event";t.currentTarget=n,Ap(o,e,void 0,t),t.currentTarget=null}function Nd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var o=t[n],r=o.event;o=o.listeners;e:{var l=void 0;if(e)for(var i=o.length-1;0<=i;i--){var u=o[i],d=u.instance,f=u.currentTarget;if(u=u.listener,d!==l&&r.isPropagationStopped())break e;Aa(r,u,f),l=d}else for(i=0;i<o.length;i++){if(u=o[i],d=u.instance,f=u.currentTarget,u=u.listener,d!==l&&r.isPropagationStopped())break e;Aa(r,u,f),l=d}}}if(br)throw t=vi,br=!1,vi=null,t}function Q(t,e){var n=e[ki];n===void 0&&(n=e[ki]=new Set);var o=t+"__bubble";n.has(o)||(_d(e,t,2,!1),n.add(o))}function Ol(t,e,n){var o=0;e&&(o|=4),_d(n,t,o,e)}var sr="_reactListening"+Math.random().toString(36).slice(2);function ko(t){if(!t[sr]){t[sr]=!0,Rc.forEach(function(n){n!=="selectionchange"&&(Rm.has(n)||Ol(n,!1,t),Ol(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sr]||(e[sr]=!0,Ol("selectionchange",!1,e))}}function _d(t,e,n,o){switch(ud(e)){case 1:var r=Yp;break;case 4:r=Wp;break;default:r=Cs}n=r.bind(null,e,n,t),r=void 0,!yi||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),o?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Hl(t,e,n,o,r){var l=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var i=o.tag;if(i===3||i===4){var u=o.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(i===4)for(i=o.return;i!==null;){var d=i.tag;if((d===3||d===4)&&(d=i.stateNode.containerInfo,d===r||d.nodeType===8&&d.parentNode===r))return;i=i.return}for(;u!==null;){if(i=on(u),i===null)return;if(d=i.tag,d===5||d===6){o=l=i;continue e}u=u.parentNode}}o=o.return}Kc(function(){var f=l,p=gs(n),m=[];e:{var h=Ed.get(t);if(h!==void 0){var y=Ts,C=t;switch(t){case"keypress":if(wr(n)===0)break e;case"keydown":case"keyup":y=um;break;case"focusin":C="focus",y=jl;break;case"focusout":C="blur",y=jl;break;case"beforeblur":case"afterblur":y=jl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=va;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Qp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=fm;break;case Cd:case Sd:case Td:y=em;break;case wd:y=mm;break;case"scroll":y=Kp;break;case"wheel":y=gm;break;case"copy":case"cut":case"paste":y=nm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Sa}var S=(e&4)!==0,I=!S&&t==="scroll",x=S?h!==null?h+"Capture":null:h;S=[];for(var g=f,v;g!==null;){v=g;var T=v.stateNode;if(v.tag===5&&T!==null&&(v=T,x!==null&&(T=wo(g,x),T!=null&&S.push(Do(g,T,v)))),I)break;g=g.return}0<S.length&&(h=new y(h,C,null,n,p),m.push({event:h,listeners:S}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==gi&&(C=n.relatedTarget||n.fromElement)&&(on(C)||C[wt]))break e;if((y||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,y?(C=n.relatedTarget||n.toElement,y=f,C=C?on(C):null,C!==null&&(I=hn(C),C!==I||C.tag!==5&&C.tag!==6)&&(C=null)):(y=null,C=f),y!==C)){if(S=va,T="onMouseLeave",x="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(S=Sa,T="onPointerLeave",x="onPointerEnter",g="pointer"),I=y==null?h:wn(y),v=C==null?h:wn(C),h=new S(T,g+"leave",y,n,p),h.target=I,h.relatedTarget=v,T=null,on(p)===f&&(S=new S(x,g+"enter",C,n,p),S.target=v,S.relatedTarget=I,T=S),I=T,y&&C)t:{for(S=y,x=C,g=0,v=S;v;v=xn(v))g++;for(v=0,T=x;T;T=xn(T))v++;for(;0<g-v;)S=xn(S),g--;for(;0<v-g;)x=xn(x),v--;for(;g--;){if(S===x||x!==null&&S===x.alternate)break t;S=xn(S),x=xn(x)}S=null}else S=null;y!==null&&Pa(m,h,y,S,!1),C!==null&&I!==null&&Pa(m,I,C,S,!0)}}e:{if(h=f?wn(f):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var w=wm;else if(Ea(h))if(hd)w=Im;else{w=Nm;var M=Em}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=_m);if(w&&(w=w(t,f))){md(m,w,n,p);break e}M&&M(t,h,f),t==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&di(h,"number",h.value)}switch(M=f?wn(f):window,t){case"focusin":(Ea(M)||M.contentEditable==="true")&&(Sn=M,wi=f,go=null);break;case"focusout":go=wi=Sn=null;break;case"mousedown":Ei=!0;break;case"contextmenu":case"mouseup":case"dragend":Ei=!1,ka(m,n,p);break;case"selectionchange":if(Dm)break;case"keydown":case"keyup":ka(m,n,p)}var D;if(Es)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Cn?fd(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(dd&&n.locale!=="ko"&&(Cn||A!=="onCompositionStart"?A==="onCompositionEnd"&&Cn&&(D=cd()):(Lt=p,Ss="value"in Lt?Lt.value:Lt.textContent,Cn=!0)),M=zr(f,A),0<M.length&&(A=new Ca(A,t,null,n,p),m.push({event:A,listeners:M}),D?A.data=D:(D=pd(n),D!==null&&(A.data=D)))),(D=ym?vm(t,n):Cm(t,n))&&(f=zr(f,"onBeforeInput"),0<f.length&&(p=new Ca("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:f}),p.data=D))}Nd(m,e)})}function Do(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zr(t,e){for(var n=e+"Capture",o=[];t!==null;){var r=t,l=r.stateNode;r.tag===5&&l!==null&&(r=l,l=wo(t,n),l!=null&&o.unshift(Do(t,l,r)),l=wo(t,e),l!=null&&o.push(Do(t,l,r))),t=t.return}return o}function xn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pa(t,e,n,o,r){for(var l=e._reactName,i=[];n!==null&&n!==o;){var u=n,d=u.alternate,f=u.stateNode;if(d!==null&&d===o)break;u.tag===5&&f!==null&&(u=f,r?(d=wo(n,l),d!=null&&i.unshift(Do(n,d,u))):r||(d=wo(n,l),d!=null&&i.push(Do(n,d,u)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var Fm=/\r\n?/g,Lm=/\u0000|\uFFFD/g;function Ra(t){return(typeof t=="string"?t:""+t).replace(Fm,`
`).replace(Lm,"")}function ar(t,e,n){if(e=Ra(e),Ra(t)!==e&&n)throw Error(k(425))}function Gr(){}var Ni=null,_i=null;function Ii(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mi=typeof setTimeout=="function"?setTimeout:void 0,bm=typeof clearTimeout=="function"?clearTimeout:void 0,Fa=typeof Promise=="function"?Promise:void 0,Um=typeof queueMicrotask=="function"?queueMicrotask:typeof Fa<"u"?function(t){return Fa.resolve(null).then(t).catch(Vm)}:Mi;function Vm(t){setTimeout(function(){throw t})}function Yl(t,e){var n=e,o=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){t.removeChild(r),_o(e);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);_o(e)}function $t(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function La(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wn=Math.random().toString(36).slice(2),ct="__reactFiber$"+Wn,Ao="__reactProps$"+Wn,wt="__reactContainer$"+Wn,ki="__reactEvents$"+Wn,jm="__reactListeners$"+Wn,$m="__reactHandles$"+Wn;function on(t){var e=t[ct];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wt]||n[ct]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=La(t);t!==null;){if(n=t[ct])return n;t=La(t)}return e}t=n,n=t.parentNode}return null}function zo(t){return t=t[ct]||t[wt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function fl(t){return t[Ao]||null}var Di=[],En=-1;function Wt(t){return{current:t}}function X(t){0>En||(t.current=Di[En],Di[En]=null,En--)}function J(t,e){En++,Di[En]=t.current,t.current=e}var Ht={},we=Wt(Ht),Re=Wt(!1),un=Ht;function Vn(t,e){var n=t.type.contextTypes;if(!n)return Ht;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var r={},l;for(l in n)r[l]=e[l];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Fe(t){return t=t.childContextTypes,t!=null}function Br(){X(Re),X(we)}function ba(t,e,n){if(we.current!==Ht)throw Error(k(168));J(we,e),J(Re,n)}function Id(t,e,n){var o=t.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in e))throw Error(k(108,Ep(t)||"Unknown",r));return le({},n,o)}function qr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ht,un=we.current,J(we,t),J(Re,Re.current),!0}function Ua(t,e,n){var o=t.stateNode;if(!o)throw Error(k(169));n?(t=Id(t,e,un),o.__reactInternalMemoizedMergedChildContext=t,X(Re),X(we),J(we,t)):X(Re),J(Re,n)}var yt=null,pl=!1,Wl=!1;function Md(t){yt===null?yt=[t]:yt.push(t)}function zm(t){pl=!0,Md(t)}function Kt(){if(!Wl&&yt!==null){Wl=!0;var t=0,e=K;try{var n=yt;for(K=1;t<n.length;t++){var o=n[t];do o=o(!0);while(o!==null)}yt=null,pl=!1}catch(r){throw yt!==null&&(yt=yt.slice(t+1)),Zc(xs,Kt),r}finally{K=e,Wl=!1}}return null}var Nn=[],_n=0,Or=null,Hr=0,He=[],Ye=0,cn=null,vt=1,Ct="";function en(t,e){Nn[_n++]=Hr,Nn[_n++]=Or,Or=t,Hr=e}function kd(t,e,n){He[Ye++]=vt,He[Ye++]=Ct,He[Ye++]=cn,cn=t;var o=vt;t=Ct;var r=32-ot(o)-1;o&=~(1<<r),n+=1;var l=32-ot(e)+r;if(30<l){var i=r-r%5;l=(o&(1<<i)-1).toString(32),o>>=i,r-=i,vt=1<<32-ot(e)+r|n<<r|o,Ct=l+t}else vt=1<<l|n<<r|o,Ct=t}function _s(t){t.return!==null&&(en(t,1),kd(t,1,0))}function Is(t){for(;t===Or;)Or=Nn[--_n],Nn[_n]=null,Hr=Nn[--_n],Nn[_n]=null;for(;t===cn;)cn=He[--Ye],He[Ye]=null,Ct=He[--Ye],He[Ye]=null,vt=He[--Ye],He[Ye]=null}var $e=null,je=null,ee=!1,nt=null;function Dd(t,e){var n=We(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Va(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$e=t,je=$t(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$e=t,je=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cn!==null?{id:vt,overflow:Ct}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=We(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$e=t,je=null,!0):!1;default:return!1}}function Ai(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pi(t){if(ee){var e=je;if(e){var n=e;if(!Va(t,e)){if(Ai(t))throw Error(k(418));e=$t(n.nextSibling);var o=$e;e&&Va(t,e)?Dd(o,n):(t.flags=t.flags&-4097|2,ee=!1,$e=t)}}else{if(Ai(t))throw Error(k(418));t.flags=t.flags&-4097|2,ee=!1,$e=t}}}function ja(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$e=t}function ur(t){if(t!==$e)return!1;if(!ee)return ja(t),ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ii(t.type,t.memoizedProps)),e&&(e=je)){if(Ai(t))throw Ad(),Error(k(418));for(;e;)Dd(t,e),e=$t(e.nextSibling)}if(ja(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){je=$t(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}je=null}}else je=$e?$t(t.stateNode.nextSibling):null;return!0}function Ad(){for(var t=je;t;)t=$t(t.nextSibling)}function jn(){je=$e=null,ee=!1}function Ms(t){nt===null?nt=[t]:nt.push(t)}var Gm=_t.ReactCurrentBatchConfig;function ro(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var o=n.stateNode}if(!o)throw Error(k(147,t));var r=o,l=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===l?e.ref:(e=function(i){var u=r.refs;i===null?delete u[l]:u[l]=i},e._stringRef=l,e)}if(typeof t!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,t))}return t}function cr(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $a(t){var e=t._init;return e(t._payload)}function Pd(t){function e(x,g){if(t){var v=x.deletions;v===null?(x.deletions=[g],x.flags|=16):v.push(g)}}function n(x,g){if(!t)return null;for(;g!==null;)e(x,g),g=g.sibling;return null}function o(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function r(x,g){return x=qt(x,g),x.index=0,x.sibling=null,x}function l(x,g,v){return x.index=v,t?(v=x.alternate,v!==null?(v=v.index,v<g?(x.flags|=2,g):v):(x.flags|=2,g)):(x.flags|=1048576,g)}function i(x){return t&&x.alternate===null&&(x.flags|=2),x}function u(x,g,v,T){return g===null||g.tag!==6?(g=ti(v,x.mode,T),g.return=x,g):(g=r(g,v),g.return=x,g)}function d(x,g,v,T){var w=v.type;return w===vn?p(x,g,v.props.children,T,v.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===At&&$a(w)===g.type)?(T=r(g,v.props),T.ref=ro(x,g,v),T.return=x,T):(T=Dr(v.type,v.key,v.props,null,x.mode,T),T.ref=ro(x,g,v),T.return=x,T)}function f(x,g,v,T){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=ni(v,x.mode,T),g.return=x,g):(g=r(g,v.children||[]),g.return=x,g)}function p(x,g,v,T,w){return g===null||g.tag!==7?(g=an(v,x.mode,T,w),g.return=x,g):(g=r(g,v),g.return=x,g)}function m(x,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ti(""+g,x.mode,v),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zo:return v=Dr(g.type,g.key,g.props,null,x.mode,v),v.ref=ro(x,null,g),v.return=x,v;case yn:return g=ni(g,x.mode,v),g.return=x,g;case At:var T=g._init;return m(x,T(g._payload),v)}if(ao(g)||Zn(g))return g=an(g,x.mode,v,null),g.return=x,g;cr(x,g)}return null}function h(x,g,v,T){var w=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return w!==null?null:u(x,g,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Zo:return v.key===w?d(x,g,v,T):null;case yn:return v.key===w?f(x,g,v,T):null;case At:return w=v._init,h(x,g,w(v._payload),T)}if(ao(v)||Zn(v))return w!==null?null:p(x,g,v,T,null);cr(x,v)}return null}function y(x,g,v,T,w){if(typeof T=="string"&&T!==""||typeof T=="number")return x=x.get(v)||null,u(g,x,""+T,w);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Zo:return x=x.get(T.key===null?v:T.key)||null,d(g,x,T,w);case yn:return x=x.get(T.key===null?v:T.key)||null,f(g,x,T,w);case At:var M=T._init;return y(x,g,v,M(T._payload),w)}if(ao(T)||Zn(T))return x=x.get(v)||null,p(g,x,T,w,null);cr(g,T)}return null}function C(x,g,v,T){for(var w=null,M=null,D=g,A=g=0,$=null;D!==null&&A<v.length;A++){D.index>A?($=D,D=null):$=D.sibling;var L=h(x,D,v[A],T);if(L===null){D===null&&(D=$);break}t&&D&&L.alternate===null&&e(x,D),g=l(L,g,A),M===null?w=L:M.sibling=L,M=L,D=$}if(A===v.length)return n(x,D),ee&&en(x,A),w;if(D===null){for(;A<v.length;A++)D=m(x,v[A],T),D!==null&&(g=l(D,g,A),M===null?w=D:M.sibling=D,M=D);return ee&&en(x,A),w}for(D=o(x,D);A<v.length;A++)$=y(D,x,A,v[A],T),$!==null&&(t&&$.alternate!==null&&D.delete($.key===null?A:$.key),g=l($,g,A),M===null?w=$:M.sibling=$,M=$);return t&&D.forEach(function(Z){return e(x,Z)}),ee&&en(x,A),w}function S(x,g,v,T){var w=Zn(v);if(typeof w!="function")throw Error(k(150));if(v=w.call(v),v==null)throw Error(k(151));for(var M=w=null,D=g,A=g=0,$=null,L=v.next();D!==null&&!L.done;A++,L=v.next()){D.index>A?($=D,D=null):$=D.sibling;var Z=h(x,D,L.value,T);if(Z===null){D===null&&(D=$);break}t&&D&&Z.alternate===null&&e(x,D),g=l(Z,g,A),M===null?w=Z:M.sibling=Z,M=Z,D=$}if(L.done)return n(x,D),ee&&en(x,A),w;if(D===null){for(;!L.done;A++,L=v.next())L=m(x,L.value,T),L!==null&&(g=l(L,g,A),M===null?w=L:M.sibling=L,M=L);return ee&&en(x,A),w}for(D=o(x,D);!L.done;A++,L=v.next())L=y(D,x,A,L.value,T),L!==null&&(t&&L.alternate!==null&&D.delete(L.key===null?A:L.key),g=l(L,g,A),M===null?w=L:M.sibling=L,M=L);return t&&D.forEach(function(qe){return e(x,qe)}),ee&&en(x,A),w}function I(x,g,v,T){if(typeof v=="object"&&v!==null&&v.type===vn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Zo:e:{for(var w=v.key,M=g;M!==null;){if(M.key===w){if(w=v.type,w===vn){if(M.tag===7){n(x,M.sibling),g=r(M,v.props.children),g.return=x,x=g;break e}}else if(M.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===At&&$a(w)===M.type){n(x,M.sibling),g=r(M,v.props),g.ref=ro(x,M,v),g.return=x,x=g;break e}n(x,M);break}else e(x,M);M=M.sibling}v.type===vn?(g=an(v.props.children,x.mode,T,v.key),g.return=x,x=g):(T=Dr(v.type,v.key,v.props,null,x.mode,T),T.ref=ro(x,g,v),T.return=x,x=T)}return i(x);case yn:e:{for(M=v.key;g!==null;){if(g.key===M)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(x,g.sibling),g=r(g,v.children||[]),g.return=x,x=g;break e}else{n(x,g);break}else e(x,g);g=g.sibling}g=ni(v,x.mode,T),g.return=x,x=g}return i(x);case At:return M=v._init,I(x,g,M(v._payload),T)}if(ao(v))return C(x,g,v,T);if(Zn(v))return S(x,g,v,T);cr(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(x,g.sibling),g=r(g,v),g.return=x,x=g):(n(x,g),g=ti(v,x.mode,T),g.return=x,x=g),i(x)):n(x,g)}return I}var $n=Pd(!0),Rd=Pd(!1),Yr=Wt(null),Wr=null,In=null,ks=null;function Ds(){ks=In=Wr=null}function As(t){var e=Yr.current;X(Yr),t._currentValue=e}function Ri(t,e,n){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===n)break;t=t.return}}function Fn(t,e){Wr=t,ks=In=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ae=!0),t.firstContext=null)}function Je(t){var e=t._currentValue;if(ks!==t)if(t={context:t,memoizedValue:e,next:null},In===null){if(Wr===null)throw Error(k(308));In=t,Wr.dependencies={lanes:0,firstContext:t}}else In=In.next=t;return e}var rn=null;function Ps(t){rn===null?rn=[t]:rn.push(t)}function Fd(t,e,n,o){var r=e.interleaved;return r===null?(n.next=n,Ps(e)):(n.next=r.next,r.next=n),e.interleaved=n,Et(t,o)}function Et(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pt=!1;function Rs(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ld(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function St(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zt(t,e,n){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,B&2){var r=o.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),o.pending=e,Et(t,n)}return r=o.interleaved,r===null?(e.next=e,Ps(o)):(e.next=r.next,r.next=e),o.interleaved=e,Et(t,n)}function Er(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,ys(t,n)}}function za(t,e){var n=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?r=l=i:l=l.next=i,n=n.next}while(n!==null);l===null?r=l=e:l=l.next=e}else r=l=e;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:l,shared:o.shared,effects:o.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Kr(t,e,n,o){var r=t.updateQueue;Pt=!1;var l=r.firstBaseUpdate,i=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var d=u,f=d.next;d.next=null,i===null?l=f:i.next=f,i=d;var p=t.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==i&&(u===null?p.firstBaseUpdate=f:u.next=f,p.lastBaseUpdate=d))}if(l!==null){var m=r.baseState;i=0,p=f=d=null,u=l;do{var h=u.lane,y=u.eventTime;if((o&h)===h){p!==null&&(p=p.next={eventTime:y,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var C=t,S=u;switch(h=e,y=n,S.tag){case 1:if(C=S.payload,typeof C=="function"){m=C.call(y,m,h);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=S.payload,h=typeof C=="function"?C.call(y,m,h):C,h==null)break e;m=le({},m,h);break e;case 2:Pt=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,h=r.effects,h===null?r.effects=[u]:h.push(u))}else y={eventTime:y,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(f=p=y,d=m):p=p.next=y,i|=h;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;h=u,u=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(p===null&&(d=m),r.baseState=d,r.firstBaseUpdate=f,r.lastBaseUpdate=p,e=r.shared.interleaved,e!==null){r=e;do i|=r.lane,r=r.next;while(r!==e)}else l===null&&(r.shared.lanes=0);fn|=i,t.lanes=i,t.memoizedState=m}}function Ga(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var o=t[e],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(k(191,r));r.call(o)}}}var Go={},ft=Wt(Go),Po=Wt(Go),Ro=Wt(Go);function ln(t){if(t===Go)throw Error(k(174));return t}function Fs(t,e){switch(J(Ro,e),J(Po,t),J(ft,Go),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pi(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pi(e,t)}X(ft),J(ft,e)}function zn(){X(ft),X(Po),X(Ro)}function bd(t){ln(Ro.current);var e=ln(ft.current),n=pi(e,t.type);e!==n&&(J(Po,t),J(ft,n))}function Ls(t){Po.current===t&&(X(ft),X(Po))}var oe=Wt(0);function Jr(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kl=[];function bs(){for(var t=0;t<Kl.length;t++)Kl[t]._workInProgressVersionPrimary=null;Kl.length=0}var Nr=_t.ReactCurrentDispatcher,Jl=_t.ReactCurrentBatchConfig,dn=0,re=null,ce=null,fe=null,Qr=!1,xo=!1,Fo=0,Bm=0;function ve(){throw Error(k(321))}function Us(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lt(t[n],e[n]))return!1;return!0}function Vs(t,e,n,o,r,l){if(dn=l,re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nr.current=t===null||t.memoizedState===null?Ym:Wm,t=n(o,r),xo){l=0;do{if(xo=!1,Fo=0,25<=l)throw Error(k(301));l+=1,fe=ce=null,e.updateQueue=null,Nr.current=Km,t=n(o,r)}while(xo)}if(Nr.current=Xr,e=ce!==null&&ce.next!==null,dn=0,fe=ce=re=null,Qr=!1,e)throw Error(k(300));return t}function js(){var t=Fo!==0;return Fo=0,t}function ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?re.memoizedState=fe=t:fe=fe.next=t,fe}function Qe(){if(ce===null){var t=re.alternate;t=t!==null?t.memoizedState:null}else t=ce.next;var e=fe===null?re.memoizedState:fe.next;if(e!==null)fe=e,ce=t;else{if(t===null)throw Error(k(310));ce=t,t={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},fe===null?re.memoizedState=fe=t:fe=fe.next=t}return fe}function Lo(t,e){return typeof e=="function"?e(t):e}function Ql(t){var e=Qe(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var o=ce,r=o.baseQueue,l=n.pending;if(l!==null){if(r!==null){var i=r.next;r.next=l.next,l.next=i}o.baseQueue=r=l,n.pending=null}if(r!==null){l=r.next,o=o.baseState;var u=i=null,d=null,f=l;do{var p=f.lane;if((dn&p)===p)d!==null&&(d=d.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),o=f.hasEagerState?f.eagerState:t(o,f.action);else{var m={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};d===null?(u=d=m,i=o):d=d.next=m,re.lanes|=p,fn|=p}f=f.next}while(f!==null&&f!==l);d===null?i=o:d.next=u,lt(o,e.memoizedState)||(Ae=!0),e.memoizedState=o,e.baseState=i,e.baseQueue=d,n.lastRenderedState=o}if(t=n.interleaved,t!==null){r=t;do l=r.lane,re.lanes|=l,fn|=l,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xl(t){var e=Qe(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var o=n.dispatch,r=n.pending,l=e.memoizedState;if(r!==null){n.pending=null;var i=r=r.next;do l=t(l,i.action),i=i.next;while(i!==r);lt(l,e.memoizedState)||(Ae=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),n.lastRenderedState=l}return[l,o]}function Ud(){}function Vd(t,e){var n=re,o=Qe(),r=e(),l=!lt(o.memoizedState,r);if(l&&(o.memoizedState=r,Ae=!0),o=o.queue,$s(zd.bind(null,n,o,t),[t]),o.getSnapshot!==e||l||fe!==null&&fe.memoizedState.tag&1){if(n.flags|=2048,bo(9,$d.bind(null,n,o,r,e),void 0,null),pe===null)throw Error(k(349));dn&30||jd(n,e,r)}return r}function jd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $d(t,e,n,o){e.value=n,e.getSnapshot=o,Gd(e)&&Bd(t)}function zd(t,e,n){return n(function(){Gd(e)&&Bd(t)})}function Gd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lt(t,n)}catch{return!0}}function Bd(t){var e=Et(t,1);e!==null&&rt(e,t,1,-1)}function Ba(t){var e=ut();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:t},e.queue=t,t=t.dispatch=Hm.bind(null,re,t),[e.memoizedState,t]}function bo(t,e,n,o){return t={tag:t,create:e,destroy:n,deps:o,next:null},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(o=n.next,n.next=t,t.next=o,e.lastEffect=t)),t}function qd(){return Qe().memoizedState}function _r(t,e,n,o){var r=ut();re.flags|=t,r.memoizedState=bo(1|e,n,void 0,o===void 0?null:o)}function ml(t,e,n,o){var r=Qe();o=o===void 0?null:o;var l=void 0;if(ce!==null){var i=ce.memoizedState;if(l=i.destroy,o!==null&&Us(o,i.deps)){r.memoizedState=bo(e,n,l,o);return}}re.flags|=t,r.memoizedState=bo(1|e,n,l,o)}function qa(t,e){return _r(8390656,8,t,e)}function $s(t,e){return ml(2048,8,t,e)}function Od(t,e){return ml(4,2,t,e)}function Hd(t,e){return ml(4,4,t,e)}function Yd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Wd(t,e,n){return n=n!=null?n.concat([t]):null,ml(4,4,Yd.bind(null,e,t),n)}function zs(){}function Kd(t,e){var n=Qe();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&Us(e,o[1])?o[0]:(n.memoizedState=[t,e],t)}function Jd(t,e){var n=Qe();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&Us(e,o[1])?o[0]:(t=t(),n.memoizedState=[t,e],t)}function Qd(t,e,n){return dn&21?(lt(n,e)||(n=nd(),re.lanes|=n,fn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ae=!0),t.memoizedState=n)}function qm(t,e){var n=K;K=n!==0&&4>n?n:4,t(!0);var o=Jl.transition;Jl.transition={};try{t(!1),e()}finally{K=n,Jl.transition=o}}function Xd(){return Qe().memoizedState}function Om(t,e,n){var o=Bt(t);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Zd(t))ef(e,n);else if(n=Fd(t,e,n,o),n!==null){var r=Ie();rt(n,t,o,r),tf(n,e,o)}}function Hm(t,e,n){var o=Bt(t),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zd(t))ef(e,r);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var i=e.lastRenderedState,u=l(i,n);if(r.hasEagerState=!0,r.eagerState=u,lt(u,i)){var d=e.interleaved;d===null?(r.next=r,Ps(e)):(r.next=d.next,d.next=r),e.interleaved=r;return}}catch{}finally{}n=Fd(t,e,r,o),n!==null&&(r=Ie(),rt(n,t,o,r),tf(n,e,o))}}function Zd(t){var e=t.alternate;return t===re||e!==null&&e===re}function ef(t,e){xo=Qr=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tf(t,e,n){if(n&4194240){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,ys(t,n)}}var Xr={readContext:Je,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},Ym={readContext:Je,useCallback:function(t,e){return ut().memoizedState=[t,e===void 0?null:e],t},useContext:Je,useEffect:qa,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_r(4194308,4,Yd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _r(4194308,4,t,e)},useInsertionEffect:function(t,e){return _r(4,2,t,e)},useMemo:function(t,e){var n=ut();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var o=ut();return e=n!==void 0?n(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=Om.bind(null,re,t),[o.memoizedState,t]},useRef:function(t){var e=ut();return t={current:t},e.memoizedState=t},useState:Ba,useDebugValue:zs,useDeferredValue:function(t){return ut().memoizedState=t},useTransition:function(){var t=Ba(!1),e=t[0];return t=qm.bind(null,t[1]),ut().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var o=re,r=ut();if(ee){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),pe===null)throw Error(k(349));dn&30||jd(o,e,n)}r.memoizedState=n;var l={value:n,getSnapshot:e};return r.queue=l,qa(zd.bind(null,o,l,t),[t]),o.flags|=2048,bo(9,$d.bind(null,o,l,n,e),void 0,null),n},useId:function(){var t=ut(),e=pe.identifierPrefix;if(ee){var n=Ct,o=vt;n=(o&~(1<<32-ot(o)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Bm++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Wm={readContext:Je,useCallback:Kd,useContext:Je,useEffect:$s,useImperativeHandle:Wd,useInsertionEffect:Od,useLayoutEffect:Hd,useMemo:Jd,useReducer:Ql,useRef:qd,useState:function(){return Ql(Lo)},useDebugValue:zs,useDeferredValue:function(t){var e=Qe();return Qd(e,ce.memoizedState,t)},useTransition:function(){var t=Ql(Lo)[0],e=Qe().memoizedState;return[t,e]},useMutableSource:Ud,useSyncExternalStore:Vd,useId:Xd,unstable_isNewReconciler:!1},Km={readContext:Je,useCallback:Kd,useContext:Je,useEffect:$s,useImperativeHandle:Wd,useInsertionEffect:Od,useLayoutEffect:Hd,useMemo:Jd,useReducer:Xl,useRef:qd,useState:function(){return Xl(Lo)},useDebugValue:zs,useDeferredValue:function(t){var e=Qe();return ce===null?e.memoizedState=t:Qd(e,ce.memoizedState,t)},useTransition:function(){var t=Xl(Lo)[0],e=Qe().memoizedState;return[t,e]},useMutableSource:Ud,useSyncExternalStore:Vd,useId:Xd,unstable_isNewReconciler:!1};function et(t,e){if(t&&t.defaultProps){e=le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Fi(t,e,n,o){e=t.memoizedState,n=n(o,e),n=n==null?e:le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hl={isMounted:function(t){return(t=t._reactInternals)?hn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var o=Ie(),r=Bt(t),l=St(o,r);l.payload=e,n!=null&&(l.callback=n),e=zt(t,l,r),e!==null&&(rt(e,t,r,o),Er(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var o=Ie(),r=Bt(t),l=St(o,r);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=zt(t,l,r),e!==null&&(rt(e,t,r,o),Er(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ie(),o=Bt(t),r=St(n,o);r.tag=2,e!=null&&(r.callback=e),e=zt(t,r,o),e!==null&&(rt(e,t,o,n),Er(e,t,o))}};function Oa(t,e,n,o,r,l,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,l,i):e.prototype&&e.prototype.isPureReactComponent?!Mo(n,o)||!Mo(r,l):!0}function nf(t,e,n){var o=!1,r=Ht,l=e.contextType;return typeof l=="object"&&l!==null?l=Je(l):(r=Fe(e)?un:we.current,o=e.contextTypes,l=(o=o!=null)?Vn(t,r):Ht),e=new e(n,l),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hl,t.stateNode=e,e._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=l),e}function Ha(t,e,n,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,o),e.state!==t&&hl.enqueueReplaceState(e,e.state,null)}function Li(t,e,n,o){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Rs(t);var l=e.contextType;typeof l=="object"&&l!==null?r.context=Je(l):(l=Fe(e)?un:we.current,r.context=Vn(t,l)),r.state=t.memoizedState,l=e.getDerivedStateFromProps,typeof l=="function"&&(Fi(t,e,l,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&hl.enqueueReplaceState(r,r.state,null),Kr(t,n,r,o),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Gn(t,e){try{var n="",o=e;do n+=wp(o),o=o.return;while(o);var r=n}catch(l){r=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:e,stack:r,digest:null}}function Zl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bi(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Jm=typeof WeakMap=="function"?WeakMap:Map;function of(t,e,n){n=St(-1,n),n.tag=3,n.payload={element:null};var o=e.value;return n.callback=function(){el||(el=!0,Hi=o),bi(t,e)},n}function rf(t,e,n){n=St(-1,n),n.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var r=e.value;n.payload=function(){return o(r)},n.callback=function(){bi(t,e)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){bi(t,e),typeof o!="function"&&(Gt===null?Gt=new Set([this]):Gt.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function Ya(t,e,n){var o=t.pingCache;if(o===null){o=t.pingCache=new Jm;var r=new Set;o.set(e,r)}else r=o.get(e),r===void 0&&(r=new Set,o.set(e,r));r.has(n)||(r.add(n),t=ch.bind(null,t,e,n),e.then(t,t))}function Wa(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ka(t,e,n,o,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=St(-1,1),e.tag=2,zt(n,e,1))),n.lanes|=1),t)}var Qm=_t.ReactCurrentOwner,Ae=!1;function _e(t,e,n,o){e.child=t===null?Rd(e,null,n,o):$n(e,t.child,n,o)}function Ja(t,e,n,o,r){n=n.render;var l=e.ref;return Fn(e,r),o=Vs(t,e,n,o,l,r),n=js(),t!==null&&!Ae?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Nt(t,e,r)):(ee&&n&&_s(e),e.flags|=1,_e(t,e,o,r),e.child)}function Qa(t,e,n,o,r){if(t===null){var l=n.type;return typeof l=="function"&&!Ks(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=l,lf(t,e,l,o,r)):(t=Dr(n.type,null,o,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(l=t.child,!(t.lanes&r)){var i=l.memoizedProps;if(n=n.compare,n=n!==null?n:Mo,n(i,o)&&t.ref===e.ref)return Nt(t,e,r)}return e.flags|=1,t=qt(l,o),t.ref=e.ref,t.return=e,e.child=t}function lf(t,e,n,o,r){if(t!==null){var l=t.memoizedProps;if(Mo(l,o)&&t.ref===e.ref)if(Ae=!1,e.pendingProps=o=l,(t.lanes&r)!==0)t.flags&131072&&(Ae=!0);else return e.lanes=t.lanes,Nt(t,e,r)}return Ui(t,e,n,o,r)}function sf(t,e,n){var o=e.pendingProps,r=o.children,l=t!==null?t.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(kn,Ve),Ve|=n;else{if(!(n&1073741824))return t=l!==null?l.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,J(kn,Ve),Ve|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=l!==null?l.baseLanes:n,J(kn,Ve),Ve|=o}else l!==null?(o=l.baseLanes|n,e.memoizedState=null):o=n,J(kn,Ve),Ve|=o;return _e(t,e,r,n),e.child}function af(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ui(t,e,n,o,r){var l=Fe(n)?un:we.current;return l=Vn(e,l),Fn(e,r),n=Vs(t,e,n,o,l,r),o=js(),t!==null&&!Ae?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Nt(t,e,r)):(ee&&o&&_s(e),e.flags|=1,_e(t,e,n,r),e.child)}function Xa(t,e,n,o,r){if(Fe(n)){var l=!0;qr(e)}else l=!1;if(Fn(e,r),e.stateNode===null)Ir(t,e),nf(e,n,o),Li(e,n,o,r),o=!0;else if(t===null){var i=e.stateNode,u=e.memoizedProps;i.props=u;var d=i.context,f=n.contextType;typeof f=="object"&&f!==null?f=Je(f):(f=Fe(n)?un:we.current,f=Vn(e,f));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==o||d!==f)&&Ha(e,i,o,f),Pt=!1;var h=e.memoizedState;i.state=h,Kr(e,o,i,r),d=e.memoizedState,u!==o||h!==d||Re.current||Pt?(typeof p=="function"&&(Fi(e,n,p,o),d=e.memoizedState),(u=Pt||Oa(e,n,u,o,h,d,f))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=d),i.props=o,i.state=d,i.context=f,o=u):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{i=e.stateNode,Ld(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:et(e.type,u),i.props=f,m=e.pendingProps,h=i.context,d=n.contextType,typeof d=="object"&&d!==null?d=Je(d):(d=Fe(n)?un:we.current,d=Vn(e,d));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==m||h!==d)&&Ha(e,i,o,d),Pt=!1,h=e.memoizedState,i.state=h,Kr(e,o,i,r);var C=e.memoizedState;u!==m||h!==C||Re.current||Pt?(typeof y=="function"&&(Fi(e,n,y,o),C=e.memoizedState),(f=Pt||Oa(e,n,f,o,h,C,d)||!1)?(p||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(o,C,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(o,C,d)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=C),i.props=o,i.state=C,i.context=d,o=f):(typeof i.componentDidUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),o=!1)}return Vi(t,e,n,o,l,r)}function Vi(t,e,n,o,r,l){af(t,e);var i=(e.flags&128)!==0;if(!o&&!i)return r&&Ua(e,n,!1),Nt(t,e,l);o=e.stateNode,Qm.current=e;var u=i&&typeof n.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,t!==null&&i?(e.child=$n(e,t.child,null,l),e.child=$n(e,null,u,l)):_e(t,e,u,l),e.memoizedState=o.state,r&&Ua(e,n,!0),e.child}function uf(t){var e=t.stateNode;e.pendingContext?ba(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ba(t,e.context,!1),Fs(t,e.containerInfo)}function Za(t,e,n,o,r){return jn(),Ms(r),e.flags|=256,_e(t,e,n,o),e.child}var ji={dehydrated:null,treeContext:null,retryLane:0};function $i(t){return{baseLanes:t,cachePool:null,transitions:null}}function cf(t,e,n){var o=e.pendingProps,r=oe.current,l=!1,i=(e.flags&128)!==0,u;if((u=i)||(u=t!==null&&t.memoizedState===null?!1:(r&2)!==0),u?(l=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),J(oe,r&1),t===null)return Pi(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=o.children,t=o.fallback,l?(o=e.mode,l=e.child,i={mode:"hidden",children:i},!(o&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=yl(i,o,0,null),t=an(t,o,n,null),l.return=e,t.return=e,l.sibling=t,e.child=l,e.child.memoizedState=$i(n),e.memoizedState=ji,t):Gs(e,i));if(r=t.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return Xm(t,e,i,o,u,r,n);if(l){l=o.fallback,i=e.mode,r=t.child,u=r.sibling;var d={mode:"hidden",children:o.children};return!(i&1)&&e.child!==r?(o=e.child,o.childLanes=0,o.pendingProps=d,e.deletions=null):(o=qt(r,d),o.subtreeFlags=r.subtreeFlags&14680064),u!==null?l=qt(u,l):(l=an(l,i,n,null),l.flags|=2),l.return=e,o.return=e,o.sibling=l,e.child=o,o=l,l=e.child,i=t.child.memoizedState,i=i===null?$i(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=t.childLanes&~n,e.memoizedState=ji,o}return l=t.child,t=l.sibling,o=qt(l,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=n),o.return=e,o.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=o,e.memoizedState=null,o}function Gs(t,e){return e=yl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dr(t,e,n,o){return o!==null&&Ms(o),$n(e,t.child,null,n),t=Gs(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Xm(t,e,n,o,r,l,i){if(n)return e.flags&256?(e.flags&=-257,o=Zl(Error(k(422))),dr(t,e,i,o)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(l=o.fallback,r=e.mode,o=yl({mode:"visible",children:o.children},r,0,null),l=an(l,r,i,null),l.flags|=2,o.return=e,l.return=e,o.sibling=l,e.child=o,e.mode&1&&$n(e,t.child,null,i),e.child.memoizedState=$i(i),e.memoizedState=ji,l);if(!(e.mode&1))return dr(t,e,i,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var u=o.dgst;return o=u,l=Error(k(419)),o=Zl(l,o,void 0),dr(t,e,i,o)}if(u=(i&t.childLanes)!==0,Ae||u){if(o=pe,o!==null){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|i)?0:r,r!==0&&r!==l.retryLane&&(l.retryLane=r,Et(t,r),rt(o,t,r,-1))}return Ws(),o=Zl(Error(k(421))),dr(t,e,i,o)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=dh.bind(null,t),r._reactRetry=e,null):(t=l.treeContext,je=$t(r.nextSibling),$e=e,ee=!0,nt=null,t!==null&&(He[Ye++]=vt,He[Ye++]=Ct,He[Ye++]=cn,vt=t.id,Ct=t.overflow,cn=e),e=Gs(e,o.children),e.flags|=4096,e)}function eu(t,e,n){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),Ri(t.return,e,n)}function ei(t,e,n,o,r){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=o,l.tail=n,l.tailMode=r)}function df(t,e,n){var o=e.pendingProps,r=o.revealOrder,l=o.tail;if(_e(t,e,o.children,n),o=oe.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eu(t,n,e);else if(t.tag===19)eu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(J(oe,o),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Jr(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),ei(e,!1,r,n,l);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Jr(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}ei(e,!0,n,null,l);break;case"together":ei(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ir(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=qt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Zm(t,e,n){switch(e.tag){case 3:uf(e),jn();break;case 5:bd(e);break;case 1:Fe(e.type)&&qr(e);break;case 4:Fs(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,r=e.memoizedProps.value;J(Yr,o._currentValue),o._currentValue=r;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(J(oe,oe.current&1),e.flags|=128,null):n&e.child.childLanes?cf(t,e,n):(J(oe,oe.current&1),t=Nt(t,e,n),t!==null?t.sibling:null);J(oe,oe.current&1);break;case 19:if(o=(n&e.childLanes)!==0,t.flags&128){if(o)return df(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),J(oe,oe.current),o)break;return null;case 22:case 23:return e.lanes=0,sf(t,e,n)}return Nt(t,e,n)}var ff,zi,pf,mf;ff=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zi=function(){};pf=function(t,e,n,o){var r=t.memoizedProps;if(r!==o){t=e.stateNode,ln(ft.current);var l=null;switch(n){case"input":r=ui(t,r),o=ui(t,o),l=[];break;case"select":r=le({},r,{value:void 0}),o=le({},o,{value:void 0}),l=[];break;case"textarea":r=fi(t,r),o=fi(t,o),l=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=Gr)}mi(n,o);var i;n=null;for(f in r)if(!o.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var u=r[f];for(i in u)u.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(So.hasOwnProperty(f)?l||(l=[]):(l=l||[]).push(f,null));for(f in o){var d=o[f];if(u=r!=null?r[f]:void 0,o.hasOwnProperty(f)&&d!==u&&(d!=null||u!=null))if(f==="style")if(u){for(i in u)!u.hasOwnProperty(i)||d&&d.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in d)d.hasOwnProperty(i)&&u[i]!==d[i]&&(n||(n={}),n[i]=d[i])}else n||(l||(l=[]),l.push(f,n)),n=d;else f==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(l=l||[]).push(f,d)):f==="children"?typeof d!="string"&&typeof d!="number"||(l=l||[]).push(f,""+d):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(So.hasOwnProperty(f)?(d!=null&&f==="onScroll"&&Q("scroll",t),l||u===d||(l=[])):(l=l||[]).push(f,d))}n&&(l=l||[]).push("style",n);var f=l;(e.updateQueue=f)&&(e.flags|=4)}};mf=function(t,e,n,o){n!==o&&(e.flags|=4)};function lo(t,e){if(!ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Ce(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,o=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=o,t.childLanes=n,e}function eh(t,e,n){var o=e.pendingProps;switch(Is(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(e),null;case 1:return Fe(e.type)&&Br(),Ce(e),null;case 3:return o=e.stateNode,zn(),X(Re),X(we),bs(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(ur(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nt!==null&&(Ki(nt),nt=null))),zi(t,e),Ce(e),null;case 5:Ls(e);var r=ln(Ro.current);if(n=e.type,t!==null&&e.stateNode!=null)pf(t,e,n,o,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(k(166));return Ce(e),null}if(t=ln(ft.current),ur(e)){o=e.stateNode,n=e.type;var l=e.memoizedProps;switch(o[ct]=e,o[Ao]=l,t=(e.mode&1)!==0,n){case"dialog":Q("cancel",o),Q("close",o);break;case"iframe":case"object":case"embed":Q("load",o);break;case"video":case"audio":for(r=0;r<co.length;r++)Q(co[r],o);break;case"source":Q("error",o);break;case"img":case"image":case"link":Q("error",o),Q("load",o);break;case"details":Q("toggle",o);break;case"input":ua(o,l),Q("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!l.multiple},Q("invalid",o);break;case"textarea":da(o,l),Q("invalid",o)}mi(n,l),r=null;for(var i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="children"?typeof u=="string"?o.textContent!==u&&(l.suppressHydrationWarning!==!0&&ar(o.textContent,u,t),r=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(l.suppressHydrationWarning!==!0&&ar(o.textContent,u,t),r=["children",""+u]):So.hasOwnProperty(i)&&u!=null&&i==="onScroll"&&Q("scroll",o)}switch(n){case"input":er(o),ca(o,l,!0);break;case"textarea":er(o),fa(o);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(o.onclick=Gr)}o=r,e.updateQueue=o,o!==null&&(e.flags|=4)}else{i=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=i.createElement(n,{is:o.is}):(t=i.createElement(n),n==="select"&&(i=t,o.multiple?i.multiple=!0:o.size&&(i.size=o.size))):t=i.createElementNS(t,n),t[ct]=e,t[Ao]=o,ff(t,e,!1,!1),e.stateNode=t;e:{switch(i=hi(n,o),n){case"dialog":Q("cancel",t),Q("close",t),r=o;break;case"iframe":case"object":case"embed":Q("load",t),r=o;break;case"video":case"audio":for(r=0;r<co.length;r++)Q(co[r],t);r=o;break;case"source":Q("error",t),r=o;break;case"img":case"image":case"link":Q("error",t),Q("load",t),r=o;break;case"details":Q("toggle",t),r=o;break;case"input":ua(t,o),r=ui(t,o),Q("invalid",t);break;case"option":r=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},r=le({},o,{value:void 0}),Q("invalid",t);break;case"textarea":da(t,o),r=fi(t,o),Q("invalid",t);break;default:r=o}mi(n,r),u=r;for(l in u)if(u.hasOwnProperty(l)){var d=u[l];l==="style"?qc(t,d):l==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Gc(t,d)):l==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&To(t,d):typeof d=="number"&&To(t,""+d):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(So.hasOwnProperty(l)?d!=null&&l==="onScroll"&&Q("scroll",t):d!=null&&fs(t,l,d,i))}switch(n){case"input":er(t),ca(t,o,!1);break;case"textarea":er(t),fa(t);break;case"option":o.value!=null&&t.setAttribute("value",""+Ot(o.value));break;case"select":t.multiple=!!o.multiple,l=o.value,l!=null?Dn(t,!!o.multiple,l,!1):o.defaultValue!=null&&Dn(t,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Gr)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ce(e),null;case 6:if(t&&e.stateNode!=null)mf(t,e,t.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(k(166));if(n=ln(Ro.current),ln(ft.current),ur(e)){if(o=e.stateNode,n=e.memoizedProps,o[ct]=e,(l=o.nodeValue!==n)&&(t=$e,t!==null))switch(t.tag){case 3:ar(o.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ar(o.nodeValue,n,(t.mode&1)!==0)}l&&(e.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[ct]=e,e.stateNode=o}return Ce(e),null;case 13:if(X(oe),o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ee&&je!==null&&e.mode&1&&!(e.flags&128))Ad(),jn(),e.flags|=98560,l=!1;else if(l=ur(e),o!==null&&o.dehydrated!==null){if(t===null){if(!l)throw Error(k(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(k(317));l[ct]=e}else jn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ce(e),l=!1}else nt!==null&&(Ki(nt),nt=null),l=!0;if(!l)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(t===null||oe.current&1?de===0&&(de=3):Ws())),e.updateQueue!==null&&(e.flags|=4),Ce(e),null);case 4:return zn(),zi(t,e),t===null&&ko(e.stateNode.containerInfo),Ce(e),null;case 10:return As(e.type._context),Ce(e),null;case 17:return Fe(e.type)&&Br(),Ce(e),null;case 19:if(X(oe),l=e.memoizedState,l===null)return Ce(e),null;if(o=(e.flags&128)!==0,i=l.rendering,i===null)if(o)lo(l,!1);else{if(de!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Jr(t),i!==null){for(e.flags|=128,lo(l,!1),o=i.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=n,n=e.child;n!==null;)l=n,t=o,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,t=i.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return J(oe,oe.current&1|2),e.child}t=t.sibling}l.tail!==null&&se()>Bn&&(e.flags|=128,o=!0,lo(l,!1),e.lanes=4194304)}else{if(!o)if(t=Jr(i),t!==null){if(e.flags|=128,o=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),lo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!ee)return Ce(e),null}else 2*se()-l.renderingStartTime>Bn&&n!==1073741824&&(e.flags|=128,o=!0,lo(l,!1),e.lanes=4194304);l.isBackwards?(i.sibling=e.child,e.child=i):(n=l.last,n!==null?n.sibling=i:e.child=i,l.last=i)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=se(),e.sibling=null,n=oe.current,J(oe,o?n&1|2:n&1),e):(Ce(e),null);case 22:case 23:return Ys(),o=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?Ve&1073741824&&(Ce(e),e.subtreeFlags&6&&(e.flags|=8192)):Ce(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function th(t,e){switch(Is(e),e.tag){case 1:return Fe(e.type)&&Br(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zn(),X(Re),X(we),bs(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ls(e),null;case 13:if(X(oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));jn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return X(oe),null;case 4:return zn(),null;case 10:return As(e.type._context),null;case 22:case 23:return Ys(),null;case 24:return null;default:return null}}var fr=!1,Te=!1,nh=typeof WeakSet=="function"?WeakSet:Set,R=null;function Mn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){ie(t,e,o)}else n.current=null}function Gi(t,e,n){try{n()}catch(o){ie(t,e,o)}}var tu=!1;function oh(t,e){if(Ni=jr,t=yd(),Ns(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,l=o.focusNode;o=o.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var i=0,u=-1,d=-1,f=0,p=0,m=t,h=null;t:for(;;){for(var y;m!==n||r!==0&&m.nodeType!==3||(u=i+r),m!==l||o!==0&&m.nodeType!==3||(d=i+o),m.nodeType===3&&(i+=m.nodeValue.length),(y=m.firstChild)!==null;)h=m,m=y;for(;;){if(m===t)break t;if(h===n&&++f===r&&(u=i),h===l&&++p===o&&(d=i),(y=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=y}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(_i={focusedElem:t,selectionRange:n},jr=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var S=C.memoizedProps,I=C.memoizedState,x=e.stateNode,g=x.getSnapshotBeforeUpdate(e.elementType===e.type?S:et(e.type,S),I);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(T){ie(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return C=tu,tu=!1,C}function yo(t,e,n){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&t)===t){var l=r.destroy;r.destroy=void 0,l!==void 0&&Gi(e,n,l)}r=r.next}while(r!==o)}}function gl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var o=n.create;n.destroy=o()}n=n.next}while(n!==e)}}function Bi(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hf(t){var e=t.alternate;e!==null&&(t.alternate=null,hf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ct],delete e[Ao],delete e[ki],delete e[jm],delete e[$m])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gf(t){return t.tag===5||t.tag===3||t.tag===4}function nu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qi(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gr));else if(o!==4&&(t=t.child,t!==null))for(qi(t,e,n),t=t.sibling;t!==null;)qi(t,e,n),t=t.sibling}function Oi(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(Oi(t,e,n),t=t.sibling;t!==null;)Oi(t,e,n),t=t.sibling}var me=null,tt=!1;function kt(t,e,n){for(n=n.child;n!==null;)xf(t,e,n),n=n.sibling}function xf(t,e,n){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(al,n)}catch{}switch(n.tag){case 5:Te||Mn(n,e);case 6:var o=me,r=tt;me=null,kt(t,e,n),me=o,tt=r,me!==null&&(tt?(t=me,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):me.removeChild(n.stateNode));break;case 18:me!==null&&(tt?(t=me,n=n.stateNode,t.nodeType===8?Yl(t.parentNode,n):t.nodeType===1&&Yl(t,n),_o(t)):Yl(me,n.stateNode));break;case 4:o=me,r=tt,me=n.stateNode.containerInfo,tt=!0,kt(t,e,n),me=o,tt=r;break;case 0:case 11:case 14:case 15:if(!Te&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var l=r,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Gi(n,e,i),r=r.next}while(r!==o)}kt(t,e,n);break;case 1:if(!Te&&(Mn(n,e),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(u){ie(n,e,u)}kt(t,e,n);break;case 21:kt(t,e,n);break;case 22:n.mode&1?(Te=(o=Te)||n.memoizedState!==null,kt(t,e,n),Te=o):kt(t,e,n);break;default:kt(t,e,n)}}function ou(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nh),e.forEach(function(o){var r=fh.bind(null,t,o);n.has(o)||(n.add(o),o.then(r,r))})}}function Ze(t,e){var n=e.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var l=t,i=e,u=i;e:for(;u!==null;){switch(u.tag){case 5:me=u.stateNode,tt=!1;break e;case 3:me=u.stateNode.containerInfo,tt=!0;break e;case 4:me=u.stateNode.containerInfo,tt=!0;break e}u=u.return}if(me===null)throw Error(k(160));xf(l,i,r),me=null,tt=!1;var d=r.alternate;d!==null&&(d.return=null),r.return=null}catch(f){ie(r,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yf(e,t),e=e.sibling}function yf(t,e){var n=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ze(e,t),at(t),o&4){try{yo(3,t,t.return),gl(3,t)}catch(S){ie(t,t.return,S)}try{yo(5,t,t.return)}catch(S){ie(t,t.return,S)}}break;case 1:Ze(e,t),at(t),o&512&&n!==null&&Mn(n,n.return);break;case 5:if(Ze(e,t),at(t),o&512&&n!==null&&Mn(n,n.return),t.flags&32){var r=t.stateNode;try{To(r,"")}catch(S){ie(t,t.return,S)}}if(o&4&&(r=t.stateNode,r!=null)){var l=t.memoizedProps,i=n!==null?n.memoizedProps:l,u=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{u==="input"&&l.type==="radio"&&l.name!=null&&jc(r,l),hi(u,i);var f=hi(u,l);for(i=0;i<d.length;i+=2){var p=d[i],m=d[i+1];p==="style"?qc(r,m):p==="dangerouslySetInnerHTML"?Gc(r,m):p==="children"?To(r,m):fs(r,p,m,f)}switch(u){case"input":ci(r,l);break;case"textarea":$c(r,l);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!l.multiple;var y=l.value;y!=null?Dn(r,!!l.multiple,y,!1):h!==!!l.multiple&&(l.defaultValue!=null?Dn(r,!!l.multiple,l.defaultValue,!0):Dn(r,!!l.multiple,l.multiple?[]:"",!1))}r[Ao]=l}catch(S){ie(t,t.return,S)}}break;case 6:if(Ze(e,t),at(t),o&4){if(t.stateNode===null)throw Error(k(162));r=t.stateNode,l=t.memoizedProps;try{r.nodeValue=l}catch(S){ie(t,t.return,S)}}break;case 3:if(Ze(e,t),at(t),o&4&&n!==null&&n.memoizedState.isDehydrated)try{_o(e.containerInfo)}catch(S){ie(t,t.return,S)}break;case 4:Ze(e,t),at(t);break;case 13:Ze(e,t),at(t),r=t.child,r.flags&8192&&(l=r.memoizedState!==null,r.stateNode.isHidden=l,!l||r.alternate!==null&&r.alternate.memoizedState!==null||(Os=se())),o&4&&ou(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Te=(f=Te)||p,Ze(e,t),Te=f):Ze(e,t),at(t),o&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!p&&t.mode&1)for(R=t,p=t.child;p!==null;){for(m=R=p;R!==null;){switch(h=R,y=h.child,h.tag){case 0:case 11:case 14:case 15:yo(4,h,h.return);break;case 1:Mn(h,h.return);var C=h.stateNode;if(typeof C.componentWillUnmount=="function"){o=h,n=h.return;try{e=o,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(S){ie(o,n,S)}}break;case 5:Mn(h,h.return);break;case 22:if(h.memoizedState!==null){lu(m);continue}}y!==null?(y.return=h,R=y):lu(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{r=m.stateNode,f?(l=r.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(u=m.stateNode,d=m.memoizedProps.style,i=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=Bc("display",i))}catch(S){ie(t,t.return,S)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(S){ie(t,t.return,S)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ze(e,t),at(t),o&4&&ou(t);break;case 21:break;default:Ze(e,t),at(t)}}function at(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gf(n)){var o=n;break e}n=n.return}throw Error(k(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(To(r,""),o.flags&=-33);var l=nu(t);Oi(t,l,r);break;case 3:case 4:var i=o.stateNode.containerInfo,u=nu(t);qi(t,u,i);break;default:throw Error(k(161))}}catch(d){ie(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rh(t,e,n){R=t,vf(t)}function vf(t,e,n){for(var o=(t.mode&1)!==0;R!==null;){var r=R,l=r.child;if(r.tag===22&&o){var i=r.memoizedState!==null||fr;if(!i){var u=r.alternate,d=u!==null&&u.memoizedState!==null||Te;u=fr;var f=Te;if(fr=i,(Te=d)&&!f)for(R=r;R!==null;)i=R,d=i.child,i.tag===22&&i.memoizedState!==null?iu(r):d!==null?(d.return=i,R=d):iu(r);for(;l!==null;)R=l,vf(l),l=l.sibling;R=r,fr=u,Te=f}ru(t)}else r.subtreeFlags&8772&&l!==null?(l.return=r,R=l):ru(t)}}function ru(t){for(;R!==null;){var e=R;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Te||gl(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!Te)if(n===null)o.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:et(e.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var l=e.updateQueue;l!==null&&Ga(e,l,o);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ga(e,i,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&_o(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}Te||e.flags&512&&Bi(e)}catch(h){ie(e,e.return,h)}}if(e===t){R=null;break}if(n=e.sibling,n!==null){n.return=e.return,R=n;break}R=e.return}}function lu(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var n=e.sibling;if(n!==null){n.return=e.return,R=n;break}R=e.return}}function iu(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gl(4,e)}catch(d){ie(e,n,d)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var r=e.return;try{o.componentDidMount()}catch(d){ie(e,r,d)}}var l=e.return;try{Bi(e)}catch(d){ie(e,l,d)}break;case 5:var i=e.return;try{Bi(e)}catch(d){ie(e,i,d)}}}catch(d){ie(e,e.return,d)}if(e===t){R=null;break}var u=e.sibling;if(u!==null){u.return=e.return,R=u;break}R=e.return}}var lh=Math.ceil,Zr=_t.ReactCurrentDispatcher,Bs=_t.ReactCurrentOwner,Ke=_t.ReactCurrentBatchConfig,B=0,pe=null,ae=null,he=0,Ve=0,kn=Wt(0),de=0,Uo=null,fn=0,xl=0,qs=0,vo=null,De=null,Os=0,Bn=1/0,xt=null,el=!1,Hi=null,Gt=null,pr=!1,bt=null,tl=0,Co=0,Yi=null,Mr=-1,kr=0;function Ie(){return B&6?se():Mr!==-1?Mr:Mr=se()}function Bt(t){return t.mode&1?B&2&&he!==0?he&-he:Gm.transition!==null?(kr===0&&(kr=nd()),kr):(t=K,t!==0||(t=window.event,t=t===void 0?16:ud(t.type)),t):1}function rt(t,e,n,o){if(50<Co)throw Co=0,Yi=null,Error(k(185));jo(t,n,o),(!(B&2)||t!==pe)&&(t===pe&&(!(B&2)&&(xl|=n),de===4&&Ft(t,he)),Le(t,o),n===1&&B===0&&!(e.mode&1)&&(Bn=se()+500,pl&&Kt()))}function Le(t,e){var n=t.callbackNode;Gp(t,e);var o=Vr(t,t===pe?he:0);if(o===0)n!==null&&ha(n),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(n!=null&&ha(n),e===1)t.tag===0?zm(su.bind(null,t)):Md(su.bind(null,t)),Um(function(){!(B&6)&&Kt()}),n=null;else{switch(od(o)){case 1:n=xs;break;case 4:n=ed;break;case 16:n=Ur;break;case 536870912:n=td;break;default:n=Ur}n=If(n,Cf.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Cf(t,e){if(Mr=-1,kr=0,B&6)throw Error(k(327));var n=t.callbackNode;if(Ln()&&t.callbackNode!==n)return null;var o=Vr(t,t===pe?he:0);if(o===0)return null;if(o&30||o&t.expiredLanes||e)e=nl(t,o);else{e=o;var r=B;B|=2;var l=Tf();(pe!==t||he!==e)&&(xt=null,Bn=se()+500,sn(t,e));do try{ah();break}catch(u){Sf(t,u)}while(!0);Ds(),Zr.current=l,B=r,ae!==null?e=0:(pe=null,he=0,e=de)}if(e!==0){if(e===2&&(r=Ci(t),r!==0&&(o=r,e=Wi(t,r))),e===1)throw n=Uo,sn(t,0),Ft(t,o),Le(t,se()),n;if(e===6)Ft(t,o);else{if(r=t.current.alternate,!(o&30)&&!ih(r)&&(e=nl(t,o),e===2&&(l=Ci(t),l!==0&&(o=l,e=Wi(t,l))),e===1))throw n=Uo,sn(t,0),Ft(t,o),Le(t,se()),n;switch(t.finishedWork=r,t.finishedLanes=o,e){case 0:case 1:throw Error(k(345));case 2:tn(t,De,xt);break;case 3:if(Ft(t,o),(o&130023424)===o&&(e=Os+500-se(),10<e)){if(Vr(t,0)!==0)break;if(r=t.suspendedLanes,(r&o)!==o){Ie(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Mi(tn.bind(null,t,De,xt),e);break}tn(t,De,xt);break;case 4:if(Ft(t,o),(o&4194240)===o)break;for(e=t.eventTimes,r=-1;0<o;){var i=31-ot(o);l=1<<i,i=e[i],i>r&&(r=i),o&=~l}if(o=r,o=se()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*lh(o/1960))-o,10<o){t.timeoutHandle=Mi(tn.bind(null,t,De,xt),o);break}tn(t,De,xt);break;case 5:tn(t,De,xt);break;default:throw Error(k(329))}}}return Le(t,se()),t.callbackNode===n?Cf.bind(null,t):null}function Wi(t,e){var n=vo;return t.current.memoizedState.isDehydrated&&(sn(t,e).flags|=256),t=nl(t,e),t!==2&&(e=De,De=n,e!==null&&Ki(e)),t}function Ki(t){De===null?De=t:De.push.apply(De,t)}function ih(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],l=r.getSnapshot;r=r.value;try{if(!lt(l(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ft(t,e){for(e&=~qs,e&=~xl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ot(e),o=1<<n;t[n]=-1,e&=~o}}function su(t){if(B&6)throw Error(k(327));Ln();var e=Vr(t,0);if(!(e&1))return Le(t,se()),null;var n=nl(t,e);if(t.tag!==0&&n===2){var o=Ci(t);o!==0&&(e=o,n=Wi(t,o))}if(n===1)throw n=Uo,sn(t,0),Ft(t,e),Le(t,se()),n;if(n===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,tn(t,De,xt),Le(t,se()),null}function Hs(t,e){var n=B;B|=1;try{return t(e)}finally{B=n,B===0&&(Bn=se()+500,pl&&Kt())}}function pn(t){bt!==null&&bt.tag===0&&!(B&6)&&Ln();var e=B;B|=1;var n=Ke.transition,o=K;try{if(Ke.transition=null,K=1,t)return t()}finally{K=o,Ke.transition=n,B=e,!(B&6)&&Kt()}}function Ys(){Ve=kn.current,X(kn)}function sn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bm(n)),ae!==null)for(n=ae.return;n!==null;){var o=n;switch(Is(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Br();break;case 3:zn(),X(Re),X(we),bs();break;case 5:Ls(o);break;case 4:zn();break;case 13:X(oe);break;case 19:X(oe);break;case 10:As(o.type._context);break;case 22:case 23:Ys()}n=n.return}if(pe=t,ae=t=qt(t.current,null),he=Ve=e,de=0,Uo=null,qs=xl=fn=0,De=vo=null,rn!==null){for(e=0;e<rn.length;e++)if(n=rn[e],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,l=n.pending;if(l!==null){var i=l.next;l.next=r,o.next=i}n.pending=o}rn=null}return t}function Sf(t,e){do{var n=ae;try{if(Ds(),Nr.current=Xr,Qr){for(var o=re.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}Qr=!1}if(dn=0,fe=ce=re=null,xo=!1,Fo=0,Bs.current=null,n===null||n.return===null){de=1,Uo=e,ae=null;break}e:{var l=t,i=n.return,u=n,d=e;if(e=he,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var f=d,p=u,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=Wa(i);if(y!==null){y.flags&=-257,Ka(y,i,u,l,e),y.mode&1&&Ya(l,f,e),e=y,d=f;var C=e.updateQueue;if(C===null){var S=new Set;S.add(d),e.updateQueue=S}else C.add(d);break e}else{if(!(e&1)){Ya(l,f,e),Ws();break e}d=Error(k(426))}}else if(ee&&u.mode&1){var I=Wa(i);if(I!==null){!(I.flags&65536)&&(I.flags|=256),Ka(I,i,u,l,e),Ms(Gn(d,u));break e}}l=d=Gn(d,u),de!==4&&(de=2),vo===null?vo=[l]:vo.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,e&=-e,l.lanes|=e;var x=of(l,d,e);za(l,x);break e;case 1:u=d;var g=l.type,v=l.stateNode;if(!(l.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Gt===null||!Gt.has(v)))){l.flags|=65536,e&=-e,l.lanes|=e;var T=rf(l,u,e);za(l,T);break e}}l=l.return}while(l!==null)}Ef(n)}catch(w){e=w,ae===n&&n!==null&&(ae=n=n.return);continue}break}while(!0)}function Tf(){var t=Zr.current;return Zr.current=Xr,t===null?Xr:t}function Ws(){(de===0||de===3||de===2)&&(de=4),pe===null||!(fn&268435455)&&!(xl&268435455)||Ft(pe,he)}function nl(t,e){var n=B;B|=2;var o=Tf();(pe!==t||he!==e)&&(xt=null,sn(t,e));do try{sh();break}catch(r){Sf(t,r)}while(!0);if(Ds(),B=n,Zr.current=o,ae!==null)throw Error(k(261));return pe=null,he=0,de}function sh(){for(;ae!==null;)wf(ae)}function ah(){for(;ae!==null&&!Rp();)wf(ae)}function wf(t){var e=_f(t.alternate,t,Ve);t.memoizedProps=t.pendingProps,e===null?Ef(t):ae=e,Bs.current=null}function Ef(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=th(n,e),n!==null){n.flags&=32767,ae=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{de=6,ae=null;return}}else if(n=eh(n,e,Ve),n!==null){ae=n;return}if(e=e.sibling,e!==null){ae=e;return}ae=e=t}while(e!==null);de===0&&(de=5)}function tn(t,e,n){var o=K,r=Ke.transition;try{Ke.transition=null,K=1,uh(t,e,n,o)}finally{Ke.transition=r,K=o}return null}function uh(t,e,n,o){do Ln();while(bt!==null);if(B&6)throw Error(k(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var l=n.lanes|n.childLanes;if(Bp(t,l),t===pe&&(ae=pe=null,he=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pr||(pr=!0,If(Ur,function(){return Ln(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Ke.transition,Ke.transition=null;var i=K;K=1;var u=B;B|=4,Bs.current=null,oh(t,n),yf(n,t),km(_i),jr=!!Ni,_i=Ni=null,t.current=n,rh(n),Fp(),B=u,K=i,Ke.transition=l}else t.current=n;if(pr&&(pr=!1,bt=t,tl=r),l=t.pendingLanes,l===0&&(Gt=null),Up(n.stateNode),Le(t,se()),e!==null)for(o=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(el)throw el=!1,t=Hi,Hi=null,t;return tl&1&&t.tag!==0&&Ln(),l=t.pendingLanes,l&1?t===Yi?Co++:(Co=0,Yi=t):Co=0,Kt(),null}function Ln(){if(bt!==null){var t=od(tl),e=Ke.transition,n=K;try{if(Ke.transition=null,K=16>t?16:t,bt===null)var o=!1;else{if(t=bt,bt=null,tl=0,B&6)throw Error(k(331));var r=B;for(B|=4,R=t.current;R!==null;){var l=R,i=l.child;if(R.flags&16){var u=l.deletions;if(u!==null){for(var d=0;d<u.length;d++){var f=u[d];for(R=f;R!==null;){var p=R;switch(p.tag){case 0:case 11:case 15:yo(8,p,l)}var m=p.child;if(m!==null)m.return=p,R=m;else for(;R!==null;){p=R;var h=p.sibling,y=p.return;if(hf(p),p===f){R=null;break}if(h!==null){h.return=y,R=h;break}R=y}}}var C=l.alternate;if(C!==null){var S=C.child;if(S!==null){C.child=null;do{var I=S.sibling;S.sibling=null,S=I}while(S!==null)}}R=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,R=i;else e:for(;R!==null;){if(l=R,l.flags&2048)switch(l.tag){case 0:case 11:case 15:yo(9,l,l.return)}var x=l.sibling;if(x!==null){x.return=l.return,R=x;break e}R=l.return}}var g=t.current;for(R=g;R!==null;){i=R;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,R=v;else e:for(i=g;R!==null;){if(u=R,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:gl(9,u)}}catch(w){ie(u,u.return,w)}if(u===i){R=null;break e}var T=u.sibling;if(T!==null){T.return=u.return,R=T;break e}R=u.return}}if(B=r,Kt(),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(al,t)}catch{}o=!0}return o}finally{K=n,Ke.transition=e}}return!1}function au(t,e,n){e=Gn(n,e),e=of(t,e,1),t=zt(t,e,1),e=Ie(),t!==null&&(jo(t,1,e),Le(t,e))}function ie(t,e,n){if(t.tag===3)au(t,t,n);else for(;e!==null;){if(e.tag===3){au(e,t,n);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Gt===null||!Gt.has(o))){t=Gn(n,t),t=rf(e,t,1),e=zt(e,t,1),t=Ie(),e!==null&&(jo(e,1,t),Le(e,t));break}}e=e.return}}function ch(t,e,n){var o=t.pingCache;o!==null&&o.delete(e),e=Ie(),t.pingedLanes|=t.suspendedLanes&n,pe===t&&(he&n)===n&&(de===4||de===3&&(he&130023424)===he&&500>se()-Os?sn(t,0):qs|=n),Le(t,e)}function Nf(t,e){e===0&&(t.mode&1?(e=or,or<<=1,!(or&130023424)&&(or=4194304)):e=1);var n=Ie();t=Et(t,e),t!==null&&(jo(t,e,n),Le(t,n))}function dh(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Nf(t,n)}function fh(t,e){var n=0;switch(t.tag){case 13:var o=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(k(314))}o!==null&&o.delete(e),Nf(t,n)}var _f;_f=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Re.current)Ae=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ae=!1,Zm(t,e,n);Ae=!!(t.flags&131072)}else Ae=!1,ee&&e.flags&1048576&&kd(e,Hr,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;Ir(t,e),t=e.pendingProps;var r=Vn(e,we.current);Fn(e,n),r=Vs(null,e,o,t,r,n);var l=js();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fe(o)?(l=!0,qr(e)):l=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Rs(e),r.updater=hl,e.stateNode=r,r._reactInternals=e,Li(e,o,t,n),e=Vi(null,e,o,!0,l,n)):(e.tag=0,ee&&l&&_s(e),_e(null,e,r,n),e=e.child),e;case 16:o=e.elementType;e:{switch(Ir(t,e),t=e.pendingProps,r=o._init,o=r(o._payload),e.type=o,r=e.tag=mh(o),t=et(o,t),r){case 0:e=Ui(null,e,o,t,n);break e;case 1:e=Xa(null,e,o,t,n);break e;case 11:e=Ja(null,e,o,t,n);break e;case 14:e=Qa(null,e,o,et(o.type,t),n);break e}throw Error(k(306,o,""))}return e;case 0:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:et(o,r),Ui(t,e,o,r,n);case 1:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:et(o,r),Xa(t,e,o,r,n);case 3:e:{if(uf(e),t===null)throw Error(k(387));o=e.pendingProps,l=e.memoizedState,r=l.element,Ld(t,e),Kr(e,o,null,n);var i=e.memoizedState;if(o=i.element,l.isDehydrated)if(l={element:o,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){r=Gn(Error(k(423)),e),e=Za(t,e,o,n,r);break e}else if(o!==r){r=Gn(Error(k(424)),e),e=Za(t,e,o,n,r);break e}else for(je=$t(e.stateNode.containerInfo.firstChild),$e=e,ee=!0,nt=null,n=Rd(e,null,o,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jn(),o===r){e=Nt(t,e,n);break e}_e(t,e,o,n)}e=e.child}return e;case 5:return bd(e),t===null&&Pi(e),o=e.type,r=e.pendingProps,l=t!==null?t.memoizedProps:null,i=r.children,Ii(o,r)?i=null:l!==null&&Ii(o,l)&&(e.flags|=32),af(t,e),_e(t,e,i,n),e.child;case 6:return t===null&&Pi(e),null;case 13:return cf(t,e,n);case 4:return Fs(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=$n(e,null,o,n):_e(t,e,o,n),e.child;case 11:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:et(o,r),Ja(t,e,o,r,n);case 7:return _e(t,e,e.pendingProps,n),e.child;case 8:return _e(t,e,e.pendingProps.children,n),e.child;case 12:return _e(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(o=e.type._context,r=e.pendingProps,l=e.memoizedProps,i=r.value,J(Yr,o._currentValue),o._currentValue=i,l!==null)if(lt(l.value,i)){if(l.children===r.children&&!Re.current){e=Nt(t,e,n);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var u=l.dependencies;if(u!==null){i=l.child;for(var d=u.firstContext;d!==null;){if(d.context===o){if(l.tag===1){d=St(-1,n&-n),d.tag=2;var f=l.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?d.next=d:(d.next=p.next,p.next=d),f.pending=d}}l.lanes|=n,d=l.alternate,d!==null&&(d.lanes|=n),Ri(l.return,n,e),u.lanes|=n;break}d=d.next}}else if(l.tag===10)i=l.type===e.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(k(341));i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Ri(i,n,e),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===e){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}_e(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,o=e.pendingProps.children,Fn(e,n),r=Je(r),o=o(r),e.flags|=1,_e(t,e,o,n),e.child;case 14:return o=e.type,r=et(o,e.pendingProps),r=et(o.type,r),Qa(t,e,o,r,n);case 15:return lf(t,e,e.type,e.pendingProps,n);case 17:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:et(o,r),Ir(t,e),e.tag=1,Fe(o)?(t=!0,qr(e)):t=!1,Fn(e,n),nf(e,o,r),Li(e,o,r,n),Vi(null,e,o,!0,t,n);case 19:return df(t,e,n);case 22:return sf(t,e,n)}throw Error(k(156,e.tag))};function If(t,e){return Zc(t,e)}function ph(t,e,n,o){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function We(t,e,n,o){return new ph(t,e,n,o)}function Ks(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mh(t){if(typeof t=="function")return Ks(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ms)return 11;if(t===hs)return 14}return 2}function qt(t,e){var n=t.alternate;return n===null?(n=We(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dr(t,e,n,o,r,l){var i=2;if(o=t,typeof t=="function")Ks(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case vn:return an(n.children,r,l,e);case ps:i=8,r|=8;break;case li:return t=We(12,n,e,r|2),t.elementType=li,t.lanes=l,t;case ii:return t=We(13,n,e,r),t.elementType=ii,t.lanes=l,t;case si:return t=We(19,n,e,r),t.elementType=si,t.lanes=l,t;case bc:return yl(n,r,l,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Fc:i=10;break e;case Lc:i=9;break e;case ms:i=11;break e;case hs:i=14;break e;case At:i=16,o=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=We(i,n,e,r),e.elementType=t,e.type=o,e.lanes=l,e}function an(t,e,n,o){return t=We(7,t,o,e),t.lanes=n,t}function yl(t,e,n,o){return t=We(22,t,o,e),t.elementType=bc,t.lanes=n,t.stateNode={isHidden:!1},t}function ti(t,e,n){return t=We(6,t,null,e),t.lanes=n,t}function ni(t,e,n){return e=We(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hh(t,e,n,o,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bl(0),this.expirationTimes=bl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bl(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Js(t,e,n,o,r,l,i,u,d){return t=new hh(t,e,n,u,d),e===1?(e=1,l===!0&&(e|=8)):e=0,l=We(3,null,null,e),t.current=l,l.stateNode=t,l.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(l),t}function gh(t,e,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yn,key:o==null?null:""+o,children:t,containerInfo:e,implementation:n}}function Mf(t){if(!t)return Ht;t=t._reactInternals;e:{if(hn(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var n=t.type;if(Fe(n))return Id(t,n,e)}return e}function kf(t,e,n,o,r,l,i,u,d){return t=Js(n,o,!0,t,r,l,i,u,d),t.context=Mf(null),n=t.current,o=Ie(),r=Bt(n),l=St(o,r),l.callback=e??null,zt(n,l,r),t.current.lanes=r,jo(t,r,o),Le(t,o),t}function vl(t,e,n,o){var r=e.current,l=Ie(),i=Bt(r);return n=Mf(n),e.context===null?e.context=n:e.pendingContext=n,e=St(l,i),e.payload={element:t},o=o===void 0?null:o,o!==null&&(e.callback=o),t=zt(r,e,i),t!==null&&(rt(t,r,i,l),Er(t,r,i)),i}function ol(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function uu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qs(t,e){uu(t,e),(t=t.alternate)&&uu(t,e)}function xh(){return null}var Df=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xs(t){this._internalRoot=t}Cl.prototype.render=Xs.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));vl(t,e,null,null)};Cl.prototype.unmount=Xs.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pn(function(){vl(null,t,null,null)}),e[wt]=null}};function Cl(t){this._internalRoot=t}Cl.prototype.unstable_scheduleHydration=function(t){if(t){var e=id();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rt.length&&e!==0&&e<Rt[n].priority;n++);Rt.splice(n,0,t),n===0&&ad(t)}};function Zs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cu(){}function yh(t,e,n,o,r){if(r){if(typeof o=="function"){var l=o;o=function(){var f=ol(i);l.call(f)}}var i=kf(e,o,t,0,null,!1,!1,"",cu);return t._reactRootContainer=i,t[wt]=i.current,ko(t.nodeType===8?t.parentNode:t),pn(),i}for(;r=t.lastChild;)t.removeChild(r);if(typeof o=="function"){var u=o;o=function(){var f=ol(d);u.call(f)}}var d=Js(t,0,!1,null,null,!1,!1,"",cu);return t._reactRootContainer=d,t[wt]=d.current,ko(t.nodeType===8?t.parentNode:t),pn(function(){vl(e,d,n,o)}),d}function Tl(t,e,n,o,r){var l=n._reactRootContainer;if(l){var i=l;if(typeof r=="function"){var u=r;r=function(){var d=ol(i);u.call(d)}}vl(e,i,t,r)}else i=yh(n,e,t,r,o);return ol(i)}rd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=uo(e.pendingLanes);n!==0&&(ys(e,n|1),Le(e,se()),!(B&6)&&(Bn=se()+500,Kt()))}break;case 13:pn(function(){var o=Et(t,1);if(o!==null){var r=Ie();rt(o,t,1,r)}}),Qs(t,1)}};vs=function(t){if(t.tag===13){var e=Et(t,134217728);if(e!==null){var n=Ie();rt(e,t,134217728,n)}Qs(t,134217728)}};ld=function(t){if(t.tag===13){var e=Bt(t),n=Et(t,e);if(n!==null){var o=Ie();rt(n,t,e,o)}Qs(t,e)}};id=function(){return K};sd=function(t,e){var n=K;try{return K=t,e()}finally{K=n}};xi=function(t,e,n){switch(e){case"input":if(ci(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var o=n[e];if(o!==t&&o.form===t.form){var r=fl(o);if(!r)throw Error(k(90));Vc(o),ci(o,r)}}}break;case"textarea":$c(t,n);break;case"select":e=n.value,e!=null&&Dn(t,!!n.multiple,e,!1)}};Yc=Hs;Wc=pn;var vh={usingClientEntryPoint:!1,Events:[zo,wn,fl,Oc,Hc,Hs]},io={findFiberByHostInstance:on,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ch={bundleType:io.bundleType,version:io.version,rendererPackageName:io.rendererPackageName,rendererConfig:io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_t.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Qc(t),t===null?null:t.stateNode},findFiberByHostInstance:io.findFiberByHostInstance||xh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mr.isDisabled&&mr.supportsFiber)try{al=mr.inject(Ch),dt=mr}catch{}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vh;Ge.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zs(e))throw Error(k(200));return gh(t,e,null,n)};Ge.createRoot=function(t,e){if(!Zs(t))throw Error(k(299));var n=!1,o="",r=Df;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Js(t,1,!1,null,null,n,!1,o,r),t[wt]=e.current,ko(t.nodeType===8?t.parentNode:t),new Xs(e)};Ge.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=Qc(e),t=t===null?null:t.stateNode,t};Ge.flushSync=function(t){return pn(t)};Ge.hydrate=function(t,e,n){if(!Sl(e))throw Error(k(200));return Tl(null,t,e,!0,n)};Ge.hydrateRoot=function(t,e,n){if(!Zs(t))throw Error(k(405));var o=n!=null&&n.hydratedSources||null,r=!1,l="",i=Df;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=kf(e,null,t,1,n??null,r,!1,l,i),t[wt]=e.current,ko(t),o)for(t=0;t<o.length;t++)n=o[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Cl(e)};Ge.render=function(t,e,n){if(!Sl(e))throw Error(k(200));return Tl(null,t,e,!1,n)};Ge.unmountComponentAtNode=function(t){if(!Sl(t))throw Error(k(40));return t._reactRootContainer?(pn(function(){Tl(null,null,t,!1,function(){t._reactRootContainer=null,t[wt]=null})}),!0):!1};Ge.unstable_batchedUpdates=Hs;Ge.unstable_renderSubtreeIntoContainer=function(t,e,n,o){if(!Sl(n))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return Tl(t,e,n,!1,o)};Ge.version="18.3.1-next-f1338f8080-20240426";function Af(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Af)}catch(t){console.error(t)}}Af(),Dc.exports=Ge;var Sh=Dc.exports,du=Sh;Rr.createRoot=du.createRoot,Rr.hydrateRoot=du.hydrateRoot;const Th=({onLogin:t})=>{const[e,n]=E.useState(!1),[o,r]=E.useState(""),[l,i]=E.useState(""),[u,d]=E.useState(""),[f,p]=E.useState(!1),[m,h]=E.useState([]),y=()=>{try{const x=window.localStorage.getItem("financial-organizer-users");return x?JSON.parse(x):{}}catch{return{}}},C=x=>{window.localStorage.setItem("financial-organizer-users",JSON.stringify(x))},S=x=>{if(x.preventDefault(),d(""),!o.trim()||!l.trim()){d("El usuario y la contrasea no pueden estar vacos.");return}const g=y();if(e)if(g[o])d("Este nombre de usuario ya existe.");else{const v={...g,[o]:l};C(v),t(o)}else g[o]&&g[o]===l?t(o):d("Usuario o contrasea incorrectos.")},I=()=>{const x=y(),g=Object.entries(x).map(([v,T])=>({user:v,pass:T}));h(g),p(!0)};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"min-h-screen bg-neutral-900 flex flex-col justify-center items-center p-4",children:c.jsxs("div",{className:"w-full max-w-sm",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("i",{className:"fa-solid fa-wallet text-5xl text-blue-500 mb-4"}),c.jsx("h1",{className:"text-3xl font-bold text-neutral-100",children:"Organizador Financiero Pro"}),c.jsx("p",{className:"text-neutral-400",children:"Inicia sesin o crea un perfil para continuar"})]}),c.jsxs("div",{className:"bg-neutral-800 p-8 rounded-3xl shadow-lg",children:[c.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-white",children:e?"Crear Perfil":"Iniciar Sesin"}),c.jsxs("form",{onSubmit:S,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-neutral-300",children:"Nombre de Usuario"}),c.jsx("input",{id:"username",type:"text",value:o,onChange:x=>r(x.target.value),className:"w-full mt-1 p-3 bg-neutral-700 text-white border-2 border-neutral-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",autoComplete:"username",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-300",children:"Contrasea"}),c.jsx("input",{id:"password",type:"password",value:l,onChange:x=>i(x.target.value),className:"w-full mt-1 p-3 bg-neutral-700 text-white border-2 border-neutral-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",autoComplete:e?"new-password":"current-password",required:!0})]}),u&&c.jsx("p",{className:"text-red-400 text-sm text-center",children:u}),c.jsx("button",{type:"submit",className:"w-full py-3 px-4 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/20",children:e?"Registrar y Entrar":"Entrar"})]}),c.jsxs("p",{className:"text-center text-sm text-neutral-400 mt-6",children:[e?"Ya tienes un perfil?":"No tienes un perfil?",c.jsx("button",{onClick:()=>{n(!e),d("")},className:"font-semibold text-blue-400 hover:text-blue-300 ml-1",children:e?"Inicia sesin":"Crea uno"})]}),c.jsx("div",{className:"text-center mt-4",children:c.jsx("button",{onClick:I,className:"text-xs text-neutral-500 hover:text-blue-400 transition-colors",children:"Olvidaste tus credenciales?"})})]})]})}),f&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",onClick:()=>p(!1),children:c.jsxs("div",{className:"bg-neutral-800 rounded-2xl shadow-xl p-8 w-full max-w-sm",onClick:x=>x.stopPropagation(),children:[c.jsx("h2",{className:"text-xl font-bold mb-4 text-neutral-100",children:"Credenciales Guardadas"}),c.jsx("p",{className:"text-neutral-400 mb-6 text-sm",children:"Aqu estn todos los perfiles guardados en este dispositivo."}),c.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2 bg-neutral-700/50 p-4 rounded-lg",children:m.length>0?m.map(({user:x,pass:g})=>c.jsxs("div",{className:"text-left border-b border-neutral-600 pb-2 last:border-b-0",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-neutral-400",children:"Usuario:"}),c.jsx("p",{className:"font-semibold text-base text-neutral-100",children:x})]}),c.jsxs("div",{className:"mt-1",children:[c.jsx("p",{className:"text-xs text-neutral-400",children:"Contrasea:"}),c.jsx("p",{className:"font-semibold text-base text-neutral-100",children:g})]})]},x)):c.jsx("p",{className:"text-neutral-500 text-center",children:"No hay perfiles guardados."})}),c.jsx("div",{className:"mt-6 text-right",children:c.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 rounded-lg bg-neutral-600 text-neutral-200 active:bg-neutral-500 font-semibold",children:"Cerrar"})})]})})]})},nn=[{id:"housing",name:"Vivienda y Servicios",amount:525,color:"#3b82f6",icon:"fa-solid fa-house-chimney"},{id:"transport",name:"Transporte",amount:225,color:"#8b5cf6",icon:"fa-solid fa-car"},{id:"food",name:"Alimentacin",amount:225,color:"#10b981",icon:"fa-solid fa-utensils"},{id:"needs",name:"Necesidades Personales",amount:150,color:"#f97316",icon:"fa-solid fa-heart-pulse"},{id:"wants",name:"Ocio y Deseos",amount:150,color:"#ec4899",icon:"fa-solid fa-gift"},{id:"savings",name:"Ahorro e Inversin",amount:225,color:"#f59e0b",icon:"fa-solid fa-piggy-bank"}],wh=({activeTab:t,onTabChange:e,onMenuClick:n,onAiClick:o})=>{const r=l=>`px-4 py-2 rounded-lg font-semibold transition-colors text-sm md:text-base ${t===l?"bg-blue-500 text-white shadow-md":"bg-transparent text-neutral-300 hover:bg-neutral-700"}`;return c.jsx("header",{className:"bg-neutral-900/80 backdrop-blur-lg sticky top-0 z-30 border-b border-neutral-700",children:c.jsxs("div",{className:"container mx-auto px-4 md:px-8 py-4 flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:n,className:"p-2 rounded-full active:bg-neutral-700 transition-colors","aria-label":"Abrir men",children:c.jsx("i",{className:"fa-solid fa-bars text-xl text-neutral-200"})}),c.jsx("h1",{className:"text-xl md:text-2xl font-bold text-neutral-100 hidden sm:block",children:"Organizador Financiero Pro"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("nav",{className:"hidden md:flex items-center space-x-1 md:space-x-2 bg-neutral-800 p-1 rounded-xl",children:[c.jsxs("button",{onClick:()=>e("dashboard"),className:r("dashboard"),children:[c.jsx("i",{className:"fa-solid fa-table-columns mr-2 hidden md:inline"}),"Dashboard"]}),c.jsxs("button",{onClick:()=>e("expenses"),className:r("expenses"),children:[c.jsx("i",{className:"fa-solid fa-calendar-days mr-2 hidden md:inline"}),"Gastos Diarios"]}),c.jsxs("button",{onClick:()=>e("calculators"),className:r("calculators"),children:[c.jsx("i",{className:"fa-solid fa-calculator mr-2 hidden md:inline"}),"Calculadoras"]}),c.jsxs("button",{onClick:()=>e("history"),className:r("history"),children:[c.jsx("i",{className:"fa-solid fa-clock-rotate-left mr-2 hidden md:inline"}),"Historial"]})]}),c.jsx("button",{onClick:o,className:"p-2 rounded-full active:bg-neutral-700 transition-colors text-blue-400","aria-label":"Abrir Asistente IA",children:c.jsx("i",{className:"fa-solid fa-wand-magic-sparkles text-xl"})})]})]})})},Eh=({data:t,totalIncome:e})=>{const n=t.reduce((r,l)=>r+l.value,0);if(t.length===0||n===0)return c.jsx("div",{className:"flex items-center justify-center h-full text-neutral-500",children:c.jsx("p",{children:"Aade gastos para ver la distribucin."})});const o={name:"Total Asignado",value:n,percentage:e>0?n/e*100:0};return c.jsxs("div",{className:"space-y-4 pt-2 h-full overflow-y-auto pr-2",children:[t.map((r,l)=>{const i=e>0?r.value/e*100:0;return c.jsxs("div",{"aria-label":`${r.name}: ${r.value.toFixed(2)} (${i.toFixed(1)}% del ingreso)`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:r.fill}}),c.jsx("span",{className:"text-sm font-medium text-neutral-300",children:r.name})]}),c.jsxs("span",{className:"text-sm font-bold text-neutral-100",children:["$",r.value.toFixed(2)]})]}),c.jsx("div",{className:"w-full bg-neutral-700 rounded-full h-2.5",children:c.jsx("div",{className:"h-2.5 rounded-full transition-all duration-500",style:{width:`${i}%`,backgroundColor:r.fill},role:"progressbar","aria-valuenow":i,"aria-valuemin":0,"aria-valuemax":100})})]},l)}),t.length>0&&c.jsx("hr",{className:"border-neutral-700 !my-5"}),c.jsxs("div",{"aria-label":`${o.name}: ${o.value.toFixed(2)} (${o.percentage.toFixed(1)}% del ingreso)`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("div",{className:"flex items-center space-x-2",children:c.jsx("span",{className:"text-sm font-bold text-neutral-100",children:o.name})}),c.jsxs("span",{className:"text-sm font-bold text-neutral-100",children:["$",o.value.toFixed(2)]})]}),c.jsx("div",{className:"w-full bg-neutral-700 rounded-full h-2.5 flex overflow-hidden",role:"progressbar","aria-valuenow":o.percentage,"aria-valuemin":0,"aria-valuemax":100,title:`Total Asignado: ${o.percentage.toFixed(1)}%`,children:t.map((r,l)=>{const i=e>0?r.value/e*100:0;return i===0?null:c.jsx("div",{className:"h-full",style:{width:`${i}%`,backgroundColor:r.fill,transition:"width 0.5s ease-in-out"},title:`${r.name}: ${i.toFixed(1)}%`},`total-segment-${l}`)})})]})]})},Nh=({value:t,onSave:e})=>{const[n,o]=E.useState(!1),[r,l]=E.useState(t.toFixed(2));E.useEffect(()=>{n||l(t.toFixed(2))},[t,n]);const i=()=>{const d=parseFloat(r);!isNaN(d)&&d>=0?e(d):l(t.toFixed(2)),o(!1)},u=d=>{d.key==="Enter"?i():d.key==="Escape"&&(o(!1),l(t.toFixed(2)))};return c.jsxs("div",{className:"bg-neutral-800 p-5 rounded-3xl shadow-lg flex flex-col items-start space-y-3",children:[c.jsx("div",{className:"text-2xl w-12 h-12 rounded-xl flex items-center justify-center bg-teal-900/50 text-teal-400",children:c.jsx("i",{className:"fa-solid fa-vault"})}),c.jsxs("div",{className:"text-left w-full",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("p",{className:"text-sm text-neutral-400 font-medium",children:"Ahorro Global"}),c.jsx("button",{onClick:()=>o(!n),className:"text-xs text-neutral-500 active:text-blue-400",children:c.jsx("i",{className:`fa-solid ${n?"fa-times":"fa-pencil"}`})})]}),n?c.jsx("input",{type:"number",value:r,onChange:d=>l(d.target.value),onBlur:i,onKeyDown:u,className:"text-3xl font-bold text-neutral-100 bg-transparent w-full focus:outline-none focus:ring-0 border-b border-blue-500",autoFocus:!0}):c.jsxs("p",{className:"text-3xl font-bold text-neutral-100",children:["$",t.toFixed(2)]})]})]})},bn=({title:t,value:e,icon:n,color:o,bgColor:r})=>c.jsxs("div",{className:"bg-neutral-800 p-5 rounded-3xl shadow-lg flex flex-col items-start space-y-3",children:[c.jsx("div",{className:`text-2xl w-12 h-12 rounded-xl flex items-center justify-center ${o} ${r}`,children:c.jsx("i",{className:n})}),c.jsxs("div",{className:"text-left",children:[c.jsx("p",{className:"text-sm text-neutral-400 font-medium",children:t}),c.jsx("p",{className:"text-3xl font-bold text-neutral-100",children:e})]})]}),hr=({value:t,unit:e="$",invertColors:n=!1})=>{const o=t>0,r=t<0;let l="text-neutral-400",i="fa-solid fa-minus";o?(l=n?"text-red-400":"text-green-400",i="fa-solid fa-arrow-trend-up"):r&&(l=n?"text-green-400":"text-red-400",i="fa-solid fa-arrow-trend-down");const u=`${o?"+":""}${e}${t.toFixed(2)}`;return c.jsxs("span",{className:`font-semibold ${l} flex items-center gap-2 text-sm`,children:[c.jsx("i",{className:`${i} text-xs`}),u]})},_h=({current:t,previous:e})=>{const n=t.categories.reduce((p,m)=>p+m.amount,0),o=e.categories.reduce((p,m)=>p+m.amount,0),r=t.totalIncome-e.totalIncome,l=n-o,i=t.totalIncome-n,u=e.totalIncome-o,d=i-u,f=t.categories.map(p=>{const m=e.categories.find(C=>C.id===p.id),h=m?m.amount:0,y=p.amount-h;return{...p,difference:y,previousAmount:h}}).filter(p=>p.difference!==0);return c.jsxs("div",{className:"bg-neutral-700/50 p-4 rounded-2xl mt-6 border border-neutral-700",children:[c.jsxs("h4",{className:"text-base font-bold mb-4 text-neutral-200",children:["Comparacin con ",c.jsx("span",{className:"text-blue-400",children:e.name})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[c.jsxs("div",{className:"p-3 bg-neutral-800 rounded-xl",children:[c.jsx("p",{className:"text-xs text-neutral-400 mb-1",children:"Ingresos"}),c.jsx(hr,{value:r})]}),c.jsxs("div",{className:"p-3 bg-neutral-800 rounded-xl",children:[c.jsx("p",{className:"text-xs text-neutral-400 mb-1",children:"Gastos Asignados"}),c.jsx(hr,{value:l,invertColors:!0})]}),c.jsxs("div",{className:"p-3 bg-neutral-800 rounded-xl",children:[c.jsx("p",{className:"text-xs text-neutral-400 mb-1",children:"Balance"}),c.jsx(hr,{value:d})]})]}),f.length>0&&c.jsxs("div",{children:[c.jsx("h5",{className:"font-semibold mb-2 text-sm text-neutral-300",children:"Cambios por Categora"}),c.jsx("ul",{className:"space-y-2",children:f.map(p=>c.jsxs("li",{className:"flex justify-between items-center p-2 rounded-lg bg-neutral-800 text-sm",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("span",{className:"w-6 h-6 flex items-center justify-center rounded-full text-white text-xs",style:{backgroundColor:p.color},children:c.jsx("i",{className:p.icon})}),c.jsx("span",{className:"font-medium text-neutral-200",children:p.name})]}),c.jsxs("div",{className:"text-right flex items-center gap-3",children:[c.jsxs("span",{className:"text-xs text-neutral-500",children:["$",p.previousAmount.toFixed(2),"  $",p.amount.toFixed(2)]}),c.jsx(hr,{value:p.difference,invertColors:!0})]})]},p.id))})]})]})},Ih=({budget:t})=>{const e=t.categories.reduce((l,i)=>l+i.amount,0),n=t.totalIncome-e,o=t.categories.filter(l=>l.amount>0&&l.id!=="savings"),r=t.categories.find(l=>l.id==="savings");return c.jsxs("div",{id:"pdf-content",style:{width:"800px",fontFamily:"system-ui, sans-serif",backgroundColor:"#f8fafc",color:"#0f172a",padding:"40px"},children:[c.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"2px solid #e2e8f0",paddingBottom:"16px",marginBottom:"32px"},children:[c.jsxs("div",{children:[c.jsx("h1",{style:{fontSize:"36px",fontWeight:"bold",margin:0,color:"#1e293b"},children:"Resumen de Presupuesto"}),c.jsx("h2",{style:{fontSize:"20px",margin:"4px 0 0",color:"#475569"},children:t.name})]}),c.jsxs("div",{style:{textAlign:"right"},children:[c.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#0f172a"},children:[c.jsx("i",{className:"fa-solid fa-wallet",style:{color:"#3b82f6",marginRight:"8px"}}),"Finanzas Pro"]}),c.jsxs("p",{style:{fontSize:"12px",margin:"4px 0 0",color:"#64748b"},children:["Generado: ",new Date().toLocaleDateString("es-ES")]})]})]}),c.jsxs("section",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"24px",marginBottom:"40px"},children:[c.jsxs("div",{style:{backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[c.jsx("i",{className:"fa-solid fa-dollar-sign",style:{fontSize:"24px",color:"#16a34a",marginBottom:"8px"}}),c.jsx("h3",{style:{fontSize:"14px",fontWeight:"600",color:"#475569",margin:0,textTransform:"uppercase"},children:"Ingreso Total"}),c.jsxs("p",{style:{fontSize:"28px",fontWeight:"bold",color:"#166534",margin:"4px 0 0"},children:["$",t.totalIncome.toFixed(2)]})]}),c.jsxs("div",{style:{backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[c.jsx("i",{className:"fa-solid fa-coins",style:{fontSize:"24px",color:"#f59e0b",marginBottom:"8px"}}),c.jsx("h3",{style:{fontSize:"14px",fontWeight:"600",color:"#475569",margin:0,textTransform:"uppercase"},children:"Total Gastado"}),c.jsxs("p",{style:{fontSize:"28px",fontWeight:"bold",color:"#b45309",margin:"4px 0 0"},children:["$",e.toFixed(2)]})]}),c.jsxs("div",{style:{backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[c.jsx("i",{className:"fa-solid fa-piggy-bank",style:{fontSize:"24px",color:"#3b82f6",marginBottom:"8px"}}),c.jsx("h3",{style:{fontSize:"14px",fontWeight:"600",color:"#475569",margin:0,textTransform:"uppercase"},children:"Balance Final"}),c.jsxs("p",{style:{fontSize:"28px",fontWeight:"bold",color:"#1e40af",margin:"4px 0 0"},children:["$",n.toFixed(2)]})]})]}),c.jsxs("section",{children:[c.jsx("h3",{style:{fontSize:"22px",fontWeight:"bold",color:"#1e293b",borderBottom:"1px solid #cbd5e1",paddingBottom:"8px",marginBottom:"24px"},children:"Desglose de Gastos"}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:o.map(l=>{const i=t.totalIncome>0?l.amount/t.totalIncome*100:0;return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[c.jsx("i",{className:l.icon,style:{color:l.color,fontSize:"16px",width:"28px",textAlign:"center"}}),c.jsx("span",{style:{fontWeight:"600",color:"#334155",marginLeft:"8px"},children:l.name})]}),c.jsxs("div",{style:{textAlign:"right"},children:[c.jsxs("span",{style:{fontWeight:"bold",fontSize:"16px",color:"#0f172a"},children:["$",l.amount.toFixed(2)]}),c.jsxs("span",{style:{fontSize:"12px",color:"#64748b",marginLeft:"8px"},children:[i.toFixed(1),"%"]})]})]}),c.jsx("div",{style:{backgroundColor:"#e2e8f0",borderRadius:"9999px",height:"12px",overflow:"hidden"},children:c.jsx("div",{style:{width:`${i}%`,backgroundColor:l.color,height:"100%",borderRadius:"9999px"}})})]},l.id)})}),r&&r.amount>0&&c.jsxs("div",{style:{marginTop:"32px",backgroundColor:"rgba(245, 158, 11, 0.1)",border:"1px solid rgba(245, 158, 11, 0.3)",borderRadius:"12px",padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[c.jsx("i",{className:r.icon,style:{color:r.color,fontSize:"24px",marginRight:"16px"}}),c.jsxs("div",{children:[c.jsx("h4",{style:{margin:0,fontSize:"18px",fontWeight:"bold",color:"#b45309"},children:r.name}),c.jsx("p",{style:{margin:"2px 0 0",fontSize:"12px",color:"#d97706"},children:"Tu sobrante ha sido asignado aqu."})]})]}),c.jsxs("p",{style:{fontSize:"24px",fontWeight:"bold",color:"#92400e",margin:0},children:["$",r.amount.toFixed(2)]})]})]}),c.jsx("footer",{style:{textAlign:"center",fontSize:"12px",color:"#94a3b8",borderTop:"1px solid #e2e8f0",paddingTop:"24px",marginTop:"40px"},children:"Gracias por usar Organizador Financiero Pro."})]})},Mh={semanal:"Semanales",quincenal:"Quincenales",mensual:"Mensuales",anual:"Anuales"},kh=({budgets:t,globalSavings:e,onUpdateGlobalSavings:n,onEditBudget:o,onOpenDeleteModal:r})=>{const l=E.useMemo(()=>[...t].sort((x,g)=>new Date(g.dateSaved).getTime()-new Date(x.dateSaved).getTime()),[t]),[i,u]=E.useState(l.length>0?l[0].id:null);E.useEffect(()=>{(i&&!t.some(x=>x.id===i)||!i&&l.length>0)&&u(l.length>0?l[0].id:null)},[t,l,i]);const d=E.useMemo(()=>t.find(x=>x.id===i),[t,i]),f=E.useMemo(()=>{if(!d)return null;const x=l.findIndex(g=>g.id===d.id);return x>-1&&x<l.length-1?l[x+1]:null},[l,d]),p=E.useMemo(()=>d?d.categories.map(x=>({name:x.name,value:x.amount,fill:x.color})).filter(x=>x.value>0):[],[d]),m=E.useMemo(()=>d?d.categories.reduce((x,g)=>x+g.amount,0):0,[d]),h=E.useMemo(()=>l.reduce((x,g)=>{const v=g.frequency||"mensual";return x[v]||(x[v]=[]),x[v].push(g),x},{}),[l]),y=["semanal","quincenal","mensual","anual"],C=()=>{if(typeof window.html2canvas>"u"||typeof window.jspdf>"u"){alert("Las libreras para exportar a PDF no se pudieron cargar. Por favor, revisa tu conexin e intntalo de nuevo.");return}if(!d)return;const x=document.createElement("div");x.style.position="absolute",x.style.left="-9999px",x.style.top="-9999px",document.body.appendChild(x);const g=Rr.createRoot(x);g.render(c.jsx(Ih,{budget:d})),setTimeout(()=>{const v=x.querySelector("#pdf-content");v&&window.html2canvas(v,{scale:2,useCORS:!0,backgroundColor:null}).then(T=>{const w=T.toDataURL("image/png"),{jsPDF:M}=window.jspdf,D=595.28,A=T.height*D/T.width,$=new M({orientation:"portrait",unit:"pt",format:"a4"});$.addImage(w,"PNG",0,0,D,A),$.save(`presupuesto-${d.name.replace(/\s/g,"_")}.pdf`),g.unmount(),document.body.removeChild(x)})},500)},S=()=>{if(!d)return;const x=d.totalIncome-m;let g="data:text/csv;charset=utf-8,";g+=`"Presupuesto: ${d.name}"\r
`,g+=`"Fecha: ${new Date(d.dateSaved).toLocaleDateString("es-ES")}"\r
\r
`,g+=`Categora,Monto,Porcentaje del Ingreso\r
`,d.categories.forEach(w=>{const M=d.totalIncome>0?w.amount/d.totalIncome*100:0;g+=`"${w.name}",${w.amount.toFixed(2)},"${M.toFixed(2)}%"\r
`}),g+=`\r
Resumen\r
`,g+=`"Ingreso Total",${d.totalIncome.toFixed(2)}\r
`,g+=`"Total Gastado",${m.toFixed(2)}\r
`,g+=`"Balance Final",${x.toFixed(2)}\r
`;const v=encodeURI(g),T=document.createElement("a");T.setAttribute("href",v),T.setAttribute("download",`presupuesto-${d.name.replace(/\s/g,"_")}.csv`),document.body.appendChild(T),T.click(),document.body.removeChild(T)},I=()=>{if(typeof window.XLSX>"u"){alert("La librera para exportar a Excel no se pudo cargar. Por favor, revisa tu conexin e intntalo de nuevo.");return}if(!d)return;const x=window.XLSX,g=d.totalIncome-m,v=["Categora","Monto","Porcentaje del Ingreso"],T=d.categories.map($=>{const L=d.totalIncome>0?$.amount/d.totalIncome*100:0;return[$.name,$.amount,`${L.toFixed(2)}%`]}),w=[[],["Resumen"],["Ingreso Total",d.totalIncome],["Total Gastado",m],["Balance Final",g]],M=[["Presupuesto:",d.name],["Fecha:",new Date(d.dateSaved).toLocaleDateString("es-ES")],[],v,...T,...w],D=x.utils.aoa_to_sheet(M),A=x.utils.book_new();x.utils.book_append_sheet(A,D,"Resumen Presupuesto"),x.writeFile(A,`presupuesto-${d.name.replace(/\s/g,"_")}.xlsx`)};return c.jsxs("div",{className:"space-y-8",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.jsx("div",{className:"md:col-span-2 lg:col-span-1",children:c.jsx(Nh,{value:e,onSave:n})})}),c.jsxs("div",{className:"bg-neutral-800 p-6 rounded-3xl shadow-lg",children:[c.jsx("h2",{className:"text-2xl font-bold mb-6 text-neutral-100 border-b pb-4 border-neutral-700",children:"Explorar Historial"}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-1 self-start",children:[c.jsx("h3",{className:"text-lg font-semibold mb-3 text-neutral-200",children:"Presupuestos Guardados"}),c.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2",children:t.length===0?c.jsx("p",{className:"text-sm text-neutral-400 p-3 bg-neutral-700/50 rounded-lg",children:"No hay presupuestos guardados."}):y.map(x=>h[x]&&h[x].length>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"text-base font-semibold text-blue-400 capitalize mb-2 sticky top-0 bg-neutral-800 py-1",children:Mh[x]}),c.jsx("div",{className:"grid grid-cols-1 gap-3",children:h[x].map(g=>c.jsx("div",{className:`p-3 rounded-xl transition-all duration-200 border-2 ${i===g.id?"bg-blue-900/50 border-blue-500":"bg-neutral-700 border-transparent active:border-neutral-600"}`,children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex-grow cursor-pointer",onClick:()=>u(g.id),children:[c.jsx("p",{className:`font-bold ${i===g.id?"text-blue-300":"text-neutral-200"}`,children:g.name}),c.jsx("p",{className:`text-xs ${i===g.id?"text-blue-400":"text-neutral-400"}`,children:new Date(g.dateSaved).toLocaleDateString("es-ES")})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("button",{onClick:v=>{v.stopPropagation(),o(g)},className:`text-sm p-2 h-8 w-8 rounded-lg flex items-center justify-center transition-colors ${i===g.id?"text-blue-500 active:bg-blue-500/20":"text-neutral-500/70 active:text-blue-500 active:bg-blue-500/10"}`,"aria-label":`Editar ${g.name}`,children:c.jsx("i",{className:"fa-solid fa-pencil"})}),c.jsx("button",{onClick:v=>{v.stopPropagation(),r(g)},className:`text-sm p-2 h-8 w-8 rounded-lg flex items-center justify-center transition-colors ${i===g.id?"text-red-500 active:bg-red-500/20":"text-red-500/70 active:text-red-500 active:bg-red-500/10"}`,"aria-label":`Eliminar ${g.name}`,children:c.jsx("i",{className:"fa-solid fa-trash-can"})})]})]})},g.id))})]},x))})]}),c.jsx("div",{className:"lg:col-span-2",children:d?c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"border-b border-neutral-700 pb-4",children:c.jsxs("h3",{className:"text-xl font-bold text-neutral-100",children:["Resumen de ",d.name]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(bn,{title:"Ingreso Total",value:`$${d.totalIncome.toFixed(2)}`,icon:"fa-solid fa-dollar-sign",color:"text-green-500",bgColor:"bg-green-900/50 text-green-400"}),c.jsx(bn,{title:"Total Gastado",value:`$${m.toFixed(2)}`,icon:"fa-solid fa-coins",color:"text-amber-500",bgColor:"bg-amber-900/50 text-amber-400"}),c.jsx(bn,{title:"Balance Final",value:`$${(d.totalIncome-m).toFixed(2)}`,icon:"fa-solid fa-wallet",color:"text-blue-500",bgColor:"bg-blue-900/50 text-blue-400"})]}),c.jsxs("div",{className:"bg-neutral-700/50 p-4 rounded-2xl border border-neutral-700",children:[c.jsx("h4",{className:"text-base font-bold mb-3 text-neutral-200",children:"Opciones de Exportacin"}),c.jsxs("div",{className:"flex flex-wrap gap-3",children:[c.jsxs("button",{onClick:C,className:"flex-1 bg-red-800/50 text-red-300 active:bg-red-700/50 font-semibold py-2 px-4 rounded-lg text-sm flex items-center justify-center transition-colors min-w-[120px]",children:[c.jsx("i",{className:"fa-solid fa-file-pdf mr-2"}),"Exportar PDF"]}),c.jsxs("button",{onClick:S,className:"flex-1 bg-green-800/50 text-green-300 active:bg-green-700/50 font-semibold py-2 px-4 rounded-lg text-sm flex items-center justify-center transition-colors min-w-[120px]",children:[c.jsx("i",{className:"fa-solid fa-file-csv mr-2"}),"Exportar CSV"]}),c.jsxs("button",{onClick:I,className:"flex-1 bg-teal-800/50 text-teal-300 active:bg-teal-700/50 font-semibold py-2 px-4 rounded-lg text-sm flex items-center justify-center transition-colors min-w-[120px]",children:[c.jsx("i",{className:"fa-solid fa-file-excel mr-2"}),"Exportar Excel"]})]})]}),f&&c.jsx(_h,{current:d,previous:f}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 items-center",children:[c.jsx("div",{className:"h-[300px]",children:c.jsx(Eh,{data:p,totalIncome:d.totalIncome})}),c.jsx("ul",{className:"space-y-3",children:d.categories.map(x=>{const g=d.totalIncome>0?x.amount/d.totalIncome*100:0;return c.jsxs("li",{className:"flex justify-between items-center p-2 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("span",{className:"w-8 h-8 flex items-center justify-center rounded-full text-white text-sm",style:{backgroundColor:x.color},children:c.jsx("i",{className:x.icon})}),c.jsx("span",{className:"font-medium text-sm text-neutral-300",children:x.name})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-semibold text-base text-neutral-100",children:["$",x.amount.toFixed(2)]}),c.jsxs("p",{className:"text-xs text-neutral-400",children:[g.toFixed(1),"%"]})]})]},x.id)})})]})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-10 bg-neutral-700/50 rounded-2xl",children:[c.jsx("i",{className:"fa-solid fa-folder-open text-5xl text-neutral-500 mb-4"}),c.jsx("h3",{className:"text-xl font-bold text-neutral-200",children:"No hay datos que mostrar"}),c.jsx("p",{className:"text-neutral-400",children:"Selecciona un presupuesto de la lista para ver sus detalles."})]})})]})]})]})},Dh=({activeTab:t,onTabChange:e})=>{const n=o=>`flex-1 flex flex-col items-center justify-center p-2 transition-colors text-sm ${t===o?"text-blue-500":"text-neutral-400 active:text-blue-500"}`;return c.jsxs("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-neutral-900/80 backdrop-blur-lg border-t border-neutral-700 flex justify-around items-center z-20",children:[c.jsxs("button",{onClick:()=>e("dashboard"),className:n("dashboard"),children:[c.jsx("i",{className:"fa-solid fa-table-columns text-xl mb-1"}),c.jsx("span",{children:"Dashboard"})]}),c.jsxs("button",{onClick:()=>e("expenses"),className:n("expenses"),children:[c.jsx("i",{className:"fa-solid fa-calendar-days text-xl mb-1"}),c.jsx("span",{children:"Gastos"})]}),c.jsxs("button",{onClick:()=>e("calculators"),className:n("calculators"),children:[c.jsx("i",{className:"fa-solid fa-calculator text-xl mb-1"}),c.jsx("span",{children:"Calcular"})]}),c.jsxs("button",{onClick:()=>e("history"),className:n("history"),children:[c.jsx("i",{className:"fa-solid fa-clock-rotate-left text-xl mb-1"}),c.jsx("span",{children:"Historial"})]})]})},Ah={semanal:"Semanales",quincenal:"Quincenales",mensual:"Mensuales",anual:"Anuales"},Ph=({budgets:t,activeBudgetId:e,onOpenDeleteModal:n,onCreateNew:o,onEditBudget:r})=>{const l=E.useMemo(()=>{const u=t.reduce((d,f)=>{const p=f.frequency||"mensual";return d[p]||(d[p]=[]),d[p].push(f),d},{});for(const d in u)u[d].sort((f,p)=>new Date(p.dateSaved).getTime()-new Date(f.dateSaved).getTime());return u},[t]),i=["semanal","quincenal","mensual","anual"];return c.jsxs("div",{className:"bg-neutral-800 p-6 rounded-3xl shadow-lg space-y-6 self-start",children:[c.jsx("h2",{className:"text-2xl font-bold text-neutral-100 border-b pb-4 border-neutral-700",children:"Mis Presupuestos"}),c.jsxs("button",{onClick:o,className:"w-full bg-blue-600 active:bg-blue-700 text-white font-bold py-2.5 px-4 rounded-xl transition-colors duration-200 flex items-center justify-center",children:[c.jsx("i",{className:"fa-solid fa-plus mr-2"}),"Crear Nuevo"]}),c.jsx("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-2",children:t.length===0?c.jsx("p",{className:"text-sm text-neutral-400 p-3 bg-neutral-700/50 rounded-lg text-center",children:"No hay presupuestos guardados."}):i.map(u=>l[u]&&l[u].length>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-neutral-400 capitalize mb-2 sticky top-0 bg-neutral-800 py-1",children:Ah[u]}),c.jsx("div",{className:"space-y-3",children:l[u].map(d=>c.jsx("div",{className:`p-3 rounded-xl transition-all duration-200 border-2 ${e===d.id?"bg-blue-900/50 border-blue-500":"bg-neutral-700 border-transparent"}`,children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:`font-bold ${e===d.id?"text-blue-300":"text-neutral-200"}`,children:d.name}),c.jsx("p",{className:`text-xs ${e===d.id?"text-blue-400":"text-neutral-400"}`,children:new Date(d.dateSaved).toLocaleDateString("es-ES")})]}),c.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[c.jsx("button",{onClick:f=>{f.stopPropagation(),r(d)},className:`text-sm p-2 h-7 w-7 rounded-lg flex items-center justify-center transition-colors ${e===d.id?"text-blue-400 active:bg-blue-500/20":"text-neutral-400/70 active:text-blue-400 active:bg-blue-500/10"}`,"aria-label":`Editar ${d.name}`,children:c.jsx("i",{className:"fa-solid fa-pencil"})}),c.jsx("button",{onClick:f=>{f.stopPropagation(),n(d)},className:`text-sm p-2 h-7 w-7 rounded-lg flex items-center justify-center transition-colors ${e===d.id?"text-red-500 active:bg-red-500/20":"text-red-500/70 active:text-red-500 active:bg-red-500/10"}`,"aria-label":`Eliminar ${d.name}`,children:c.jsx("i",{className:"fa-solid fa-trash-can"})})]})]})},d.id))})]},u))})]})},Rh=({value:t,onChange:e,label:n})=>{const[o,r]=E.useState(!1),l=i=>{const u=i.target.value;if(u===""){e(0);return}const d=parseFloat(u);!isNaN(d)&&d>=0&&e(d)};return c.jsxs("div",{className:"space-y-3",children:[c.jsx("label",{htmlFor:"total-income",className:"text-xl font-bold text-neutral-300",children:n}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-5 text-2xl text-neutral-400",children:"$"}),c.jsx("input",{type:"number",id:"total-income",value:o&&t===0?"":t,onChange:l,onFocus:()=>r(!0),onBlur:()=>r(!1),className:"w-full p-5 pl-14 text-3xl font-bold bg-neutral-800 border-2 border-neutral-700 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:outline-none text-white",placeholder:"0",min:"0"})]})]})},Fh=({category:t,onAmountChange:e,totalIncome:n,disabled:o=!1})=>{const[r,l]=E.useState(!1),i=d=>{const f=d.target.value;if(f===""){e(t.id,0);return}const p=parseFloat(f);!isNaN(p)&&p>=0&&e(t.id,p)},u=n>0?t.amount/n*100:0;return c.jsxs("div",{className:"bg-neutral-800 p-5 rounded-2xl border border-neutral-700",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("label",{htmlFor:t.id,className:`font-semibold text-neutral-200 flex items-center text-lg ${o?"opacity-70":""}`,children:[c.jsx("i",{className:`${t.icon} mr-3 fa-fw text-xl`,style:{color:t.color}}),t.name]}),c.jsxs("span",{className:"font-bold text-neutral-400 text-base","aria-label":"Porcentaje del total",children:[u.toFixed(1),"%"]})]}),c.jsxs("div",{className:"flex items-center bg-neutral-700 border-2 border-neutral-600 focus-within:border-blue-500 rounded-xl transition-colors has-[:disabled]:bg-neutral-700/50 has-[:disabled]:cursor-not-allowed",children:[c.jsx("span",{className:"pl-5 text-xl text-neutral-400","aria-hidden":"true",children:"$"}),c.jsx("input",{type:"number",id:t.id,value:r&&t.amount===0?"":t.amount,onChange:i,onFocus:()=>l(!0),onBlur:()=>l(!1),className:"w-full p-4 pl-3 text-2xl font-bold text-white text-left bg-transparent border-0 focus:ring-0 focus:outline-none disabled:cursor-not-allowed",min:"0",step:"10",placeholder:"0","aria-label":`Monto para ${t.name}`,disabled:o})]})]})},Lh=[{value:"semanal",label:"Semanal"},{value:"quincenal",label:"Quincenal"},{value:"mensual",label:"Mensual"},{value:"anual",label:"Anual"}],bh=({selected:t,onChange:e})=>c.jsxs("div",{children:[c.jsx("label",{className:"text-xl font-bold text-neutral-300 mb-3 block",children:"Frecuencia del Presupuesto"}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 p-1.5 bg-neutral-700 rounded-xl",children:Lh.map(({value:n,label:o})=>c.jsx("button",{onClick:()=>e(n),className:`w-full text-center px-4 py-2 font-semibold rounded-lg transition-all duration-200 text-sm md:text-base ${t===n?"bg-blue-600 text-white shadow-md":"bg-transparent text-neutral-300 hover:bg-neutral-600"}`,children:o},n))})]}),Uh={semanal:"Semanal",quincenal:"Quincenal",mensual:"Mensual",anual:"Anual"},fu=t=>{const e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),o=t.getDate().toString().padStart(2,"0");return`${e}-${n}-${o}`},Vh=({isOpen:t,onClose:e,onSave:n,onUpdate:o,budget:r})=>{const[l,i]=E.useState(""),[u,d]=E.useState(1500),[f,p]=E.useState(()=>JSON.parse(JSON.stringify(nn))),[m,h]=E.useState("mensual"),[y,C]=E.useState(""),S=r===null,I=E.useMemo(()=>JSON.stringify(f.filter(v=>v.id!=="savings")),[f]);E.useEffect(()=>{if(!t)return;const v=f.filter(M=>M.id!=="savings").reduce((M,D)=>M+D.amount,0),T=u-v,w=Math.max(0,T);p(M=>M.map(D=>D.id==="savings"?{...D,amount:w}:D))},[u,I,t]),E.useEffect(()=>{if(t){if(S){const v=new Date;i(`Presupuesto ${v.toLocaleString("es-ES",{month:"long",year:"numeric"})}`),d(1500),p(JSON.parse(JSON.stringify(nn))),h("mensual"),C(fu(v))}else if(r){i(r.name),d(r.totalIncome),p(JSON.parse(JSON.stringify(r.categories))),h(r.frequency||"mensual");const v=new Date(r.dateSaved);C(fu(v))}}},[t,r,S]);const x=E.useCallback((v,T)=>{p(w=>w.map(M=>M.id===v?{...M,amount:T}:M))},[]),g=()=>{if(l.trim()===""){alert("El nombre no puede estar vaco.");return}if(u<=0){alert("Por favor, introduce un ingreso vlido.");return}const T=new Date(y+"T00:00:00").toISOString();S?n({name:l.trim(),totalIncome:u,categories:f,frequency:m,dateSaved:T}):r&&o({...r,name:l.trim(),totalIncome:u,categories:f,frequency:m,dateSaved:T}),e()};return t?c.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-start z-50 transition-opacity duration-300 p-4",onClick:e,"aria-modal":"true",role:"dialog",children:[c.jsxs("div",{className:"bg-neutral-800 rounded-2xl shadow-xl p-6 md:p-8 w-full max-w-2xl my-8 transform transition-all duration-300 scale-95 opacity-0 animate-fade-in-scale max-h-[90vh] flex flex-col",onClick:v=>v.stopPropagation(),children:[c.jsx("h2",{className:"text-2xl font-bold mb-6 text-neutral-100 flex-shrink-0 border-b border-neutral-700 pb-4",children:S?"Crear Presupuesto Rpido":"Editar Presupuesto"}),c.jsxs("div",{className:"overflow-y-auto space-y-6 pr-2 -mr-2 flex-grow",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Nombre"}),c.jsx("input",{type:"text",value:l,onChange:v=>i(v.target.value),className:"w-full p-3 bg-neutral-700 text-white rounded-lg",autoFocus:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Fecha"}),c.jsx("input",{type:"date",value:y,onChange:v=>C(v.target.value),className:"w-full p-3 bg-neutral-700 text-white rounded-lg"})]})]}),c.jsx(bh,{selected:m,onChange:h}),c.jsx(Rh,{value:u,onChange:d,label:`Ingreso ${Uh[m]} Total`}),c.jsx("div",{className:"space-y-4",children:f.map(v=>c.jsx(Fh,{category:v,onAmountChange:x,totalIncome:u,disabled:v.id==="savings"},v.id))})]}),c.jsxs("div",{className:"mt-8 flex justify-end space-x-4 flex-shrink-0 border-t border-neutral-700 pt-6",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg bg-neutral-600 text-neutral-200 font-semibold",children:"Cancelar"}),c.jsx("button",{onClick:g,className:"px-6 py-2 rounded-lg bg-blue-600 active:bg-blue-700 text-white font-bold",children:S?"Guardar":"Actualizar"})]})]}),c.jsx("style",{children:`
        @keyframes fade-in-scale {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-fade-in-scale { animation: fade-in-scale 0.2s ease-out forwards; }
      `})]}):null},jh=({isOpen:t,onClose:e,onConfirm:n})=>{if(!t)return null;const o=()=>{n(),e()};return c.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 transition-opacity duration-300 p-4",onClick:e,"aria-modal":"true",role:"dialog",children:[c.jsxs("div",{className:"bg-neutral-800 rounded-2xl shadow-xl p-8 w-full max-w-md m-4 transform transition-all duration-300 scale-95 opacity-0 animate-fade-in-scale text-center",onClick:r=>r.stopPropagation(),children:[c.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-900/50 mb-4",children:c.jsx("i",{className:"fa-solid fa-right-from-bracket text-2xl text-red-400"})}),c.jsx("h2",{className:"text-2xl font-bold mb-2 text-neutral-100",children:"Cerrar Sesin"}),c.jsx("p",{className:"text-neutral-300 mb-6",children:"Ests seguro de que quieres cerrar tu sesin? Tendrs que volver a introducir tus credenciales para acceder."}),c.jsxs("div",{className:"mt-8 flex justify-center space-x-4",children:[c.jsx("button",{onClick:e,className:"px-6 py-2.5 rounded-lg bg-neutral-600 text-neutral-200 active:bg-neutral-500 font-semibold transition-colors",children:"Cancelar"}),c.jsx("button",{onClick:o,className:"px-8 py-2.5 rounded-lg bg-red-600 active:bg-red-700 text-white font-bold transition-colors shadow-lg shadow-red-500/20",autoFocus:!0,children:"S, Cerrar Sesin"})]})]}),c.jsx("style",{children:`
        @keyframes fade-in-scale {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-fade-in-scale {
          animation: fade-in-scale 0.2s ease-out forwards;
        }
      `})]})},$h=({isOpen:t,onClose:e,currentUser:n,onLogout:o})=>{const[r,l]=E.useState(!1),[i,u]=E.useState(!1),d=()=>{u(!0)};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:`fixed inset-0 bg-black z-40 transition-opacity duration-300 ${t?"bg-opacity-50":"bg-opacity-0 pointer-events-none"}`,onClick:e,"aria-hidden":"true"}),c.jsx("div",{className:`fixed top-0 left-0 h-full w-72 bg-neutral-800 shadow-2xl z-50 transform transition-transform duration-300 ease-in-out ${t?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"menu-title",children:c.jsxs("div",{className:"p-6 h-full flex flex-col",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("h2",{id:"menu-title",className:"text-xl font-bold text-neutral-100",children:"Men"}),c.jsx("button",{onClick:e,className:"p-2 rounded-full active:bg-neutral-700","aria-label":"Cerrar men",children:c.jsx("i",{className:"fa-solid fa-times text-xl"})})]}),c.jsx("div",{className:"mb-4",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-neutral-700 flex items-center justify-center text-xl font-bold text-blue-400",children:n.charAt(0).toUpperCase()}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-neutral-200",children:n}),c.jsx("p",{className:"text-sm text-neutral-400",children:"Perfil Local"})]})]})}),c.jsx("div",{className:"flex-grow"}),c.jsxs("div",{className:"mb-2",children:[c.jsxs("button",{onClick:()=>l(!r),className:"w-full text-left p-3 rounded-lg flex justify-between items-center active:bg-neutral-700 text-neutral-200 font-semibold transition-colors","aria-expanded":r,children:[c.jsxs("span",{children:[c.jsx("i",{className:"fa-solid fa-cog mr-3"}),"Opciones"]}),c.jsx("i",{className:`fa-solid fa-chevron-down text-sm transition-transform duration-200 ${r?"rotate-180":""}`})]}),c.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${r?"max-h-60 mt-2":"max-h-0"}`,children:c.jsxs("div",{className:"bg-neutral-700/50 p-4 rounded-lg space-y-3 text-sm",children:[c.jsxs("div",{className:"flex items-center text-neutral-300",children:[c.jsx("i",{className:"fa-solid fa-language fa-fw mr-3 text-neutral-400"}),c.jsx("span",{children:"Idioma: Espaol (ES)"})]}),c.jsxs("div",{className:"flex items-center text-neutral-300",children:[c.jsx("i",{className:"fa-solid fa-moon fa-fw mr-3 text-neutral-400"}),c.jsx("span",{children:"Tema: Oscuro"})]}),c.jsxs("div",{className:"flex items-center text-neutral-300 pt-3 border-t border-neutral-600 mt-3",children:[c.jsx("i",{className:"fa-solid fa-code fa-fw mr-3 text-blue-400"}),c.jsx("span",{children:"Creado por Anghello Sanchez"})]})]})})]}),c.jsx("div",{className:"flex-shrink-0 pt-4 border-t border-neutral-700",children:c.jsxs("button",{onClick:d,className:"w-full text-left p-3 rounded-lg active:bg-red-500/10 text-red-400 font-semibold transition-colors",children:[c.jsx("i",{className:"fa-solid fa-right-from-bracket mr-3"}),"Cerrar Sesin"]})})]})}),c.jsx(jh,{isOpen:i,onClose:()=>u(!1),onConfirm:o})]})},qn=({options:t,value:e,onChange:n,label:o,className:r=""})=>{const[l,i]=E.useState(!1),u=t.find(p=>p.value===e),d=E.useRef(null),f=p=>{n(p),i(!1)};return E.useEffect(()=>{const p=m=>{d.current&&!d.current.contains(m.target)&&i(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]),c.jsxs("div",{className:`relative ${r}`,ref:d,children:[o&&c.jsx("label",{className:"text-sm font-bold text-neutral-300 mb-1 block",children:o}),c.jsxs("button",{type:"button",onClick:()=>i(!l),className:"w-full p-3 bg-neutral-700 text-white border-2 border-neutral-600 rounded-lg text-lg font-semibold text-left flex justify-between items-center","aria-haspopup":"listbox","aria-expanded":l,children:[c.jsx("span",{children:u?u.label:"Seleccionar..."}),c.jsx("i",{className:`fa-solid fa-chevron-down text-sm text-neutral-400 transition-transform duration-200 ${l?"rotate-180":""}`})]}),l&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden animate-fade-in-fast",onClick:()=>i(!1),"aria-hidden":"true"}),c.jsxs("div",{className:`fixed bottom-0 left-0 w-full bg-neutral-800 rounded-t-2xl shadow-lg z-50 p-4 animate-slide-up
                       md:absolute md:top-full md:mt-2 md:bottom-auto md:w-full md:rounded-lg md:animate-fade-in-sm`,role:"listbox",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 md:hidden",children:[c.jsx("h3",{className:"text-lg font-bold text-neutral-200",children:o||"Seleccionar opcin"}),c.jsx("button",{type:"button",onClick:()=>i(!1),className:"p-2 -mr-2 text-neutral-400",children:c.jsx("i",{className:"fa-solid fa-times text-xl"})})]}),c.jsx("ul",{className:"space-y-1 max-h-60 overflow-y-auto",children:t.map(p=>c.jsx("li",{children:c.jsx("button",{type:"button",onClick:()=>f(p.value),className:`w-full text-left p-3 rounded-lg text-base transition-colors ${e===p.value?"bg-blue-600 text-white font-bold":"text-neutral-200 active:bg-neutral-700"}`,role:"option","aria-selected":e===p.value,children:p.label})},p.value))})]})]}),c.jsx("style",{children:`
        @keyframes slide-up {
          from { transform: translateY(100%); opacity: 0; }
          to { transform: translateY(0); opacity: 1; }
        }
        .animate-slide-up { animation: slide-up 0.3s ease-out forwards; }

        @keyframes fade-in-sm {
          from { opacity: 0; transform: translateY(-5px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-sm { animation: fade-in-sm 0.2s ease-out forwards; }

        @keyframes fade-in-fast {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        .animate-fade-in-fast { animation: fade-in-fast 0.3s ease-out forwards; }
      `})]})},pu=t=>{const e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),o=t.getDate().toString().padStart(2,"0");return`${e}-${n}-${o}`},Ji=["#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#6366f1","#a855f7","#ec4899"],zh=({profile:t,onUpdate:e,onInitiateDelete:n,isExpanded:o,onExpandToggle:r})=>{var x,g,v,T;const[l,i]=E.useState(t.name),[u,d]=E.useState(t.color),[f,p]=E.useState(((x=t.config)==null?void 0:x.frequency)||"mensual"),[m,h]=E.useState(((g=t.config)==null?void 0:g.startDate)||pu(new Date)),[y,C]=E.useState(((T=(v=t.config)==null?void 0:v.income)==null?void 0:T.toString())||"");E.useEffect(()=>{var w,M,D,A;i(t.name),d(t.color),p(((w=t.config)==null?void 0:w.frequency)||"mensual"),h(((M=t.config)==null?void 0:M.startDate)||pu(new Date)),C(((A=(D=t.config)==null?void 0:D.income)==null?void 0:A.toString())||"")},[t,o]);const S=()=>{const w=parseFloat(y);if(l.trim()===""){alert("El nombre del calendario no puede estar vaco.");return}const M=m&&!isNaN(w)&&w>=0?{frequency:f,startDate:m,income:w}:null;e({...t,name:l.trim(),color:u,config:M}),r()},I=[{value:"semanal",label:"Semanal"},{value:"quincenal",label:"Quincenal"},{value:"mensual",label:"Mensual"},{value:"anual",label:"Anual"}];return c.jsxs("div",{className:"bg-neutral-700 rounded-lg p-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-grow",children:[c.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:o?u:t.color}}),c.jsx("p",{className:"font-semibold",children:t.name})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:r,className:"p-2 w-8 h-8 rounded-lg active:bg-neutral-600 text-blue-400",children:c.jsx("i",{className:`fa-solid fa-chevron-down transition-transform ${o?"rotate-180":""}`})}),c.jsx("button",{onClick:()=>n(t.id),className:"p-2 w-8 h-8 rounded-lg active:bg-neutral-600 text-red-400",children:c.jsx("i",{className:"fa-solid fa-trash-can"})})]})]}),o&&c.jsxs("div",{className:"mt-4 pt-4 border-t border-neutral-600 space-y-4",children:[c.jsx("input",{type:"text",value:l,onChange:w=>i(w.target.value),placeholder:"Nombre del Calendario",className:"w-full p-2 bg-neutral-600 rounded"}),c.jsx("div",{className:"flex justify-around",children:Ji.map(w=>c.jsx("button",{onClick:()=>d(w),className:`w-6 h-6 rounded-full transition-transform ${u===w?"ring-2 ring-white scale-110":""}`,style:{backgroundColor:w}},w))}),c.jsx("h4",{className:"font-bold text-sm pt-2",children:"Configuracin de Pagos (Opcional)"}),c.jsx(qn,{options:I,value:f,onChange:w=>p(w)}),c.jsx("input",{type:"date",value:m,onChange:w=>h(w.target.value),className:"w-full p-2 bg-neutral-600 rounded"}),c.jsx("input",{type:"number",value:y,onChange:w=>C(w.target.value),placeholder:"Ingreso por ciclo",className:"w-full p-2 bg-neutral-600 rounded"}),c.jsx("button",{onClick:S,className:"w-full bg-blue-600 text-white font-bold py-2 rounded-lg",children:"Guardar Cambios"})]})]})},Gh=({isOpen:t,onClose:e,profiles:n,setProfiles:o,setActiveId:r,onInitiateDelete:l,initialExpandedId:i,onExpandedChange:u})=>{E.useEffect(()=>{t||u(null)},[t]);const d=()=>{const m={id:Date.now().toString(),name:`Calendario ${n.length+1}`,color:Ji[n.length%Ji.length],config:null},h=[...n,m];o(h),r(m.id),u(m.id)},f=m=>{o(h=>h.map(y=>y.id===m.id?m:y))},p=m=>{u(i===m?null:m)};return t?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",onClick:e,children:c.jsxs("div",{className:"bg-neutral-800 rounded-2xl shadow-xl p-6 w-full max-w-md max-h-[80vh] flex flex-col",onClick:m=>m.stopPropagation(),children:[c.jsx("h2",{className:"text-2xl font-bold mb-4 text-neutral-100",children:"Gestionar Calendarios"}),c.jsx("div",{className:"space-y-3 flex-grow overflow-y-auto pr-2 -mr-2",children:n.map(m=>c.jsx(zh,{profile:m,onUpdate:f,onInitiateDelete:l,isExpanded:i===m.id,onExpandToggle:()=>p(m.id)},m.id))}),i===null&&c.jsxs("div",{className:"mt-4 pt-4 border-t border-neutral-700 space-y-3",children:[c.jsxs("button",{onClick:d,className:"w-full bg-green-600 text-white font-bold py-2 rounded-lg",children:[c.jsx("i",{className:"fa-solid fa-plus mr-2"}),"Aadir Nuevo Calendario"]}),c.jsx("button",{onClick:e,className:"w-full bg-neutral-600 text-white font-bold py-2 rounded-lg",children:"Cerrar"})]})]})}):null},mu=t=>{const e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),o=t.getDate().toString().padStart(2,"0");return`${e}-${n}-${o}`},Bh=({isOpen:t,onClose:e,expense:n,setFutureExpenses:o,categories:r})=>{var T;const[l,i]=E.useState(""),[u,d]=E.useState(""),[f,p]=E.useState(((T=r[0])==null?void 0:T.id)||""),[m,h]=E.useState(mu(new Date)),[y,C]=E.useState("una-vez"),[S,I]=E.useState(null);E.useEffect(()=>{var w;t&&(n?(i(n.note),d(n.amount.toString()),p(n.categoryId),h(n.startDate),C(n.frequency),I(n.endDate||null)):(i(""),d(""),p(((w=r[0])==null?void 0:w.id)||""),h(mu(new Date)),C("una-vez"),I(null)))},[t,n,r]);const x=w=>{w.preventDefault();const M=parseFloat(u);if(!l.trim()||isNaN(M)||M<=0){alert("Por favor, completa todos los campos con valores vlidos.");return}if(n)o(D=>D.map(A=>A.id===n.id?{...A,note:l,amount:M,categoryId:f,startDate:m,frequency:y,endDate:S}:A));else{const D={id:Date.now().toString(),note:l.trim(),amount:M,categoryId:f,startDate:m,frequency:y,endDate:S};o(A=>[...A,D])}e()},g=E.useMemo(()=>r.map(w=>({value:w.id,label:w.name})),[r]),v=[{value:"una-vez",label:"Una vez"},{value:"semanal",label:"Semanal"},{value:"quincenal",label:"Quincenal"},{value:"mensual",label:"Mensual"},{value:"anual",label:"Anual"}];return t?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",onClick:e,children:c.jsxs("div",{className:"bg-neutral-800 rounded-2xl shadow-xl p-6 w-full max-w-md",onClick:w=>w.stopPropagation(),children:[c.jsxs("h2",{className:"text-xl font-bold mb-4 text-neutral-100",children:[n?"Editar":"Aadir"," Gasto Planificado"]}),c.jsxs("form",{onSubmit:x,className:"space-y-4",children:[c.jsx("input",{type:"text",value:l,onChange:w=>i(w.target.value),placeholder:"Nota (ej. Renta, Netflix)",className:"w-full p-2 bg-neutral-700 text-white border border-neutral-600 rounded-lg",required:!0}),c.jsx("input",{type:"number",value:u,onChange:w=>d(w.target.value),placeholder:"Importe",className:"w-full p-2 bg-neutral-700 text-white border border-neutral-600 rounded-lg",min:"0.01",step:"0.01",required:!0}),c.jsx(qn,{options:g,value:f,onChange:p,className:"[&>button]:p-2 [&>button]:text-base [&>button]:font-normal"}),c.jsx("div",{children:c.jsx(qn,{label:"Frecuencia",options:v,value:y,onChange:w=>C(w),className:"[&>button]:p-2 [&>button]:text-base [&>button]:font-normal"})}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-neutral-400",children:"Fecha de inicio"}),c.jsx("input",{type:"date",value:m,onChange:w=>h(w.target.value),className:"w-full p-2 bg-neutral-700 text-white border border-neutral-600 rounded-lg",required:!0})]}),y!=="una-vez"&&c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-neutral-400",children:"Fecha de fin (opcional)"}),c.jsx("input",{type:"date",value:S||"",onChange:w=>I(w.target.value||null),className:"w-full p-2 bg-neutral-700 text-white border border-neutral-600 rounded-lg"})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 rounded-lg bg-neutral-600 text-neutral-200 active:bg-neutral-500 font-semibold",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-blue-600 active:bg-blue-700 text-white font-bold",children:n?"Actualizar":"Guardar"})]})]})]})}):null},qh=({isOpen:t,onClose:e,budget:n})=>{const{totalSpent:o,balance:r,categoriesWithData:l}=E.useMemo(()=>{if(!n)return{totalSpent:0,balance:0,categoriesWithData:[]};const u=n.categories.filter(p=>p.id!=="savings").reduce((p,m)=>p+m.amount,0),d=n.totalIncome-u,f=n.categories.filter(p=>p.amount>0).map(p=>({...p,percentage:n.totalIncome>0?p.amount/n.totalIncome*100:0}));return{totalSpent:u,balance:d,categoriesWithData:f}},[n]);return t?c.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 transition-opacity duration-300 p-4",onClick:e,"aria-modal":"true",role:"dialog",children:[c.jsx("div",{className:"bg-neutral-800 rounded-2xl shadow-xl p-6 w-full max-w-2xl m-4 transform transition-all duration-300 scale-95 opacity-0 animate-fade-in-scale max-h-[90vh] flex flex-col",onClick:i=>i.stopPropagation(),children:n?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0 border-b border-neutral-700 pb-4",children:[c.jsx("h2",{className:"text-2xl font-bold text-neutral-100",children:"Presupuesto del Ciclo Actual"}),c.jsx("button",{onClick:e,className:"p-2 rounded-full active:bg-neutral-700","aria-label":"Cerrar vista de presupuesto",children:c.jsx("i",{className:"fa-solid fa-times text-xl"})})]}),c.jsxs("div",{className:"overflow-y-auto flex-grow pr-2 -mr-2 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(bn,{title:"Ingreso del Ciclo",value:`$${n.totalIncome.toFixed(2)}`,icon:"fa-solid fa-dollar-sign",color:"text-green-500",bgColor:"bg-green-900/50 text-green-400"}),c.jsx(bn,{title:"Total Gastado",value:`$${o.toFixed(2)}`,icon:"fa-solid fa-coins",color:"text-amber-500",bgColor:"bg-amber-900/50 text-amber-400"}),c.jsx(bn,{title:"Balance Actual",value:`$${r.toFixed(2)}`,icon:"fa-solid fa-wallet",color:"text-blue-500",bgColor:"bg-blue-900/50 text-blue-400"})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-neutral-200 mb-3",children:"Desglose de Gastos"}),c.jsx("div",{className:"space-y-3",children:l.length>0?l.map(i=>c.jsxs("div",{className:"bg-neutral-700/50 p-3 rounded-lg",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("i",{className:`${i.icon} fa-fw`,style:{color:i.color}}),c.jsx("span",{className:"font-semibold text-neutral-200",children:i.name})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-bold text-neutral-100",children:["$",i.amount.toFixed(2)]}),c.jsxs("p",{className:"text-xs text-neutral-400",children:[i.percentage.toFixed(1),"%"]})]})]}),c.jsx("div",{className:"w-full bg-neutral-600 rounded-full h-1.5 mt-1",children:c.jsx("div",{className:"h-1.5 rounded-full",style:{width:`${i.percentage}%`,backgroundColor:i.color,transition:"width 0.5s"}})})]},i.id)):c.jsx("p",{className:"text-center text-neutral-500 py-4",children:"No hay gastos registrados en este ciclo."})})]})]}),c.jsx("div",{className:"mt-6 flex-shrink-0 border-t border-neutral-700 pt-4 text-center",children:c.jsx("p",{className:"text-xs text-neutral-500",children:"Este es un presupuesto en tiempo real. Se guardar en tu historial cuando el ciclo finalice."})})]}):c.jsxs("div",{className:"text-center p-8",children:[c.jsx("i",{className:"fa-solid fa-circle-info text-4xl text-blue-500 mb-4"}),c.jsx("h2",{className:"text-2xl font-bold mb-2 text-neutral-100",children:"Sin Presupuesto Activo"}),c.jsx("p",{className:"text-neutral-300 mb-6",children:'Para ver un presupuesto en tiempo real, primero debes configurar un ciclo de pago en la pestaa de "Gastos".'}),c.jsx("button",{onClick:e,className:"px-6 py-2.5 rounded-lg bg-blue-600 active:bg-blue-700 text-white font-bold transition-colors",children:"Entendido"})]})}),c.jsx("style",{children:`
        @keyframes fade-in-scale {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-fade-in-scale {
          animation: fade-in-scale 0.2s ease-out forwards;
        }
      `})]}):null},Dt=t=>{const e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),o=t.getDate().toString().padStart(2,"0");return`${e}-${n}-${o}`},Oh=({profiles:t,activeId:e,onSelect:n,onManage:o})=>{const[r,l]=E.useState(!1),i=t.find(f=>f.id===e),u=E.useRef(null);E.useEffect(()=>{const f=p=>{u.current&&!u.current.contains(p.target)&&l(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const d=f=>{n(f),l(!1)};return c.jsxs("div",{className:"relative",ref:u,children:[c.jsxs("button",{onClick:()=>l(!r),className:"flex items-center gap-3 bg-neutral-700 p-2 rounded-lg w-full text-left",children:[i?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i.color}}),c.jsx("span",{className:"font-bold text-neutral-100 flex-grow",children:i.name})]}):c.jsx("span",{className:"font-bold text-neutral-300 flex-grow",children:"Seleccionar Calendario"}),c.jsx("i",{className:`fa-solid fa-chevron-down text-sm text-neutral-400 transition-transform duration-200 ${r?"rotate-180":""}`})]}),r&&c.jsx("div",{className:"absolute top-full mt-2 w-full bg-neutral-800 rounded-lg shadow-lg z-10 p-2 border border-neutral-700",children:c.jsxs("ul",{className:"space-y-1",children:[t.map(f=>c.jsx("li",{children:c.jsxs("button",{onClick:()=>d(f.id),className:`w-full text-left p-2 rounded-md flex items-center gap-3 ${e===f.id?"bg-blue-600 text-white":"active:bg-neutral-700"}`,children:[c.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:f.color}}),c.jsx("span",{children:f.name})]})},f.id)),c.jsx("li",{children:c.jsxs("button",{onClick:o,className:"w-full text-left p-2 rounded-md active:bg-neutral-700 text-blue-400 font-semibold mt-1 border-t border-neutral-700",children:[c.jsx("i",{className:"fa-solid fa-cog mr-2"}),"Gestionar Calendarios"]})})]})})]})},Hh=({expenses:t,setExpenses:e,categories:n,onForceCreateBudget:o,futureExpenses:r,setFutureExpenses:l,currentCycleBudget:i,cycleProfiles:u,setCycleProfiles:d,activeCycleId:f,setActiveCycleId:p,pendingAction:m,onActionHandled:h})=>{var Jo;const[y,C]=E.useState("calendar"),[S,I]=E.useState(new Date),[x,g]=E.useState(null),[v,T]=E.useState(!1),[w,M]=E.useState(!1),[D,A]=E.useState(!1),[$,L]=E.useState(null),[Z,qe]=E.useState(!1),[xe,ue]=E.useState(null),[pt,mt]=E.useState(null),[It,P]=E.useState(""),[U,j]=E.useState(""),[q,ne]=E.useState(((Jo=n[0])==null?void 0:Jo.id)||""),Mt=E.useMemo(()=>new Date(S.getFullYear(),S.getMonth(),1),[S]),be=E.useMemo(()=>new Date(S.getFullYear(),S.getMonth()+1,0).getDate(),[S]),Ee=E.useMemo(()=>new Map(n.map(b=>[b.id,b])),[n]),Oe=E.useMemo(()=>n.map(b=>({value:b.id,label:b.name})),[n]),Ne=E.useMemo(()=>{var b;return((b=u.find(N=>N.id===f))==null?void 0:b.config)||null},[u,f]);E.useEffect(()=>{m&&(m==="add_cycle"?M(!0):m==="add_daily_expense"?(I(new Date),setTimeout(()=>Ho(new Date().getDate()),0)):m==="add_future_expense"&&(C("planned"),Xe(null)),h())},[m,h]);const qo=E.useMemo(()=>{if(!Ne)return new Set;const b=new Set;let N=new Date(`${Ne.startDate}T00:00:00`);const _=S.getMonth(),F=S.getFullYear(),H=new Date(F,_+1,0);for(;N<new Date(F,_,1);)switch(Ne.frequency){case"semanal":N.setDate(N.getDate()+7);break;case"quincenal":N.setDate(N.getDate()+14);break;case"mensual":N.setMonth(N.getMonth()+1);break;case"anual":N.setFullYear(N.getFullYear()+1);break}for(;N<=H;)switch(N.getMonth()===_&&b.add(Dt(N)),Ne.frequency){case"semanal":N.setDate(N.getDate()+7);break;case"quincenal":N.setDate(N.getDate()+14);break;case"mensual":N.setMonth(N.getMonth()+1);break;case"anual":N.setFullYear(N.getFullYear()+1);break}return b},[Ne,S]),Zt=E.useMemo(()=>{const b=new Map,N=S.getFullYear(),_=S.getMonth(),F=new Date(N,_,1),H=new Date(N,_+1,0);for(const O of r){let z=new Date(`${O.startDate}T00:00:00`);const ye=O.endDate?new Date(O.endDate):null;for(;z<=H&&(!ye||z<=ye);){if(z>=F){const gt=Dt(z),Y=b.get(gt)||[];b.set(gt,[...Y,O])}if(O.frequency==="una-vez")break;switch(O.frequency){case"semanal":z.setDate(z.getDate()+7);break;case"quincenal":z.setDate(z.getDate()+14);break;case"mensual":z.setMonth(z.getMonth()+1);break;case"anual":z.setFullYear(z.getFullYear()+1);break}}}return b},[r,S]),Oo=()=>I(new Date(S.getFullYear(),S.getMonth()-1,1)),Il=()=>I(new Date(S.getFullYear(),S.getMonth()+1,1)),Ho=b=>{g(new Date(S.getFullYear(),S.getMonth(),b)),T(!0)},it=()=>{var b;T(!1),g(null),P(""),j(""),ne(((b=n[0])==null?void 0:b.id)||"")},Ue=b=>{if(b.preventDefault(),!x||!q||!U)return;const N=parseFloat(U);if(isNaN(N)||N<=0){alert("Por favor, introduce un importe vlido.");return}const _=Dt(x),F={id:Date.now().toString(),note:It.trim(),amount:N,categoryId:q};e(H=>({...H,[_]:[...H[_]||[],F]})),P(""),j("")},Jn=(b,N)=>{const _=Dt(b);e(F=>{const H=(F[_]||[]).filter(z=>z.id!==N),O={...F};return H.length>0?O[_]=H:delete O[_],O})},Xe=(b=null)=>{L(b),A(!0)},ht=b=>{window.confirm("Seguro que quieres eliminar este gasto planificado?")&&l(N=>N.filter(_=>_.id!==b))},Ml=b=>{const N=u.find(_=>_.id===b);N&&(ue(N),M(!1))},Qn=()=>{ue(null)},kl=()=>{if(!xe)return;const b=u.filter(N=>N.id!==xe.id);d(b),f===xe.id&&p(b.length>0?b[0].id:null),ue(null)},Yo=()=>{const b=[],N=Mt.getDay();for(let _=0;_<N;_++)b.push(c.jsx("div",{className:"border-r border-b border-neutral-700"},`blank-${_}`));for(let _=1;_<=be;_++){const F=new Date(S.getFullYear(),S.getMonth(),_),H=Dt(F),O=t[H]||[],z=Zt.get(H)||[],ye=O.reduce((W,st)=>W+st.amount,0),gt=Dt(new Date)===H,Y=qo.has(H);b.push(c.jsxs("div",{className:"border-r border-b border-neutral-700 p-1.5 flex flex-col cursor-pointer active:bg-blue-900/50 transition-colors relative aspect-square",onClick:()=>Ho(_),children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("span",{className:`font-bold text-sm ${gt?"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center":"text-neutral-200"}`,children:_}),c.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[Y&&c.jsx("i",{className:"fa-solid fa-dollar-sign text-green-500 text-xs",title:"Da de pago"}),z.length>0&&c.jsx("div",{className:"flex items-center space-x-1",children:z.slice(0,3).map(W=>{const st=Ee.get(W.categoryId);return c.jsx("i",{className:"fa-solid fa-flag text-xs",style:{color:(st==null?void 0:st.color)||"#9ca3af"},title:`Planificado: ${W.note} ($${W.amount})`},W.id)})})]})]}),ye>0&&c.jsxs("span",{className:"text-xs text-red-500 font-semibold mt-auto self-end",children:["-$",ye.toFixed(2)]})]},_))}return b},Dl=()=>{const b=[...r].sort((N,_)=>new Date(N.startDate).getTime()-new Date(_.startDate).getTime());return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:()=>Xe(null),className:"w-full sm:w-auto bg-blue-600 active:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center",children:[c.jsx("i",{className:"fa-solid fa-plus mr-2"}),"Aadir Gasto Planificado"]}),b.length===0?c.jsx("p",{className:"text-center text-neutral-400 py-8",children:"No tienes gastos planificados."}):c.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2",children:b.map(N=>{const _=Ee.get(N.categoryId);return c.jsxs("div",{className:"bg-neutral-700 p-3 rounded-lg flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-neutral-200",children:N.note}),c.jsxs("p",{className:"text-sm text-neutral-300",children:[_==null?void 0:_.name,"  $",N.amount.toFixed(2)]}),c.jsxs("p",{className:"text-xs text-neutral-400 capitalize",children:[N.frequency.replace("-"," "),"  Inicia: ",new Date(`${N.startDate}T00:00:00`).toLocaleDateString()]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>Xe(N),className:"p-2 w-8 h-8 rounded-lg active:bg-neutral-600 text-blue-400",children:c.jsx("i",{className:"fa-solid fa-pencil"})}),c.jsx("button",{onClick:()=>ht(N.id),className:"p-2 w-8 h-8 rounded-lg active:bg-neutral-600 text-red-400",children:c.jsx("i",{className:"fa-solid fa-trash-can"})})]})]},N.id)})})]})},Xn=x?t[Dt(x)]||[]:[],Wo=["Dom","Lun","Mar","Mi","Jue","Vie","Sb"],Ko=b=>`px-4 py-2 font-semibold rounded-lg transition-colors ${y===b?"bg-blue-500 text-white":"bg-transparent text-neutral-300 active:bg-neutral-700"}`;return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-neutral-800 p-6 rounded-3xl shadow-lg",children:[c.jsxs("div",{className:"border-b pb-4 border-neutral-700 mb-6",children:[c.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[c.jsx("h2",{className:"text-2xl font-bold text-neutral-100",children:"Rastreador de Gastos"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:()=>qe(!0),disabled:!i,className:"text-sm bg-teal-600 active:bg-teal-700 text-white font-semibold py-2 px-3 rounded-lg disabled:bg-neutral-600 disabled:cursor-not-allowed transition-colors",title:i?"Ver presupuesto del ciclo actual":"Configura un ciclo de pago para ver el presupuesto",children:[c.jsx("i",{className:"fa-solid fa-chart-pie mr-2"}),"Ver Presupuesto"]}),c.jsxs("button",{onClick:o,disabled:!Ne,className:"text-sm bg-blue-600 active:bg-blue-700 text-white font-semibold py-2 px-3 rounded-lg disabled:bg-neutral-600 disabled:cursor-not-allowed transition-colors",title:Ne?"Crear presupuesto con los gastos hasta hoy":"Configura un ciclo de pago para usar esta funcin",children:[c.jsx("i",{className:"fa-solid fa-bolt mr-2"}),"Crear Presupuesto"]})]})]}),c.jsx("div",{className:"mt-4 max-w-sm",children:c.jsx(Oh,{profiles:u,activeId:f,onSelect:p,onManage:()=>M(!0)})})]}),f&&!Ne&&c.jsxs("div",{className:"bg-yellow-900/50 border border-yellow-700 text-yellow-200 p-4 rounded-lg my-6 flex items-start gap-4 animate-fade-in-scale",children:[c.jsx("i",{className:"fa-solid fa-triangle-exclamation text-xl mt-1 text-yellow-400"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-base text-yellow-100",children:"Configura tu ciclo de pagos!"}),c.jsx("p",{className:"text-sm text-yellow-300 mb-3",children:"Aade tus ingresos y la frecuencia de tus pagos para activar el presupuesto en tiempo real y la creacin automtica de resmenes."}),c.jsx("button",{onClick:()=>{M(!0),mt(f)},className:"bg-yellow-500 text-yellow-950 font-bold text-sm py-1.5 px-3 rounded-md hover:bg-yellow-400 transition-colors",children:"Configurar Ciclo"})]})]}),c.jsxs("div",{className:"mb-6 flex space-x-2 p-1 bg-neutral-900/50 rounded-xl self-start",children:[c.jsxs("button",{onClick:()=>C("calendar"),className:Ko("calendar"),children:[c.jsx("i",{className:"fa-solid fa-calendar-alt mr-2"}),"Calendario"]}),c.jsxs("button",{onClick:()=>C("planned"),className:Ko("planned"),children:[c.jsx("i",{className:"fa-solid fa-clock-rotate-left mr-2"}),"Planificados"]})]}),f?y==="calendar"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("button",{onClick:Oo,className:"p-2 rounded-full active:bg-neutral-700",children:c.jsx("i",{className:"fa-solid fa-chevron-left"})}),c.jsx("h3",{className:"text-xl font-bold",children:S.toLocaleString("es-ES",{month:"long",year:"numeric"})}),c.jsx("button",{onClick:Il,className:"p-2 rounded-full active:bg-neutral-700",children:c.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),c.jsxs("div",{className:"grid grid-cols-7 border-t border-l border-neutral-700 select-none",children:[Wo.map(b=>c.jsx("div",{className:"text-center font-bold p-2 border-r border-b border-neutral-700 text-sm text-neutral-400",children:b},b)),Yo()]})]}):Dl():c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-neutral-400",children:"Por favor, crea o selecciona un calendario para empezar."})})]}),v&&x&&(()=>{const b=Dt(x),N=Zt.get(b)||[];return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",onClick:it,children:c.jsxs("div",{className:"bg-neutral-800 rounded-2xl shadow-xl p-6 w-full max-w-md transform transition-all animate-fade-in-scale",onClick:_=>_.stopPropagation(),children:[c.jsxs("h3",{className:"text-lg font-bold mb-4 text-neutral-100",children:["Gastos del ",x.toLocaleDateString("es-ES")]}),N.length>0&&c.jsxs("div",{className:"mb-4 border-b border-neutral-700 pb-4",children:[c.jsxs("h4",{className:"text-sm font-semibold text-neutral-300 mb-2 flex items-center gap-2",children:[c.jsx("i",{className:"fa-solid fa-flag text-blue-400"}),"Gastos Planificados"]}),c.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto pr-2",children:N.map(_=>{const F=Ee.get(_.categoryId);return c.jsxs("div",{className:"flex justify-between items-center bg-neutral-700/50 p-2 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[F&&c.jsx("i",{className:`${F.icon} fa-fw`,style:{color:F.color}}),c.jsx("span",{className:"text-sm text-neutral-200",children:_.note})]}),c.jsxs("span",{className:"font-semibold text-sm text-neutral-100",children:["$",_.amount.toFixed(2)]})]},_.id)})})]}),c.jsxs("h4",{className:"text-sm font-semibold text-neutral-300 mb-2 flex items-center gap-2",children:[c.jsx("i",{className:"fa-solid fa-cash-register text-green-400"}),"Gastos Registrados"]}),c.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto mb-4 pr-2",children:Xn.length===0?c.jsx("p",{className:"text-sm text-neutral-400",children:"No hay gastos para este da."}):Xn.map(_=>{const F=Ee.get(_.categoryId);return c.jsxs("div",{className:"flex justify-between items-center bg-neutral-700 p-2 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[F&&c.jsx("i",{className:`${F.icon} fa-fw`,style:{color:F.color}}),c.jsx("span",{className:"text-neutral-200",children:_.note||(F==null?void 0:F.name)})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("span",{className:"font-semibold text-neutral-100",children:["$",_.amount.toFixed(2)]}),c.jsx("button",{onClick:()=>Jn(x,_.id),className:"text-red-500 active:text-red-700 w-6 h-6 rounded flex items-center justify-center",children:c.jsx("i",{className:"fa-solid fa-trash-can text-xs"})})]})]},_.id)})}),c.jsxs("form",{onSubmit:Ue,className:"space-y-3 border-t border-neutral-700 pt-4",children:[c.jsx(qn,{options:Oe,value:q,onChange:ne,className:"[&>button]:p-2 [&>button]:text-base [&>button]:font-normal"}),c.jsx("input",{type:"text",value:It,onChange:_=>P(_.target.value),placeholder:"Nota (ej. Caf)",className:"w-full p-2 bg-neutral-700 text-white border border-neutral-600 rounded-lg"}),c.jsx("input",{type:"number",value:U,onChange:_=>j(_.target.value),placeholder:"Importe",className:"w-full p-2 bg-neutral-700 text-white border border-neutral-600 rounded-lg",min:"0.01",step:"0.01",required:!0}),c.jsx("button",{type:"submit",className:"w-full bg-blue-600 active:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg",children:"Aadir Gasto"})]})]})})})(),c.jsx(Gh,{isOpen:w,onClose:()=>M(!1),profiles:u,setProfiles:d,setActiveId:p,onInitiateDelete:Ml,initialExpandedId:pt,onExpandedChange:mt}),c.jsx(Bh,{isOpen:D,onClose:()=>A(!1),expense:$,setFutureExpenses:l,categories:n}),c.jsx(qh,{isOpen:Z,onClose:()=>qe(!1),budget:i}),xe&&c.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 transition-opacity duration-300 p-4",onClick:Qn,"aria-modal":"true",role:"dialog",children:[c.jsxs("div",{className:"bg-neutral-800 rounded-2xl shadow-xl p-8 w-full max-w-md m-4 transform transition-all duration-300 scale-95 opacity-0 animate-fade-in-scale text-center",onClick:b=>b.stopPropagation(),children:[c.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-900/50 mb-4",children:c.jsx("i",{className:"fa-solid fa-triangle-exclamation text-2xl text-red-400"})}),c.jsx("h2",{className:"text-2xl font-bold mb-2 text-neutral-100",children:"Eliminar Calendario"}),c.jsxs("p",{className:"text-neutral-300 mb-6",children:["Seguro que quieres eliminar el calendario ",c.jsxs("strong",{className:"text-neutral-100",children:['"',xe.name,'"']}),"?",c.jsx("br",{}),"Todos los gastos diarios y planificados asociados a l sern borrados permanentemente. Esta accin no se puede deshacer."]}),c.jsxs("div",{className:"mt-8 flex justify-center space-x-4",children:[c.jsx("button",{onClick:Qn,className:"px-6 py-2.5 rounded-lg bg-neutral-600 text-neutral-200 active:bg-neutral-500 font-semibold transition-colors",children:"Cancelar"}),c.jsx("button",{onClick:kl,className:"px-8 py-2.5 rounded-lg bg-red-600 active:bg-red-700 text-white font-bold transition-colors shadow-lg shadow-red-500/20",autoFocus:!0,children:"S, Eliminar"})]})]}),c.jsx("style",{children:`
                    @keyframes fade-in-scale {
                      from { opacity: 0; transform: scale(0.95); }
                      to { opacity: 1; transform: scale(1); }
                    }
                    .animate-fade-in-scale {
                      animation: fade-in-scale 0.2s ease-out forwards;
                    }
                `})]}),c.jsx("style",{children:`
        @keyframes fade-in-scale {
          from { opacity: 0; transform: scale(0.98); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-fade-in-scale {
          animation: fade-in-scale 0.3s ease-out forwards;
        }
    `})]})},Yh=({isOpen:t,onClose:e,onConfirm:n,cycleStartDate:o,cycleEndDate:r})=>{if(!t||!o||!r)return null;const l=()=>{n(),e()},i=f=>{f.key==="Enter"?l():f.key==="Escape"&&e()},u=o.toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"}),d=r.toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"});return c.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 transition-opacity duration-300 p-4",onClick:e,"aria-modal":"true",role:"dialog",children:[c.jsxs("div",{className:"bg-neutral-800 rounded-2xl shadow-xl p-8 w-full max-w-lg m-4 transform transition-all duration-300 scale-95 opacity-0 animate-fade-in-scale",onClick:f=>f.stopPropagation(),onKeyDown:i,children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-900/50 mb-4",children:c.jsx("i",{className:"fa-solid fa-triangle-exclamation text-2xl text-yellow-400"})}),c.jsx("h2",{className:"text-2xl font-bold mb-2 text-neutral-100",children:"Creacin de Presupuesto Parcial"})]}),c.jsxs("p",{className:"text-neutral-300 mb-6 text-center",children:["Ests a punto de crear un presupuesto para el ciclo actual, que an no ha terminado. Se incluirn todos los gastos diarios registrados ",c.jsx("strong",{className:"text-red-400",children:"Y"})," los gastos futuros planificados entre el ",c.jsx("strong",{children:u})," y el ",c.jsx("strong",{children:d}),"."]}),c.jsx("div",{className:"bg-neutral-700 p-4 rounded-lg text-sm text-neutral-300 mb-6",children:c.jsxs("p",{children:[c.jsx("i",{className:"fa-solid fa-circle-info mr-2 text-blue-400"}),"Una vez guardado, este presupuesto aparecer en tu historial y podrs editarlo o eliminarlo en cualquier momento, como cualquier otro presupuesto."]})}),c.jsxs("div",{className:"mt-8 flex justify-center space-x-4",children:[c.jsx("button",{onClick:e,className:"px-6 py-2.5 rounded-lg bg-neutral-600 text-neutral-200 hover:bg-neutral-500 font-semibold transition-colors",children:"Cancelar"}),c.jsx("button",{onClick:l,className:"px-8 py-2.5 rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-bold transition-colors shadow-lg shadow-blue-500/20",autoFocus:!0,children:"Guardar Presupuesto"})]})]}),c.jsx("style",{children:`
        @keyframes fade-in-scale {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-fade-in-scale {
          animation: fade-in-scale 0.2s ease-out forwards;
        }
      `})]})},Wh=()=>{const[t,e]=E.useState("10000"),[n,o]=E.useState("1000"),[r,l]=E.useState("200"),[i,u]=E.useState("mensual"),d=E.useMemo(()=>{const p=parseFloat(t)||0,m=parseFloat(n)||0,h=parseFloat(r)||0;if(p<=m)return{text:"Felicidades, ya has alcanzado tu meta!",date:null};if(h<=0)return{text:"Necesitas un aporte positivo para alcanzar tu meta.",date:null};const y=p-m,C=Math.ceil(y/h),S=new Date;let I=new Date(S);switch(i){case"semanal":I.setDate(S.getDate()+C*7);break;case"quincenal":I.setDate(S.getDate()+C*14);break;case"mensual":I.setMonth(S.getMonth()+C);break}const x=Math.abs(I.getTime()-S.getTime()),g=Math.ceil(x/(1e3*60*60*24)),v=Math.floor(g/365),T=Math.floor(g%365/30);let w="Alcanzars tu meta en aprox. ";return v>0&&(w+=`${v} ao${v>1?"s":""}`),v>0&&T>0&&(w+=" y "),T>0&&(w+=`${T} mes${T>1?"es":""}`),v===0&&T===0&&(w="Alcanzars tu meta en menos de un mes."),{text:w.trim(),date:I.toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})}},[t,n,r,i]),f=[{value:"mensual",label:"Mensual"},{value:"quincenal",label:"Quincenal"},{value:"semanal",label:"Semanal"}];return c.jsxs("div",{className:"bg-neutral-800 p-6 rounded-3xl shadow-lg",children:[c.jsx("h2",{className:"text-2xl font-bold text-neutral-100 mb-1",children:"Calculadora de Metas"}),c.jsx("p",{className:"text-neutral-400 mb-6",children:"Estima cunto tiempo te tomar alcanzar tu objetivo de ahorro."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-bold text-neutral-300",children:"Meta de Ahorro ($)"}),c.jsx("input",{type:"number",value:t,onChange:p=>e(p.target.value),className:"w-full mt-1 p-3 bg-neutral-700 text-white border-2 border-neutral-600 rounded-lg text-lg font-semibold"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-bold text-neutral-300",children:"Ahorro Actual ($)"}),c.jsx("input",{type:"number",value:n,onChange:p=>o(p.target.value),className:"w-full mt-1 p-3 bg-neutral-700 text-white border-2 border-neutral-600 rounded-lg text-lg font-semibold"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-bold text-neutral-300",children:"Aporte Peridico ($)"}),c.jsx("input",{type:"number",value:r,onChange:p=>l(p.target.value),className:"w-full mt-1 p-3 bg-neutral-700 text-white border-2 border-neutral-600 rounded-lg text-lg font-semibold"})]}),c.jsx("div",{children:c.jsx(qn,{label:"Frecuencia del Aporte",options:f,value:i,onChange:p=>u(p)})})]}),c.jsxs("div",{className:"bg-blue-900/50 p-6 rounded-2xl flex flex-col items-center justify-center text-center",children:[c.jsx("i",{className:"fa-solid fa-flag-checkered text-4xl text-blue-400 mb-4"}),c.jsx("p",{className:"text-lg font-semibold text-blue-200",children:d.text}),d.date&&c.jsxs("p",{className:"text-sm text-blue-300 mt-2",children:["Fecha estimada: ",c.jsx("span",{className:"font-bold",children:d.date})]})]})]})]})},Kh=()=>{const[t,e]=E.useState("2000"),[n,o]=E.useState("mensual"),[r,l]=E.useState("160"),[i,u]=E.useState("0"),[d,f]=E.useState("0"),[p,m]=E.useState("0"),h=E.useMemo(()=>{const C=parseFloat(t)||0;if(C<=0)return null;let S;switch(n){case"mensual":S=240;break;case"quincenal":S=120;break;case"semanal":S=40;break}const I=C/S,x=(parseFloat(r)||0)*I,g=(parseFloat(i)||0)*I*1.5,v=(parseFloat(d)||0)*I*1.25,T=(parseFloat(p)||0)*I*2,w=x+g+v+T;return{standardRate:I.toFixed(2),normalPay:x.toFixed(2),overtimePay:g.toFixed(2),nightPay:v.toFixed(2),holidayPay:T.toFixed(2),totalPay:w.toFixed(2)}},[t,n,r,i,d,p]),y=[{value:"mensual",label:"Mensual"},{value:"quincenal",label:"Quincenal"},{value:"semanal",label:"Semanal"}];return c.jsxs("div",{className:"bg-neutral-800 p-6 rounded-3xl shadow-lg",children:[c.jsx("h2",{className:"text-2xl font-bold text-neutral-100 mb-1",children:"Calculadora Laboral"}),c.jsx("p",{className:"text-neutral-400 mb-6",children:"Calcula tu pago total basado en tu sueldo base y horas trabajadas."}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-bold text-neutral-300",children:"Sueldo Base ($)"}),c.jsx("input",{type:"number",value:t,onChange:C=>e(C.target.value),className:"w-full mt-1 p-3 bg-neutral-700 text-white border-2 border-neutral-600 rounded-lg text-lg font-semibold"})]}),c.jsx("div",{children:c.jsx(qn,{label:"Perodo de Pago",options:y,value:n,onChange:C=>o(C)})}),c.jsx("p",{className:"text-xs text-center text-neutral-400 pt-2",children:"Introduce las horas totales trabajadas en el perodo:"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-bold text-neutral-300",children:"Horas Normales"}),c.jsx("input",{type:"number",value:r,onChange:C=>l(C.target.value),className:"w-full mt-1 p-3 bg-neutral-700 text-white border-2 border-neutral-600 rounded-lg text-lg font-semibold"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-bold text-neutral-300",children:"Horas Extra (1.5x)"}),c.jsx("input",{type:"number",value:i,onChange:C=>u(C.target.value),className:"w-full mt-1 p-3 bg-neutral-700 text-white border-2 border-neutral-600 rounded-lg text-lg font-semibold"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-bold text-neutral-300",children:"Horas Nocturnas (1.25x)"}),c.jsx("input",{type:"number",value:d,onChange:C=>f(C.target.value),className:"w-full mt-1 p-3 bg-neutral-700 text-white border-2 border-neutral-600 rounded-lg text-lg font-semibold"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-bold text-neutral-300",children:"Horas Feriado (2x)"}),c.jsx("input",{type:"number",value:p,onChange:C=>m(C.target.value),className:"w-full mt-1 p-3 bg-neutral-700 text-white border-2 border-neutral-600 rounded-lg text-lg font-semibold"})]})]})]}),c.jsxs("div",{className:"bg-green-900/50 p-6 rounded-2xl flex flex-col items-center justify-center text-center",children:[c.jsx("i",{className:"fa-solid fa-money-bill-wave text-4xl text-green-400 mb-4"}),c.jsx("p",{className:"text-lg font-semibold text-green-200",children:"Pago Total Estimado"}),c.jsxs("p",{className:"text-4xl font-bold text-green-400 mt-2",children:["$",(h==null?void 0:h.totalPay)||"0.00"]}),h&&c.jsxs("div",{className:"text-left mt-4 w-full text-xs space-y-1 text-green-300",children:[c.jsxs("p",{className:"text-center pb-1 mb-1 border-b border-green-800",children:["Tarifa por hora: $",h.standardRate]}),c.jsxs("p",{className:"flex justify-between",children:[c.jsx("span",{children:"Pago Normal:"})," ",c.jsxs("strong",{children:["$",h.normalPay]})]}),c.jsxs("p",{className:"flex justify-between",children:[c.jsx("span",{children:"Pago Extra:"})," ",c.jsxs("strong",{children:["$",h.overtimePay]})]}),c.jsxs("p",{className:"flex justify-between",children:[c.jsx("span",{children:"Pago Nocturno:"})," ",c.jsxs("strong",{children:["$",h.nightPay]})]}),c.jsxs("p",{className:"flex justify-between",children:[c.jsx("span",{children:"Pago Feriado:"})," ",c.jsxs("strong",{children:["$",h.holidayPay]})]})]})]})]})]})},Jh=()=>{const t=new Date().toISOString().split("T")[0],e=new Date;e.setMinutes(e.getMinutes()-e.getTimezoneOffset());const n=e.toISOString().slice(11,16),[o,r]=E.useState(t),[l,i]=E.useState(n),[u,d]=E.useState("1"),[f,p]=E.useState("0"),m=E.useMemo(()=>{if(!o||!l)return{date:"Invlido",time:"Invlido"};const h=new Date(`${o}T${l}`);if(isNaN(h.getTime()))return{date:"Invlido",time:"Invlido"};const y=parseInt(u)||0,C=parseInt(f)||0,S=new Date(h.getTime()+(y*60+C)*6e4);return{date:S.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),time:S.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit",hour12:!1})}},[o,l,u,f]);return c.jsxs("div",{className:"bg-neutral-800 p-6 rounded-3xl shadow-lg",children:[c.jsx("h2",{className:"text-2xl font-bold text-neutral-100 mb-1",children:"Calculadora de Regreso Laboral"}),c.jsx("p",{className:"text-neutral-400 mb-6",children:"Determina cundo regresar despus de un permiso o descanso."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-bold text-neutral-300",children:"Fecha y Hora de Salida"}),c.jsxs("div",{className:"flex gap-2 mt-1",children:[c.jsx("input",{type:"date",value:o,onChange:h=>r(h.target.value),className:"w-full p-3 bg-neutral-700 text-white border-2 border-neutral-600 rounded-lg text-lg font-semibold"}),c.jsx("input",{type:"time",value:l,onChange:h=>i(h.target.value),className:"w-full p-3 bg-neutral-700 text-white border-2 border-neutral-600 rounded-lg text-lg font-semibold"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-bold text-neutral-300 mb-1",children:"Duracin del Permiso"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"w-full",children:[c.jsx("label",{htmlFor:"duration-hours",className:"text-xs font-medium text-neutral-400",children:"Horas"}),c.jsx("input",{id:"duration-hours",type:"number",value:u,onChange:h=>d(h.target.value),min:"0",className:"w-full mt-1 p-3 bg-neutral-700 text-white border-2 border-neutral-600 rounded-lg text-lg font-semibold"})]}),c.jsxs("div",{className:"w-full",children:[c.jsx("label",{htmlFor:"duration-minutes",className:"text-xs font-medium text-neutral-400",children:"Minutos"}),c.jsx("input",{id:"duration-minutes",type:"number",value:f,onChange:h=>p(h.target.value),min:"0",max:"59",step:"1",className:"w-full mt-1 p-3 bg-neutral-700 text-white border-2 border-neutral-600 rounded-lg text-lg font-semibold"})]})]}),c.jsx("p",{className:"text-xs text-neutral-500 mt-2 px-1",children:"Ej: para media hora, introduce 0 en Horas y 30 en Minutos."})]})]}),c.jsxs("div",{className:"bg-purple-900/50 p-6 rounded-2xl flex flex-col items-center justify-center text-center",children:[c.jsx("i",{className:"fa-solid fa-clock-rotate-left text-4xl text-purple-400 mb-4"}),c.jsx("p",{className:"text-lg font-semibold text-purple-200",children:"Debers regresar el:"}),c.jsx("p",{className:"text-2xl font-bold text-purple-300 mt-2 capitalize",children:m.date}),c.jsxs("p",{className:"text-xl font-semibold text-purple-300",children:["a las ",c.jsx("span",{className:"font-bold",children:m.time})]})]})]})]})},Qh=()=>{const[t,e]=E.useState("0"),[n,o]=E.useState(""),r=u=>{if(u==="C")e("0"),o("");else if(u==="=")try{const d=new Function("return "+n.replace(/[^-()\d/*+.]/g,""))(),f=Number(d.toFixed(10));e(String(f)),o(String(f))}catch{e("Error"),o("")}else t==="0"&&u!=="."||t==="Error"?(e(u),o(u)):(e(t+u),o(n+u))},l=["C","(",")","/","7","8","9","*","4","5","6","-","1","2","3","+","0",".","="],i=u=>["/","*","-","+","="].includes(u)?"bg-blue-500 active:bg-blue-600 text-white":u==="C"?"bg-red-500 active:bg-red-600 text-white":u==="0"?"col-span-2":"bg-neutral-600 active:bg-neutral-500 text-white";return c.jsxs("div",{className:"bg-neutral-800 p-6 rounded-3xl shadow-lg max-w-sm mx-auto",children:[c.jsx("h2",{className:"text-2xl font-bold text-neutral-100 mb-4",children:"Calculadora Estndar"}),c.jsx("div",{className:"bg-neutral-700/50 p-4 rounded-lg text-right text-4xl font-mono mb-4 overflow-x-auto break-all text-white",children:t}),c.jsx("div",{className:"grid grid-cols-4 gap-2",children:l.map(u=>c.jsx("button",{onClick:()=>r(u),className:`text-xl md:text-2xl font-bold p-3 md:p-4 rounded-lg transition-colors ${i(u)}`,children:u},u))})]})},Xh=()=>{const[t,e]=E.useState("goal"),n=E.useMemo(()=>[{id:"goal",label:"Meta Ahorro",icon:"fa-solid fa-flag-checkered"},{id:"work",label:"Laboral",icon:"fa-solid fa-briefcase"},{id:"return",label:"Regreso",icon:"fa-solid fa-clock-rotate-left"},{id:"standard",label:"Estndar",icon:"fa-solid fa-calculator"}],[]),o=E.useMemo(()=>n.findIndex(l=>l.id===t),[t,n]),r=()=>{switch(t){case"goal":return c.jsx(Wh,{});case"work":return c.jsx(Kh,{});case"return":return c.jsx(Jh,{});case"standard":return c.jsx(Qh,{});default:return null}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"relative bg-neutral-900/50 p-1 rounded-xl flex items-center justify-center max-w-lg mx-auto",children:[c.jsx("div",{className:"absolute top-1 bottom-1 bg-blue-500 rounded-lg shadow-md transition-all duration-300 ease-in-out",style:{width:`calc((100% - 0.5rem) / ${n.length})`,left:"0.25rem",transform:`translateX(${o*100}%)`}}),n.map(l=>c.jsxs("button",{onClick:()=>e(l.id),className:`relative z-10 flex-1 px-1 py-2 font-semibold text-sm transition-colors duration-300 flex items-center justify-center gap-2 ${t===l.id?"text-white":"text-neutral-300 hover:text-white"}`,children:[c.jsx("i",{className:`${l.icon} hidden sm:inline`}),c.jsx("span",{children:l.label})]},l.id))]}),c.jsx("div",{children:r()})]})},Zh=({isOpen:t,onClose:e,onConfirm:n,budgetName:o,budgetDate:r})=>{if(!t)return null;const l=()=>{n(),e()},i=new Date(r).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"});return c.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 transition-opacity duration-300 p-4",onClick:e,"aria-modal":"true",role:"dialog",children:[c.jsxs("div",{className:"bg-neutral-800 rounded-2xl shadow-xl p-8 w-full max-w-md m-4 transform transition-all duration-300 scale-95 opacity-0 animate-fade-in-scale text-center",onClick:u=>u.stopPropagation(),children:[c.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-900/50 mb-4",children:c.jsx("i",{className:"fa-solid fa-triangle-exclamation text-2xl text-red-400"})}),c.jsx("h2",{className:"text-2xl font-bold mb-2 text-neutral-100",children:"Confirmar Eliminacin"}),c.jsxs("p",{className:"text-neutral-300 mb-6",children:["Ests seguro de que quieres eliminar permanentemente el presupuesto",c.jsxs("strong",{className:"text-neutral-100",children:[' "',o,'"']})," guardado el",c.jsxs("strong",{className:"text-neutral-100",children:[" ",i]}),"?",c.jsx("br",{}),"Esta accin no se puede deshacer."]}),c.jsxs("div",{className:"mt-8 flex justify-center space-x-4",children:[c.jsx("button",{onClick:e,className:"px-6 py-2.5 rounded-lg bg-neutral-600 text-neutral-200 active:bg-neutral-500 font-semibold transition-colors",children:"Cancelar"}),c.jsx("button",{onClick:l,className:"px-8 py-2.5 rounded-lg bg-red-600 active:bg-red-700 text-white font-bold transition-colors shadow-lg shadow-red-500/20",autoFocus:!0,children:"Eliminar"})]})]}),c.jsx("style",{children:`
        @keyframes fade-in-scale {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-fade-in-scale {
          animation: fade-in-scale 0.2s ease-out forwards;
        }
      `})]})},eg=t=>{const e=Math.floor((new Date().getTime()-t.getTime())/1e3);let n=e/31536e3;if(n>1)return`hace ${Math.floor(n)} aos`;if(n=e/2592e3,n>1)return`hace ${Math.floor(n)} meses`;n=e/86400;const o=Math.floor(n);return o>1?`hace ${o} das`:o===1?"ayer":(n=e/3600,n>1?`hace ${Math.floor(n)} horas`:(n=e/60,n>1?`hace ${Math.floor(n)} minutos`:"justo ahora"))},tg=({allDailyExpenses:t,allFutureExpenses:e,categories:n,cycleProfiles:o})=>{const r=E.useMemo(()=>new Map(n.map(d=>[d.id,d])),[n]),l=E.useMemo(()=>Object.entries(t).flatMap(([f,p])=>{const m=o.find(h=>h.id===f);return Object.entries(p).flatMap(([h,y])=>y.map(C=>({...C,date:new Date(`${h}T12:00:00`),cycleName:(m==null?void 0:m.name)||"Calendario"})))}).sort((f,p)=>p.date.getTime()-f.date.getTime()).slice(0,5),[t,o]),i=E.useMemo(()=>{const d=new Date;d.setHours(0,0,0,0);const f=new Date(d);f.setDate(d.getDate()+3),f.setHours(23,59,59,999);const p=Object.values(e).reduce((h,y)=>h.concat(y),[]),m=[];for(const h of p){let y=new Date(`${h.startDate}T00:00:00`);const C=h.endDate?new Date(h.endDate):null;if(!(y>f))for(;(!C||y<=C)&&y<=f&&(y>=d&&m.push({...h,date:new Date(y)}),h.frequency!=="una-vez");){const S=new Date(y);switch(h.frequency){case"semanal":y.setDate(y.getDate()+7);break;case"quincenal":y.setDate(y.getDate()+14);break;case"mensual":y.setMonth(y.getMonth()+1);break;case"anual":y.setFullYear(y.getFullYear()+1);break}if(y<=S)break}}return m.sort((h,y)=>h.date.getTime()-y.date.getTime()).slice(0,3)},[e]),u=E.useMemo(()=>{const d=new Date;return d.setHours(0,0,0,0),Object.values(e).reduce((p,m)=>p.concat(m),[]).flatMap(p=>{const m=[];let h=new Date(`${p.startDate}T00:00:00`);const y=p.endDate?new Date(p.endDate):null;for(;!y||h<=y;){if(h>=d){m.push({...p,date:new Date(h)});break}if(p.frequency==="una-vez")break;switch(p.frequency){case"semanal":h.setDate(h.getDate()+7);break;case"quincenal":h.setDate(h.getDate()+14);break;case"mensual":h.setMonth(h.getMonth()+1);break;case"anual":h.setFullYear(h.getFullYear()+1);break}}return m}).sort((p,m)=>p.date.getTime()-m.date.getTime())[0]||null},[e]);return c.jsxs("div",{className:"bg-neutral-800 p-6 rounded-3xl shadow-lg space-y-4 self-start",children:[c.jsx("h2",{className:"text-2xl font-bold text-neutral-100 border-b border-neutral-700 pb-3",children:"Actividad Reciente"}),i.length>0&&c.jsxs("div",{className:"bg-amber-900/50 border border-amber-700 p-3 rounded-lg flex items-start gap-3",children:[c.jsx("i",{className:"fa-solid fa-bell text-amber-400 mt-1"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-amber-300",children:"Prximos Vencimientos (3 das)"}),c.jsx("div",{className:"space-y-1 mt-1",children:i.map(d=>{const f=new Date;f.setHours(0,0,0,0);const p=Math.ceil((d.date.getTime()-f.getTime())/(1e3*60*60*24));let m=`Vence en ${p} das`;return p===1&&(m="Vence maana"),p<=0&&(m="Vence hoy"),c.jsxs("div",{children:[c.jsxs("p",{className:"font-bold text-neutral-100 text-sm",children:[d.note," - $",d.amount.toFixed(2)]}),c.jsxs("p",{className:"text-xs text-amber-400",children:[m," - ",d.date.toLocaleDateString("es-ES",{day:"numeric",month:"long"})]})]},`${d.id}-${d.date.toISOString()}`)})})]})]}),u&&c.jsxs("div",{className:"bg-blue-900/50 p-3 rounded-lg flex items-start gap-3",children:[c.jsx("i",{className:"fa-solid fa-flag text-blue-400 mt-1"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-blue-300",children:"Prximo Gasto Planificado"}),c.jsxs("p",{className:"font-bold text-neutral-100",children:[u.note," - $",u.amount.toFixed(2)]}),c.jsx("p",{className:"text-xs text-blue-400",children:u.date.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})})]})]}),c.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2",children:l.length>0?l.map(d=>{const f=r.get(d.categoryId);return c.jsxs("div",{className:"flex items-center gap-4 p-3 bg-neutral-700/50 rounded-lg",children:[c.jsx("div",{className:"flex-shrink-0",children:f?c.jsx("i",{className:`${f.icon} fa-fw text-xl`,style:{color:f.color}}):c.jsx("i",{className:"fa-solid fa-question-circle fa-fw text-xl text-neutral-500"})}),c.jsxs("div",{className:"flex-grow",children:[c.jsx("p",{className:"font-semibold text-neutral-200",children:d.note||(f==null?void 0:f.name)}),c.jsxs("p",{className:"text-xs text-neutral-400",children:[eg(d.date),"  ",d.cycleName]})]}),c.jsxs("div",{className:"font-bold text-red-400 text-lg",children:["-$",d.amount.toFixed(2)]})]},d.id)}):c.jsx("p",{className:"text-center text-neutral-500 py-4",children:"No hay gastos recientes. Aade uno en la pestaa de Gastos!"})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ng,og;function rg(){return{geminiUrl:ng,vertexUrl:og}}function lg(t,e,n){var o,r,l;if(!(!((o=t.httpOptions)===null||o===void 0)&&o.baseUrl)){const i=rg();return t.vertexai?(r=i.vertexUrl)!==null&&r!==void 0?r:e:(l=i.geminiUrl)!==null&&l!==void 0?l:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bo{}function V(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const l=e[r];return l!=null?String(l):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function a(t,e,n){for(let l=0;l<e.length-1;l++){const i=e[l];if(i.endsWith("[]")){const u=i.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${i}`);if(Array.isArray(t[u])){const d=t[u];if(Array.isArray(n))for(let f=0;f<d.length;f++){const p=d[f];a(p,e.slice(l+1),n[f])}else for(const f of d)a(f,e.slice(l+1),n)}return}else if(i.endsWith("[0]")){const u=i.slice(0,-3);u in t||(t[u]=[{}]);const d=t[u];a(d[0],e.slice(l+1),n);return}(!t[i]||typeof t[i]!="object")&&(t[i]={}),t=t[i]}const o=e[e.length-1],r=t[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else t[o]=n}function s(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const o=e[n];if(o.endsWith("[]")){const r=o.slice(0,-2);if(r in t){const l=t[r];return Array.isArray(l)?l.map(i=>s(i,e.slice(n+1))):void 0}else return}else t=t[o]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function te(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Pf(t,e){const n=te(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Rf(t,e){return Array.isArray(e)?e.map(n=>rl(t,n)):[rl(t,e)]}function rl(t,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function ig(t,e){const n=rl(t,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function sg(t,e){const n=rl(t,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function hu(t,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Ff(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>hu(t,n)):[hu(t,e)]}function Qi(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function gu(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function xu(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Pe(t,e){if(e==null)throw new Error("ContentUnion is required");return Qi(e)?e:{role:"user",parts:Ff(t,e)}}function Lf(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=Pe(t,n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=Pe(t,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Pe(t,n)):[Pe(t,e)]}function Jt(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(gu(e)||xu(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Pe(t,e)]}const n=[],o=[],r=Qi(e[0]);for(const l of e){const i=Qi(l);if(i!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)n.push(l);else{if(gu(l)||xu(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(l)}}return r||n.push({role:"user",parts:Ff(t,o)}),n}function bf(t,e){return e}function Uf(t,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function wl(t,e){return e}function El(t,e){if(!Array.isArray(e))throw new Error("tool is required and must be an array of Tools");return e}function ag(t,e,n,o=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function Qt(t,e){if(typeof e!="string")throw new Error("name must be a string");return ag(t,e,"cachedContents")}function Vf(t,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Xt(t,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function ug(t){return t!=null&&typeof t=="object"&&"name"in t}function cg(t){return t!=null&&typeof t=="object"&&"video"in t}function dg(t){return t!=null&&typeof t=="object"&&"uri"in t}function jf(t,e){var n;let o;if(ug(e)&&(o=e.name),!(dg(e)&&(o=e.uri,o===void 0))&&!(cg(e)&&(o=(n=e.video)===null||n===void 0?void 0:n.uri,o===void 0))){if(typeof e=="string"&&(o=e),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const l=o.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${o}`);o=l[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function $f(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function zf(t,e){for(const n of["models","tunedModels","publisherModels"])if(fg(e,n))return e[n];return[]}function fg(t,e){return t!==null&&typeof t=="object"&&e in t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pg(t,e){const n={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["data"]);o!=null&&a(n,["data"],o);const r=s(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function mg(t,e){const n={};if(s(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const o=s(e,["thought"]);o!=null&&a(n,["thought"],o);const r=s(e,["inlineData"]);r!=null&&a(n,["inlineData"],pg(t,r));const l=s(e,["codeExecutionResult"]);l!=null&&a(n,["codeExecutionResult"],l);const i=s(e,["executableCode"]);i!=null&&a(n,["executableCode"],i);const u=s(e,["fileData"]);u!=null&&a(n,["fileData"],u);const d=s(e,["functionCall"]);d!=null&&a(n,["functionCall"],d);const f=s(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=s(e,["text"]);return p!=null&&a(n,["text"],p),n}function yu(t,e){const n={},o=s(e,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(i=>mg(t,i))),a(n,["parts"],l)}const r=s(e,["role"]);return r!=null&&a(n,["role"],r),n}function hg(){return{}}function gg(t,e){const n={},o=s(e,["mode"]);o!=null&&a(n,["mode"],o);const r=s(e,["dynamicThreshold"]);return r!=null&&a(n,["dynamicThreshold"],r),n}function xg(t,e){const n={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&a(n,["dynamicRetrievalConfig"],gg(t,o)),n}function yg(t,e){const n={};if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");s(e,["googleSearch"])!=null&&a(n,["googleSearch"],hg());const r=s(e,["googleSearchRetrieval"]);if(r!=null&&a(n,["googleSearchRetrieval"],xg(t,r)),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const l=s(e,["codeExecution"]);l!=null&&a(n,["codeExecution"],l);const i=s(e,["functionDeclarations"]);return i!=null&&a(n,["functionDeclarations"],i),n}function vg(t,e){const n={},o=s(e,["mode"]);o!=null&&a(n,["mode"],o);const r=s(e,["allowedFunctionNames"]);return r!=null&&a(n,["allowedFunctionNames"],r),n}function Cg(t,e){const n={},o=s(e,["functionCallingConfig"]);if(o!=null&&a(n,["functionCallingConfig"],vg(t,o)),s(e,["retrievalConfig"])!==void 0)throw new Error("retrievalConfig parameter is not supported in Gemini API.");return n}function Sg(t,e,n){const o={},r=s(e,["ttl"]);n!==void 0&&r!=null&&a(n,["ttl"],r);const l=s(e,["expireTime"]);n!==void 0&&l!=null&&a(n,["expireTime"],l);const i=s(e,["displayName"]);n!==void 0&&i!=null&&a(n,["displayName"],i);const u=s(e,["contents"]);if(n!==void 0&&u!=null){let m=Jt(t,u);Array.isArray(m)&&(m=m.map(h=>yu(t,h))),a(n,["contents"],m)}const d=s(e,["systemInstruction"]);n!==void 0&&d!=null&&a(n,["systemInstruction"],yu(t,Pe(t,d)));const f=s(e,["tools"]);if(n!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(h=>yg(t,h))),a(n,["tools"],m)}const p=s(e,["toolConfig"]);return n!==void 0&&p!=null&&a(n,["toolConfig"],Cg(t,p)),o}function Tg(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],Pf(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],Sg(t,r,n)),n}function wg(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],Qt(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],r),n}function Eg(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],Qt(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],r),n}function Ng(t,e,n){const o={},r=s(e,["ttl"]);n!==void 0&&r!=null&&a(n,["ttl"],r);const l=s(e,["expireTime"]);return n!==void 0&&l!=null&&a(n,["expireTime"],l),o}function _g(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],Qt(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],Ng(t,r,n)),n}function Ig(t,e,n){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const l=s(e,["pageToken"]);return n!==void 0&&l!=null&&a(n,["_query","pageToken"],l),o}function Mg(t,e){const n={},o=s(e,["config"]);return o!=null&&a(n,["config"],Ig(t,o,n)),n}function kg(t,e){const n={},o=s(e,["displayName"]);o!=null&&a(n,["displayName"],o);const r=s(e,["data"]);r!=null&&a(n,["data"],r);const l=s(e,["mimeType"]);return l!=null&&a(n,["mimeType"],l),n}function Dg(t,e){const n={},o=s(e,["videoMetadata"]);o!=null&&a(n,["videoMetadata"],o);const r=s(e,["thought"]);r!=null&&a(n,["thought"],r);const l=s(e,["inlineData"]);l!=null&&a(n,["inlineData"],kg(t,l));const i=s(e,["codeExecutionResult"]);i!=null&&a(n,["codeExecutionResult"],i);const u=s(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=s(e,["fileData"]);d!=null&&a(n,["fileData"],d);const f=s(e,["functionCall"]);f!=null&&a(n,["functionCall"],f);const p=s(e,["functionResponse"]);p!=null&&a(n,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&a(n,["text"],m),n}function vu(t,e){const n={},o=s(e,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(i=>Dg(t,i))),a(n,["parts"],l)}const r=s(e,["role"]);return r!=null&&a(n,["role"],r),n}function Ag(){return{}}function Pg(t,e){const n={},o=s(e,["mode"]);o!=null&&a(n,["mode"],o);const r=s(e,["dynamicThreshold"]);return r!=null&&a(n,["dynamicThreshold"],r),n}function Rg(t,e){const n={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&a(n,["dynamicRetrievalConfig"],Pg(t,o)),n}function Fg(){return{}}function Lg(t,e){const n={},o=s(e,["apiKeyString"]);return o!=null&&a(n,["apiKeyString"],o),n}function bg(t,e){const n={},o=s(e,["apiKeyConfig"]);o!=null&&a(n,["apiKeyConfig"],Lg(t,o));const r=s(e,["authType"]);r!=null&&a(n,["authType"],r);const l=s(e,["googleServiceAccountConfig"]);l!=null&&a(n,["googleServiceAccountConfig"],l);const i=s(e,["httpBasicAuthConfig"]);i!=null&&a(n,["httpBasicAuthConfig"],i);const u=s(e,["oauthConfig"]);u!=null&&a(n,["oauthConfig"],u);const d=s(e,["oidcConfig"]);return d!=null&&a(n,["oidcConfig"],d),n}function Ug(t,e){const n={},o=s(e,["authConfig"]);return o!=null&&a(n,["authConfig"],bg(t,o)),n}function Vg(t,e){const n={},o=s(e,["retrieval"]);o!=null&&a(n,["retrieval"],o),s(e,["googleSearch"])!=null&&a(n,["googleSearch"],Ag());const l=s(e,["googleSearchRetrieval"]);l!=null&&a(n,["googleSearchRetrieval"],Rg(t,l)),s(e,["enterpriseWebSearch"])!=null&&a(n,["enterpriseWebSearch"],Fg());const u=s(e,["googleMaps"]);u!=null&&a(n,["googleMaps"],Ug(t,u));const d=s(e,["codeExecution"]);d!=null&&a(n,["codeExecution"],d);const f=s(e,["functionDeclarations"]);return f!=null&&a(n,["functionDeclarations"],f),n}function jg(t,e){const n={},o=s(e,["mode"]);o!=null&&a(n,["mode"],o);const r=s(e,["allowedFunctionNames"]);return r!=null&&a(n,["allowedFunctionNames"],r),n}function $g(t,e){const n={},o=s(e,["latitude"]);o!=null&&a(n,["latitude"],o);const r=s(e,["longitude"]);return r!=null&&a(n,["longitude"],r),n}function zg(t,e){const n={},o=s(e,["latLng"]);return o!=null&&a(n,["latLng"],$g(t,o)),n}function Gg(t,e){const n={},o=s(e,["functionCallingConfig"]);o!=null&&a(n,["functionCallingConfig"],jg(t,o));const r=s(e,["retrievalConfig"]);return r!=null&&a(n,["retrievalConfig"],zg(t,r)),n}function Bg(t,e,n){const o={},r=s(e,["ttl"]);n!==void 0&&r!=null&&a(n,["ttl"],r);const l=s(e,["expireTime"]);n!==void 0&&l!=null&&a(n,["expireTime"],l);const i=s(e,["displayName"]);n!==void 0&&i!=null&&a(n,["displayName"],i);const u=s(e,["contents"]);if(n!==void 0&&u!=null){let m=Jt(t,u);Array.isArray(m)&&(m=m.map(h=>vu(t,h))),a(n,["contents"],m)}const d=s(e,["systemInstruction"]);n!==void 0&&d!=null&&a(n,["systemInstruction"],vu(t,Pe(t,d)));const f=s(e,["tools"]);if(n!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(h=>Vg(t,h))),a(n,["tools"],m)}const p=s(e,["toolConfig"]);return n!==void 0&&p!=null&&a(n,["toolConfig"],Gg(t,p)),o}function qg(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],Pf(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],Bg(t,r,n)),n}function Og(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],Qt(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],r),n}function Hg(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],Qt(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],r),n}function Yg(t,e,n){const o={},r=s(e,["ttl"]);n!==void 0&&r!=null&&a(n,["ttl"],r);const l=s(e,["expireTime"]);return n!==void 0&&l!=null&&a(n,["expireTime"],l),o}function Wg(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],Qt(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],Yg(t,r,n)),n}function Kg(t,e,n){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const l=s(e,["pageToken"]);return n!==void 0&&l!=null&&a(n,["_query","pageToken"],l),o}function Jg(t,e){const n={},o=s(e,["config"]);return o!=null&&a(n,["config"],Kg(t,o,n)),n}function Ar(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["name"],o);const r=s(e,["displayName"]);r!=null&&a(n,["displayName"],r);const l=s(e,["model"]);l!=null&&a(n,["model"],l);const i=s(e,["createTime"]);i!=null&&a(n,["createTime"],i);const u=s(e,["updateTime"]);u!=null&&a(n,["updateTime"],u);const d=s(e,["expireTime"]);d!=null&&a(n,["expireTime"],d);const f=s(e,["usageMetadata"]);return f!=null&&a(n,["usageMetadata"],f),n}function Qg(){return{}}function Xg(t,e){const n={},o=s(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=s(e,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(i=>Ar(t,i))),a(n,["cachedContents"],l)}return n}function Pr(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["name"],o);const r=s(e,["displayName"]);r!=null&&a(n,["displayName"],r);const l=s(e,["model"]);l!=null&&a(n,["model"],l);const i=s(e,["createTime"]);i!=null&&a(n,["createTime"],i);const u=s(e,["updateTime"]);u!=null&&a(n,["updateTime"],u);const d=s(e,["expireTime"]);d!=null&&a(n,["expireTime"],d);const f=s(e,["usageMetadata"]);return f!=null&&a(n,["usageMetadata"],f),n}function Zg(){return{}}function e0(t,e){const n={},o=s(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=s(e,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(i=>Pr(t,i))),a(n,["cachedContents"],l)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var On;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(On||(On={}));class Nl{constructor(e,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,r)}init(e,n,o){var r,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let i={config:{}};o?typeof o=="object"?i=Object.assign({},o):i=o:i={config:{}},i.config&&(i.config.pageToken=n.nextPageToken),this.paramsInternal=i,this.pageInternalSize=(l=(r=i.config)===null||r===void 0?void 0:r.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Cu;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Cu||(Cu={}));var Su;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Su||(Su={}));var Tu;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Tu||(Tu={}));var wu;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(wu||(wu={}));var Eu;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Eu||(Eu={}));var Nu;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Nu||(Nu={}));var _u;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(_u||(_u={}));var Iu;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT"})(Iu||(Iu={}));var Mu;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY"})(Mu||(Mu={}));var ku;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(ku||(ku={}));var Du;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Du||(Du={}));var Au;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Au||(Au={}));var Pu;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Pu||(Pu={}));var ll;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(ll||(ll={}));var Ru;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ru||(Ru={}));var Xi;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Xi||(Xi={}));var Fu;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Fu||(Fu={}));var Lu;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Lu||(Lu={}));var bu;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(bu||(bu={}));var Uu;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Uu||(Uu={}));var Vu;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Vu||(Vu={}));var ju;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(ju||(ju={}));var $u;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})($u||($u={}));var zu;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(zu||(zu={}));var Gu;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Gu||(Gu={}));var Bu;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Bu||(Bu={}));var qu;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(qu||(qu={}));var Ou;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Ou||(Ou={}));var Hu;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Hu||(Hu={}));var Yu;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Yu||(Yu={}));var Wu;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Wu||(Wu={}));var Ku;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ku||(Ku={}));var Ju;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Ju||(Ju={}));var Qu;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Qu||(Qu={}));class gr{get text(){var e,n,o,r,l,i,u,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",p=!1;const m=[];for(const h of(d=(u=(i=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||i===void 0?void 0:i.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[y,C]of Object.entries(h))y!=="text"&&y!=="thought"&&(C!==null||C!==void 0)&&m.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;p=!0,f+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?f:void 0}get data(){var e,n,o,r,l,i,u,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const p=[];for(const m of(d=(u=(i=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||i===void 0?void 0:i.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[h,y]of Object.entries(m))h!=="inlineData"&&(y!==null||y!==void 0)&&p.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,o,r,l,i,u,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(u=(i=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||i===void 0?void 0:i.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,o,r,l,i,u,d,f;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(d=(u=(i=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||i===void 0?void 0:i.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,o,r,l,i,u,d,f;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(d=(u=(i=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||i===void 0?void 0:i.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.output}}class Xu{}class Zu{}class t0{}class n0{}class ec{}class tc{}class nc{}class o0{}class oc{}class rc{}class lc{}class r0{}class Zi{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class l0{}class i0{}class s0{get text(){var e,n,o;let r="",l=!1;const i=[];for(const u of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[d,f]of Object.entries(u))d!=="text"&&d!=="thought"&&f!==null&&i.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;l=!0,r+=u.text}}return i.length>0&&console.warn(`there are non-text parts ${i} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?r:void 0}get data(){var e,n,o;let r="";const l=[];for(const i of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,d]of Object.entries(i))u!=="inlineData"&&d!==null&&l.push(u);i.inlineData&&typeof i.inlineData.data=="string"&&(r+=atob(i.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a0 extends Bo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Nl(On.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,r,l;let i,u="",d={};if(this.apiClient.isVertexAI()){const f=qg(this.apiClient,e);return u=V("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),i.then(p=>Pr(this.apiClient,p))}else{const f=Tg(this.apiClient,e);return u=V("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),i.then(p=>Ar(this.apiClient,p))}}async get(e){var n,o,r,l;let i,u="",d={};if(this.apiClient.isVertexAI()){const f=Og(this.apiClient,e);return u=V("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),i.then(p=>Pr(this.apiClient,p))}else{const f=wg(this.apiClient,e);return u=V("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),i.then(p=>Ar(this.apiClient,p))}}async delete(e){var n,o,r,l;let i,u="",d={};if(this.apiClient.isVertexAI()){const f=Hg(this.apiClient,e);return u=V("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),i.then(()=>{const p=Zg(),m=new rc;return Object.assign(m,p),m})}else{const f=Eg(this.apiClient,e);return u=V("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),i.then(()=>{const p=Qg(),m=new rc;return Object.assign(m,p),m})}}async update(e){var n,o,r,l;let i,u="",d={};if(this.apiClient.isVertexAI()){const f=Wg(this.apiClient,e);return u=V("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),i.then(p=>Pr(this.apiClient,p))}else{const f=_g(this.apiClient,e);return u=V("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),i.then(p=>Ar(this.apiClient,p))}}async listInternal(e){var n,o,r,l;let i,u="",d={};if(this.apiClient.isVertexAI()){const f=Jg(this.apiClient,e);return u=V("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),i.then(p=>{const m=e0(this.apiClient,p),h=new lc;return Object.assign(h,m),h})}else{const f=Mg(this.apiClient,e);return u=V("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),i.then(p=>{const m=Xg(this.apiClient,p),h=new lc;return Object.assign(h,m),h})}}}function ic(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Se(t){return this instanceof Se?(this.v=t,this):new Se(t)}function il(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,l=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",i),r[Symbol.asyncIterator]=function(){return this},r;function i(y){return function(C){return Promise.resolve(C).then(y,m)}}function u(y,C){o[y]&&(r[y]=function(S){return new Promise(function(I,x){l.push([y,S,I,x])>1||d(y,S)})},C&&(r[y]=C(r[y])))}function d(y,C){try{f(o[y](C))}catch(S){h(l[0][3],S)}}function f(y){y.value instanceof Se?Promise.resolve(y.value.v).then(p,m):h(l[0][2],y)}function p(y){d("next",y)}function m(y){d("throw",y)}function h(y,C){y(C),l.shift(),l.length&&d(l[0][0],l[0][1])}}function es(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ic=="function"?ic(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(l){n[l]=t[l]&&function(i){return new Promise(function(u,d){i=t[l](i),r(u,d,i.done,i.value)})}}function r(l,i,u,d){Promise.resolve(d).then(function(f){l({value:f,done:u})},i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u0(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Gf(n)}function Gf(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||e.text!==void 0&&e.text==="")return!1;return!0}function c0(t){if(t.length!==0){if(t[0].role!=="user")throw new Error("History must start with a user turn.");for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function d0(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0,r=t[0];for(;o<n;)if(t[o].role==="user")r=t[o],o++;else{const l=[];let i=!0;for(;o<n&&t[o].role==="model";)l.push(t[o]),i&&!Gf(t[o])&&(i=!1),o++;i&&(e.push(r),e.push(...l))}return e}class f0{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new p0(this.apiClient,this.modelsModule,e.model,e.config,e.history)}}class p0{constructor(e,n,o,r={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=r,this.history=l,this.sendPromise=Promise.resolve(),c0(l)}async sendMessage(e){var n;await this.sendPromise;const o=Pe(this.apiClient,e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,i;const d=(i=(l=(await r).candidates)===null||l===void 0?void 0:l[0])===null||i===void 0?void 0:i.content,f=d?[d]:[];this.recordHistory(o,f)})(),await this.sendPromise,r}async sendMessageStream(e){var n;await this.sendPromise;const o=Pe(this.apiClient,e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const l=await r;return this.processStreamResponse(l,o)}getHistory(e=!1){return e?d0(this.history):this.history}processStreamResponse(e,n){var o,r;return il(this,arguments,function*(){var i,u,d,f;const p=[];try{for(var m=!0,h=es(e),y;y=yield Se(h.next()),i=y.done,!i;m=!0){f=y.value,m=!1;const C=f;if(u0(C)){const S=(r=(o=C.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;S!==void 0&&p.push(S)}yield yield Se(C)}}catch(C){u={error:C}}finally{try{!m&&!i&&(d=h.return)&&(yield Se(d.call(h)))}finally{if(u)throw u.error}}this.recordHistory(n,p)})}recordHistory(e,n){let o=[];n.length>0&&n.every(r=>r.role==="model")?o=n:o.push({role:"model",parts:[]}),this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m0(t,e,n){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const l=s(e,["pageToken"]);return n!==void 0&&l!=null&&a(n,["_query","pageToken"],l),o}function h0(t,e){const n={},o=s(e,["config"]);return o!=null&&a(n,["config"],m0(t,o,n)),n}function g0(t,e){const n={},o=s(e,["details"]);o!=null&&a(n,["details"],o);const r=s(e,["message"]);r!=null&&a(n,["message"],r);const l=s(e,["code"]);return l!=null&&a(n,["code"],l),n}function x0(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["name"],o);const r=s(e,["displayName"]);r!=null&&a(n,["displayName"],r);const l=s(e,["mimeType"]);l!=null&&a(n,["mimeType"],l);const i=s(e,["sizeBytes"]);i!=null&&a(n,["sizeBytes"],i);const u=s(e,["createTime"]);u!=null&&a(n,["createTime"],u);const d=s(e,["expirationTime"]);d!=null&&a(n,["expirationTime"],d);const f=s(e,["updateTime"]);f!=null&&a(n,["updateTime"],f);const p=s(e,["sha256Hash"]);p!=null&&a(n,["sha256Hash"],p);const m=s(e,["uri"]);m!=null&&a(n,["uri"],m);const h=s(e,["downloadUri"]);h!=null&&a(n,["downloadUri"],h);const y=s(e,["state"]);y!=null&&a(n,["state"],y);const C=s(e,["source"]);C!=null&&a(n,["source"],C);const S=s(e,["videoMetadata"]);S!=null&&a(n,["videoMetadata"],S);const I=s(e,["error"]);return I!=null&&a(n,["error"],g0(t,I)),n}function y0(t,e){const n={},o=s(e,["file"]);o!=null&&a(n,["file"],x0(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],r),n}function v0(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","file"],jf(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],r),n}function C0(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","file"],jf(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],r),n}function S0(t,e){const n={},o=s(e,["details"]);o!=null&&a(n,["details"],o);const r=s(e,["message"]);r!=null&&a(n,["message"],r);const l=s(e,["code"]);return l!=null&&a(n,["code"],l),n}function ts(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["name"],o);const r=s(e,["displayName"]);r!=null&&a(n,["displayName"],r);const l=s(e,["mimeType"]);l!=null&&a(n,["mimeType"],l);const i=s(e,["sizeBytes"]);i!=null&&a(n,["sizeBytes"],i);const u=s(e,["createTime"]);u!=null&&a(n,["createTime"],u);const d=s(e,["expirationTime"]);d!=null&&a(n,["expirationTime"],d);const f=s(e,["updateTime"]);f!=null&&a(n,["updateTime"],f);const p=s(e,["sha256Hash"]);p!=null&&a(n,["sha256Hash"],p);const m=s(e,["uri"]);m!=null&&a(n,["uri"],m);const h=s(e,["downloadUri"]);h!=null&&a(n,["downloadUri"],h);const y=s(e,["state"]);y!=null&&a(n,["state"],y);const C=s(e,["source"]);C!=null&&a(n,["source"],C);const S=s(e,["videoMetadata"]);S!=null&&a(n,["videoMetadata"],S);const I=s(e,["error"]);return I!=null&&a(n,["error"],S0(t,I)),n}function T0(t,e){const n={},o=s(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=s(e,["files"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(i=>ts(t,i))),a(n,["files"],l)}return n}function w0(){return{}}function E0(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N0 extends Bo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Nl(On.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>ts(this.apiClient,n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let r,l="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=h0(this.apiClient,e);return l=V("files",u._url),i=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:i,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const f=T0(this.apiClient,d),p=new r0;return Object.assign(p,f),p})}}async createInternal(e){var n,o;let r,l="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=y0(this.apiClient,e);return l=V("upload/v1beta/files",u._url),i=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:i,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(()=>{const d=w0(),f=new l0;return Object.assign(f,d),f})}}async get(e){var n,o;let r,l="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=v0(this.apiClient,e);return l=V("files/{file}",u._url),i=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:i,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>ts(this.apiClient,d))}}async delete(e){var n,o;let r,l="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=C0(this.apiClient,e);return l=V("files/{file}",u._url),i=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:i,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(()=>{const d=E0(),f=new i0;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _0(t,e){const n={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["data"]);o!=null&&a(n,["data"],o);const r=s(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function I0(t,e){const n={},o=s(e,["displayName"]);o!=null&&a(n,["displayName"],o);const r=s(e,["data"]);r!=null&&a(n,["data"],r);const l=s(e,["mimeType"]);return l!=null&&a(n,["mimeType"],l),n}function M0(t,e){const n={};if(s(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const o=s(e,["thought"]);o!=null&&a(n,["thought"],o);const r=s(e,["inlineData"]);r!=null&&a(n,["inlineData"],_0(t,r));const l=s(e,["codeExecutionResult"]);l!=null&&a(n,["codeExecutionResult"],l);const i=s(e,["executableCode"]);i!=null&&a(n,["executableCode"],i);const u=s(e,["fileData"]);u!=null&&a(n,["fileData"],u);const d=s(e,["functionCall"]);d!=null&&a(n,["functionCall"],d);const f=s(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=s(e,["text"]);return p!=null&&a(n,["text"],p),n}function k0(t,e){const n={},o=s(e,["videoMetadata"]);o!=null&&a(n,["videoMetadata"],o);const r=s(e,["thought"]);r!=null&&a(n,["thought"],r);const l=s(e,["inlineData"]);l!=null&&a(n,["inlineData"],I0(t,l));const i=s(e,["codeExecutionResult"]);i!=null&&a(n,["codeExecutionResult"],i);const u=s(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=s(e,["fileData"]);d!=null&&a(n,["fileData"],d);const f=s(e,["functionCall"]);f!=null&&a(n,["functionCall"],f);const p=s(e,["functionResponse"]);p!=null&&a(n,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&a(n,["text"],m),n}function D0(t,e){const n={},o=s(e,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(i=>M0(t,i))),a(n,["parts"],l)}const r=s(e,["role"]);return r!=null&&a(n,["role"],r),n}function A0(t,e){const n={},o=s(e,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(i=>k0(t,i))),a(n,["parts"],l)}const r=s(e,["role"]);return r!=null&&a(n,["role"],r),n}function P0(){return{}}function R0(){return{}}function F0(t,e){const n={},o=s(e,["mode"]);o!=null&&a(n,["mode"],o);const r=s(e,["dynamicThreshold"]);return r!=null&&a(n,["dynamicThreshold"],r),n}function L0(t,e){const n={},o=s(e,["mode"]);o!=null&&a(n,["mode"],o);const r=s(e,["dynamicThreshold"]);return r!=null&&a(n,["dynamicThreshold"],r),n}function b0(t,e){const n={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&a(n,["dynamicRetrievalConfig"],F0(t,o)),n}function U0(t,e){const n={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&a(n,["dynamicRetrievalConfig"],L0(t,o)),n}function V0(){return{}}function j0(t,e){const n={},o=s(e,["apiKeyString"]);return o!=null&&a(n,["apiKeyString"],o),n}function $0(t,e){const n={},o=s(e,["apiKeyConfig"]);o!=null&&a(n,["apiKeyConfig"],j0(t,o));const r=s(e,["authType"]);r!=null&&a(n,["authType"],r);const l=s(e,["googleServiceAccountConfig"]);l!=null&&a(n,["googleServiceAccountConfig"],l);const i=s(e,["httpBasicAuthConfig"]);i!=null&&a(n,["httpBasicAuthConfig"],i);const u=s(e,["oauthConfig"]);u!=null&&a(n,["oauthConfig"],u);const d=s(e,["oidcConfig"]);return d!=null&&a(n,["oidcConfig"],d),n}function z0(t,e){const n={},o=s(e,["authConfig"]);return o!=null&&a(n,["authConfig"],$0(t,o)),n}function G0(t,e){const n={};if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");s(e,["googleSearch"])!=null&&a(n,["googleSearch"],P0());const r=s(e,["googleSearchRetrieval"]);if(r!=null&&a(n,["googleSearchRetrieval"],b0(t,r)),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const l=s(e,["codeExecution"]);l!=null&&a(n,["codeExecution"],l);const i=s(e,["functionDeclarations"]);return i!=null&&a(n,["functionDeclarations"],i),n}function B0(t,e){const n={},o=s(e,["retrieval"]);o!=null&&a(n,["retrieval"],o),s(e,["googleSearch"])!=null&&a(n,["googleSearch"],R0());const l=s(e,["googleSearchRetrieval"]);l!=null&&a(n,["googleSearchRetrieval"],U0(t,l)),s(e,["enterpriseWebSearch"])!=null&&a(n,["enterpriseWebSearch"],V0());const u=s(e,["googleMaps"]);u!=null&&a(n,["googleMaps"],z0(t,u));const d=s(e,["codeExecution"]);d!=null&&a(n,["codeExecution"],d);const f=s(e,["functionDeclarations"]);return f!=null&&a(n,["functionDeclarations"],f),n}function q0(t,e){const n={},o=s(e,["handle"]);if(o!=null&&a(n,["handle"],o),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function O0(t,e){const n={},o=s(e,["handle"]);o!=null&&a(n,["handle"],o);const r=s(e,["transparent"]);return r!=null&&a(n,["transparent"],r),n}function sc(){return{}}function ac(){return{}}function H0(t,e){const n={},o=s(e,["disabled"]);o!=null&&a(n,["disabled"],o);const r=s(e,["startOfSpeechSensitivity"]);r!=null&&a(n,["startOfSpeechSensitivity"],r);const l=s(e,["endOfSpeechSensitivity"]);l!=null&&a(n,["endOfSpeechSensitivity"],l);const i=s(e,["prefixPaddingMs"]);i!=null&&a(n,["prefixPaddingMs"],i);const u=s(e,["silenceDurationMs"]);return u!=null&&a(n,["silenceDurationMs"],u),n}function Y0(t,e){const n={},o=s(e,["disabled"]);o!=null&&a(n,["disabled"],o);const r=s(e,["startOfSpeechSensitivity"]);r!=null&&a(n,["startOfSpeechSensitivity"],r);const l=s(e,["endOfSpeechSensitivity"]);l!=null&&a(n,["endOfSpeechSensitivity"],l);const i=s(e,["prefixPaddingMs"]);i!=null&&a(n,["prefixPaddingMs"],i);const u=s(e,["silenceDurationMs"]);return u!=null&&a(n,["silenceDurationMs"],u),n}function W0(t,e){const n={},o=s(e,["automaticActivityDetection"]);o!=null&&a(n,["automaticActivityDetection"],H0(t,o));const r=s(e,["activityHandling"]);r!=null&&a(n,["activityHandling"],r);const l=s(e,["turnCoverage"]);return l!=null&&a(n,["turnCoverage"],l),n}function K0(t,e){const n={},o=s(e,["automaticActivityDetection"]);o!=null&&a(n,["automaticActivityDetection"],Y0(t,o));const r=s(e,["activityHandling"]);r!=null&&a(n,["activityHandling"],r);const l=s(e,["turnCoverage"]);return l!=null&&a(n,["turnCoverage"],l),n}function J0(t,e){const n={},o=s(e,["targetTokens"]);return o!=null&&a(n,["targetTokens"],o),n}function Q0(t,e){const n={},o=s(e,["targetTokens"]);return o!=null&&a(n,["targetTokens"],o),n}function X0(t,e){const n={},o=s(e,["triggerTokens"]);o!=null&&a(n,["triggerTokens"],o);const r=s(e,["slidingWindow"]);return r!=null&&a(n,["slidingWindow"],J0(t,r)),n}function Z0(t,e){const n={},o=s(e,["triggerTokens"]);o!=null&&a(n,["triggerTokens"],o);const r=s(e,["slidingWindow"]);return r!=null&&a(n,["slidingWindow"],Q0(t,r)),n}function ex(t,e,n){const o={},r=s(e,["generationConfig"]);n!==void 0&&r!=null&&a(n,["setup","generationConfig"],r);const l=s(e,["responseModalities"]);n!==void 0&&l!=null&&a(n,["setup","generationConfig","responseModalities"],l);const i=s(e,["temperature"]);n!==void 0&&i!=null&&a(n,["setup","generationConfig","temperature"],i);const u=s(e,["topP"]);n!==void 0&&u!=null&&a(n,["setup","generationConfig","topP"],u);const d=s(e,["topK"]);n!==void 0&&d!=null&&a(n,["setup","generationConfig","topK"],d);const f=s(e,["maxOutputTokens"]);n!==void 0&&f!=null&&a(n,["setup","generationConfig","maxOutputTokens"],f);const p=s(e,["mediaResolution"]);n!==void 0&&p!=null&&a(n,["setup","generationConfig","mediaResolution"],p);const m=s(e,["seed"]);n!==void 0&&m!=null&&a(n,["setup","generationConfig","seed"],m);const h=s(e,["speechConfig"]);n!==void 0&&h!=null&&a(n,["setup","generationConfig","speechConfig"],h);const y=s(e,["systemInstruction"]);n!==void 0&&y!=null&&a(n,["setup","systemInstruction"],D0(t,Pe(t,y)));const C=s(e,["tools"]);if(n!==void 0&&C!=null){let T=El(t,C);Array.isArray(T)&&(T=T.map(w=>G0(t,wl(t,w)))),a(n,["setup","tools"],T)}const S=s(e,["sessionResumption"]);n!==void 0&&S!=null&&a(n,["setup","sessionResumption"],q0(t,S));const I=s(e,["inputAudioTranscription"]);n!==void 0&&I!=null&&a(n,["setup","inputAudioTranscription"],sc());const x=s(e,["outputAudioTranscription"]);n!==void 0&&x!=null&&a(n,["setup","outputAudioTranscription"],sc());const g=s(e,["realtimeInputConfig"]);n!==void 0&&g!=null&&a(n,["setup","realtimeInputConfig"],W0(t,g));const v=s(e,["contextWindowCompression"]);return n!==void 0&&v!=null&&a(n,["setup","contextWindowCompression"],X0(t,v)),o}function tx(t,e,n){const o={},r=s(e,["generationConfig"]);n!==void 0&&r!=null&&a(n,["setup","generationConfig"],r);const l=s(e,["responseModalities"]);n!==void 0&&l!=null&&a(n,["setup","generationConfig","responseModalities"],l);const i=s(e,["temperature"]);n!==void 0&&i!=null&&a(n,["setup","generationConfig","temperature"],i);const u=s(e,["topP"]);n!==void 0&&u!=null&&a(n,["setup","generationConfig","topP"],u);const d=s(e,["topK"]);n!==void 0&&d!=null&&a(n,["setup","generationConfig","topK"],d);const f=s(e,["maxOutputTokens"]);n!==void 0&&f!=null&&a(n,["setup","generationConfig","maxOutputTokens"],f);const p=s(e,["mediaResolution"]);n!==void 0&&p!=null&&a(n,["setup","generationConfig","mediaResolution"],p);const m=s(e,["seed"]);n!==void 0&&m!=null&&a(n,["setup","generationConfig","seed"],m);const h=s(e,["speechConfig"]);n!==void 0&&h!=null&&a(n,["setup","generationConfig","speechConfig"],h);const y=s(e,["systemInstruction"]);n!==void 0&&y!=null&&a(n,["setup","systemInstruction"],A0(t,Pe(t,y)));const C=s(e,["tools"]);if(n!==void 0&&C!=null){let T=El(t,C);Array.isArray(T)&&(T=T.map(w=>B0(t,wl(t,w)))),a(n,["setup","tools"],T)}const S=s(e,["sessionResumption"]);n!==void 0&&S!=null&&a(n,["setup","sessionResumption"],O0(t,S));const I=s(e,["inputAudioTranscription"]);n!==void 0&&I!=null&&a(n,["setup","inputAudioTranscription"],ac());const x=s(e,["outputAudioTranscription"]);n!==void 0&&x!=null&&a(n,["setup","outputAudioTranscription"],ac());const g=s(e,["realtimeInputConfig"]);n!==void 0&&g!=null&&a(n,["setup","realtimeInputConfig"],K0(t,g));const v=s(e,["contextWindowCompression"]);return n!==void 0&&v!=null&&a(n,["setup","contextWindowCompression"],Z0(t,v)),o}function nx(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],te(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],ex(t,r,n)),n}function ox(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],te(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],tx(t,r,n)),n}function rx(){return{}}function lx(){return{}}function ix(){return{}}function sx(){return{}}function ax(t,e){const n={},o=s(e,["media"]);o!=null&&a(n,["mediaChunks"],Rf(t,o));const r=s(e,["audio"]);r!=null&&a(n,["audio"],sg(t,r));const l=s(e,["audioStreamEnd"]);l!=null&&a(n,["audioStreamEnd"],l);const i=s(e,["video"]);i!=null&&a(n,["video"],ig(t,i));const u=s(e,["text"]);return u!=null&&a(n,["text"],u),s(e,["activityStart"])!=null&&a(n,["activityStart"],rx()),s(e,["activityEnd"])!=null&&a(n,["activityEnd"],ix()),n}function ux(t,e){const n={},o=s(e,["media"]);if(o!=null&&a(n,["mediaChunks"],Rf(t,o)),s(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const r=s(e,["audioStreamEnd"]);if(r!=null&&a(n,["audioStreamEnd"],r),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(s(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return s(e,["activityStart"])!=null&&a(n,["activityStart"],lx()),s(e,["activityEnd"])!=null&&a(n,["activityEnd"],sx()),n}function cx(){return{}}function dx(){return{}}function fx(t,e){const n={},o=s(e,["data"]);o!=null&&a(n,["data"],o);const r=s(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function px(t,e){const n={},o=s(e,["displayName"]);o!=null&&a(n,["displayName"],o);const r=s(e,["data"]);r!=null&&a(n,["data"],r);const l=s(e,["mimeType"]);return l!=null&&a(n,["mimeType"],l),n}function mx(t,e){const n={},o=s(e,["thought"]);o!=null&&a(n,["thought"],o);const r=s(e,["inlineData"]);r!=null&&a(n,["inlineData"],fx(t,r));const l=s(e,["codeExecutionResult"]);l!=null&&a(n,["codeExecutionResult"],l);const i=s(e,["executableCode"]);i!=null&&a(n,["executableCode"],i);const u=s(e,["fileData"]);u!=null&&a(n,["fileData"],u);const d=s(e,["functionCall"]);d!=null&&a(n,["functionCall"],d);const f=s(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=s(e,["text"]);return p!=null&&a(n,["text"],p),n}function hx(t,e){const n={},o=s(e,["videoMetadata"]);o!=null&&a(n,["videoMetadata"],o);const r=s(e,["thought"]);r!=null&&a(n,["thought"],r);const l=s(e,["inlineData"]);l!=null&&a(n,["inlineData"],px(t,l));const i=s(e,["codeExecutionResult"]);i!=null&&a(n,["codeExecutionResult"],i);const u=s(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=s(e,["fileData"]);d!=null&&a(n,["fileData"],d);const f=s(e,["functionCall"]);f!=null&&a(n,["functionCall"],f);const p=s(e,["functionResponse"]);p!=null&&a(n,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&a(n,["text"],m),n}function gx(t,e){const n={},o=s(e,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(i=>mx(t,i))),a(n,["parts"],l)}const r=s(e,["role"]);return r!=null&&a(n,["role"],r),n}function xx(t,e){const n={},o=s(e,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(i=>hx(t,i))),a(n,["parts"],l)}const r=s(e,["role"]);return r!=null&&a(n,["role"],r),n}function uc(t,e){const n={},o=s(e,["text"]);o!=null&&a(n,["text"],o);const r=s(e,["finished"]);return r!=null&&a(n,["finished"],r),n}function cc(t,e){const n={},o=s(e,["text"]);o!=null&&a(n,["text"],o);const r=s(e,["finished"]);return r!=null&&a(n,["finished"],r),n}function yx(t,e){const n={},o=s(e,["modelTurn"]);o!=null&&a(n,["modelTurn"],gx(t,o));const r=s(e,["turnComplete"]);r!=null&&a(n,["turnComplete"],r);const l=s(e,["interrupted"]);l!=null&&a(n,["interrupted"],l);const i=s(e,["groundingMetadata"]);i!=null&&a(n,["groundingMetadata"],i);const u=s(e,["generationComplete"]);u!=null&&a(n,["generationComplete"],u);const d=s(e,["inputTranscription"]);d!=null&&a(n,["inputTranscription"],uc(t,d));const f=s(e,["outputTranscription"]);return f!=null&&a(n,["outputTranscription"],uc(t,f)),n}function vx(t,e){const n={},o=s(e,["modelTurn"]);o!=null&&a(n,["modelTurn"],xx(t,o));const r=s(e,["turnComplete"]);r!=null&&a(n,["turnComplete"],r);const l=s(e,["interrupted"]);l!=null&&a(n,["interrupted"],l);const i=s(e,["groundingMetadata"]);i!=null&&a(n,["groundingMetadata"],i);const u=s(e,["generationComplete"]);u!=null&&a(n,["generationComplete"],u);const d=s(e,["inputTranscription"]);d!=null&&a(n,["inputTranscription"],cc(t,d));const f=s(e,["outputTranscription"]);return f!=null&&a(n,["outputTranscription"],cc(t,f)),n}function Cx(t,e){const n={},o=s(e,["id"]);o!=null&&a(n,["id"],o);const r=s(e,["args"]);r!=null&&a(n,["args"],r);const l=s(e,["name"]);return l!=null&&a(n,["name"],l),n}function Sx(t,e){const n={},o=s(e,["args"]);o!=null&&a(n,["args"],o);const r=s(e,["name"]);return r!=null&&a(n,["name"],r),n}function Tx(t,e){const n={},o=s(e,["functionCalls"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Cx(t,l))),a(n,["functionCalls"],r)}return n}function wx(t,e){const n={},o=s(e,["functionCalls"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Sx(t,l))),a(n,["functionCalls"],r)}return n}function Ex(t,e){const n={},o=s(e,["ids"]);return o!=null&&a(n,["ids"],o),n}function Nx(t,e){const n={},o=s(e,["ids"]);return o!=null&&a(n,["ids"],o),n}function xr(t,e){const n={},o=s(e,["modality"]);o!=null&&a(n,["modality"],o);const r=s(e,["tokenCount"]);return r!=null&&a(n,["tokenCount"],r),n}function yr(t,e){const n={},o=s(e,["modality"]);o!=null&&a(n,["modality"],o);const r=s(e,["tokenCount"]);return r!=null&&a(n,["tokenCount"],r),n}function _x(t,e){const n={},o=s(e,["promptTokenCount"]);o!=null&&a(n,["promptTokenCount"],o);const r=s(e,["cachedContentTokenCount"]);r!=null&&a(n,["cachedContentTokenCount"],r);const l=s(e,["responseTokenCount"]);l!=null&&a(n,["responseTokenCount"],l);const i=s(e,["toolUsePromptTokenCount"]);i!=null&&a(n,["toolUsePromptTokenCount"],i);const u=s(e,["thoughtsTokenCount"]);u!=null&&a(n,["thoughtsTokenCount"],u);const d=s(e,["totalTokenCount"]);d!=null&&a(n,["totalTokenCount"],d);const f=s(e,["promptTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(C=>xr(t,C))),a(n,["promptTokensDetails"],y)}const p=s(e,["cacheTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(C=>xr(t,C))),a(n,["cacheTokensDetails"],y)}const m=s(e,["responseTokensDetails"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(C=>xr(t,C))),a(n,["responseTokensDetails"],y)}const h=s(e,["toolUsePromptTokensDetails"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(C=>xr(t,C))),a(n,["toolUsePromptTokensDetails"],y)}return n}function Ix(t,e){const n={},o=s(e,["promptTokenCount"]);o!=null&&a(n,["promptTokenCount"],o);const r=s(e,["cachedContentTokenCount"]);r!=null&&a(n,["cachedContentTokenCount"],r);const l=s(e,["candidatesTokenCount"]);l!=null&&a(n,["responseTokenCount"],l);const i=s(e,["toolUsePromptTokenCount"]);i!=null&&a(n,["toolUsePromptTokenCount"],i);const u=s(e,["thoughtsTokenCount"]);u!=null&&a(n,["thoughtsTokenCount"],u);const d=s(e,["totalTokenCount"]);d!=null&&a(n,["totalTokenCount"],d);const f=s(e,["promptTokensDetails"]);if(f!=null){let C=f;Array.isArray(C)&&(C=C.map(S=>yr(t,S))),a(n,["promptTokensDetails"],C)}const p=s(e,["cacheTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(S=>yr(t,S))),a(n,["cacheTokensDetails"],C)}const m=s(e,["candidatesTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(S=>yr(t,S))),a(n,["responseTokensDetails"],C)}const h=s(e,["toolUsePromptTokensDetails"]);if(h!=null){let C=h;Array.isArray(C)&&(C=C.map(S=>yr(t,S))),a(n,["toolUsePromptTokensDetails"],C)}const y=s(e,["trafficType"]);return y!=null&&a(n,["trafficType"],y),n}function Mx(t,e){const n={},o=s(e,["timeLeft"]);return o!=null&&a(n,["timeLeft"],o),n}function kx(t,e){const n={},o=s(e,["timeLeft"]);return o!=null&&a(n,["timeLeft"],o),n}function Dx(t,e){const n={},o=s(e,["newHandle"]);o!=null&&a(n,["newHandle"],o);const r=s(e,["resumable"]);r!=null&&a(n,["resumable"],r);const l=s(e,["lastConsumedClientMessageIndex"]);return l!=null&&a(n,["lastConsumedClientMessageIndex"],l),n}function Ax(t,e){const n={},o=s(e,["newHandle"]);o!=null&&a(n,["newHandle"],o);const r=s(e,["resumable"]);r!=null&&a(n,["resumable"],r);const l=s(e,["lastConsumedClientMessageIndex"]);return l!=null&&a(n,["lastConsumedClientMessageIndex"],l),n}function Px(t,e){const n={};s(e,["setupComplete"])!=null&&a(n,["setupComplete"],cx());const r=s(e,["serverContent"]);r!=null&&a(n,["serverContent"],yx(t,r));const l=s(e,["toolCall"]);l!=null&&a(n,["toolCall"],Tx(t,l));const i=s(e,["toolCallCancellation"]);i!=null&&a(n,["toolCallCancellation"],Ex(t,i));const u=s(e,["usageMetadata"]);u!=null&&a(n,["usageMetadata"],_x(t,u));const d=s(e,["goAway"]);d!=null&&a(n,["goAway"],Mx(t,d));const f=s(e,["sessionResumptionUpdate"]);return f!=null&&a(n,["sessionResumptionUpdate"],Dx(t,f)),n}function Rx(t,e){const n={};s(e,["setupComplete"])!=null&&a(n,["setupComplete"],dx());const r=s(e,["serverContent"]);r!=null&&a(n,["serverContent"],vx(t,r));const l=s(e,["toolCall"]);l!=null&&a(n,["toolCall"],wx(t,l));const i=s(e,["toolCallCancellation"]);i!=null&&a(n,["toolCallCancellation"],Nx(t,i));const u=s(e,["usageMetadata"]);u!=null&&a(n,["usageMetadata"],Ix(t,u));const d=s(e,["goAway"]);d!=null&&a(n,["goAway"],kx(t,d));const f=s(e,["sessionResumptionUpdate"]);return f!=null&&a(n,["sessionResumptionUpdate"],Ax(t,f)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fx(t,e){const n={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["data"]);o!=null&&a(n,["data"],o);const r=s(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function Lx(t,e){const n={};if(s(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const o=s(e,["thought"]);o!=null&&a(n,["thought"],o);const r=s(e,["inlineData"]);r!=null&&a(n,["inlineData"],Fx(t,r));const l=s(e,["codeExecutionResult"]);l!=null&&a(n,["codeExecutionResult"],l);const i=s(e,["executableCode"]);i!=null&&a(n,["executableCode"],i);const u=s(e,["fileData"]);u!=null&&a(n,["fileData"],u);const d=s(e,["functionCall"]);d!=null&&a(n,["functionCall"],d);const f=s(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=s(e,["text"]);return p!=null&&a(n,["text"],p),n}function _l(t,e){const n={},o=s(e,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(i=>Lx(t,i))),a(n,["parts"],l)}const r=s(e,["role"]);return r!=null&&a(n,["role"],r),n}function bx(t,e){const n={};if(s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(e,["category"]);o!=null&&a(n,["category"],o);const r=s(e,["threshold"]);return r!=null&&a(n,["threshold"],r),n}function Ux(){return{}}function Vx(t,e){const n={},o=s(e,["mode"]);o!=null&&a(n,["mode"],o);const r=s(e,["dynamicThreshold"]);return r!=null&&a(n,["dynamicThreshold"],r),n}function jx(t,e){const n={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&a(n,["dynamicRetrievalConfig"],Vx(t,o)),n}function $x(t,e){const n={};if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");s(e,["googleSearch"])!=null&&a(n,["googleSearch"],Ux());const r=s(e,["googleSearchRetrieval"]);if(r!=null&&a(n,["googleSearchRetrieval"],jx(t,r)),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const l=s(e,["codeExecution"]);l!=null&&a(n,["codeExecution"],l);const i=s(e,["functionDeclarations"]);return i!=null&&a(n,["functionDeclarations"],i),n}function zx(t,e){const n={},o=s(e,["mode"]);o!=null&&a(n,["mode"],o);const r=s(e,["allowedFunctionNames"]);return r!=null&&a(n,["allowedFunctionNames"],r),n}function Gx(t,e){const n={},o=s(e,["functionCallingConfig"]);if(o!=null&&a(n,["functionCallingConfig"],zx(t,o)),s(e,["retrievalConfig"])!==void 0)throw new Error("retrievalConfig parameter is not supported in Gemini API.");return n}function Bx(t,e){const n={},o=s(e,["voiceName"]);return o!=null&&a(n,["voiceName"],o),n}function qx(t,e){const n={},o=s(e,["prebuiltVoiceConfig"]);return o!=null&&a(n,["prebuiltVoiceConfig"],Bx(t,o)),n}function Ox(t,e){const n={},o=s(e,["voiceConfig"]);o!=null&&a(n,["voiceConfig"],qx(t,o));const r=s(e,["languageCode"]);return r!=null&&a(n,["languageCode"],r),n}function Hx(t,e){const n={},o=s(e,["includeThoughts"]);o!=null&&a(n,["includeThoughts"],o);const r=s(e,["thinkingBudget"]);return r!=null&&a(n,["thinkingBudget"],r),n}function Yx(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],_l(t,Pe(t,r)));const l=s(e,["temperature"]);l!=null&&a(o,["temperature"],l);const i=s(e,["topP"]);i!=null&&a(o,["topP"],i);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const d=s(e,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const f=s(e,["maxOutputTokens"]);f!=null&&a(o,["maxOutputTokens"],f);const p=s(e,["stopSequences"]);p!=null&&a(o,["stopSequences"],p);const m=s(e,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const h=s(e,["logprobs"]);h!=null&&a(o,["logprobs"],h);const y=s(e,["presencePenalty"]);y!=null&&a(o,["presencePenalty"],y);const C=s(e,["frequencyPenalty"]);C!=null&&a(o,["frequencyPenalty"],C);const S=s(e,["seed"]);S!=null&&a(o,["seed"],S);const I=s(e,["responseMimeType"]);I!=null&&a(o,["responseMimeType"],I);const x=s(e,["responseSchema"]);if(x!=null&&a(o,["responseSchema"],bf(t,x)),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const g=s(e,["safetySettings"]);if(n!==void 0&&g!=null){let L=g;Array.isArray(L)&&(L=L.map(Z=>bx(t,Z))),a(n,["safetySettings"],L)}const v=s(e,["tools"]);if(n!==void 0&&v!=null){let L=El(t,v);Array.isArray(L)&&(L=L.map(Z=>$x(t,wl(t,Z)))),a(n,["tools"],L)}const T=s(e,["toolConfig"]);if(n!==void 0&&T!=null&&a(n,["toolConfig"],Gx(t,T)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=s(e,["cachedContent"]);n!==void 0&&w!=null&&a(n,["cachedContent"],Qt(t,w));const M=s(e,["responseModalities"]);M!=null&&a(o,["responseModalities"],M);const D=s(e,["mediaResolution"]);D!=null&&a(o,["mediaResolution"],D);const A=s(e,["speechConfig"]);if(A!=null&&a(o,["speechConfig"],Ox(t,Uf(t,A))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=s(e,["thinkingConfig"]);return $!=null&&a(o,["thinkingConfig"],Hx(t,$)),o}function dc(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],te(t,o));const r=s(e,["contents"]);if(r!=null){let i=Jt(t,r);Array.isArray(i)&&(i=i.map(u=>_l(t,u))),a(n,["contents"],i)}const l=s(e,["config"]);return l!=null&&a(n,["generationConfig"],Yx(t,l,n)),n}function Wx(t,e,n){const o={},r=s(e,["taskType"]);n!==void 0&&r!=null&&a(n,["requests[]","taskType"],r);const l=s(e,["title"]);n!==void 0&&l!=null&&a(n,["requests[]","title"],l);const i=s(e,["outputDimensionality"]);if(n!==void 0&&i!=null&&a(n,["requests[]","outputDimensionality"],i),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Kx(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],te(t,o));const r=s(e,["contents"]);r!=null&&a(n,["requests[]","content"],Lf(t,r));const l=s(e,["config"]);l!=null&&a(n,["config"],Wx(t,l,n));const i=s(e,["model"]);return i!==void 0&&a(n,["requests[]","model"],te(t,i)),n}function Jx(t,e,n){const o={};if(s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=s(e,["numberOfImages"]);n!==void 0&&r!=null&&a(n,["parameters","sampleCount"],r);const l=s(e,["aspectRatio"]);n!==void 0&&l!=null&&a(n,["parameters","aspectRatio"],l);const i=s(e,["guidanceScale"]);if(n!==void 0&&i!=null&&a(n,["parameters","guidanceScale"],i),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=s(e,["safetyFilterLevel"]);n!==void 0&&u!=null&&a(n,["parameters","safetySetting"],u);const d=s(e,["personGeneration"]);n!==void 0&&d!=null&&a(n,["parameters","personGeneration"],d);const f=s(e,["includeSafetyAttributes"]);n!==void 0&&f!=null&&a(n,["parameters","includeSafetyAttributes"],f);const p=s(e,["includeRaiReason"]);n!==void 0&&p!=null&&a(n,["parameters","includeRaiReason"],p);const m=s(e,["language"]);n!==void 0&&m!=null&&a(n,["parameters","language"],m);const h=s(e,["outputMimeType"]);n!==void 0&&h!=null&&a(n,["parameters","outputOptions","mimeType"],h);const y=s(e,["outputCompressionQuality"]);if(n!==void 0&&y!=null&&a(n,["parameters","outputOptions","compressionQuality"],y),s(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function Qx(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],te(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const l=s(e,["config"]);return l!=null&&a(n,["config"],Jx(t,l,n)),n}function Xx(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","name"],te(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],r),n}function Zx(t,e,n){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const l=s(e,["pageToken"]);n!==void 0&&l!=null&&a(n,["_query","pageToken"],l);const i=s(e,["filter"]);n!==void 0&&i!=null&&a(n,["_query","filter"],i);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],$f(t,u)),o}function ey(t,e){const n={},o=s(e,["config"]);return o!=null&&a(n,["config"],Zx(t,o,n)),n}function ty(t,e,n){const o={},r=s(e,["displayName"]);n!==void 0&&r!=null&&a(n,["displayName"],r);const l=s(e,["description"]);n!==void 0&&l!=null&&a(n,["description"],l);const i=s(e,["defaultCheckpointId"]);return n!==void 0&&i!=null&&a(n,["defaultCheckpointId"],i),o}function ny(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","name"],te(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],ty(t,r,n)),n}function oy(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","name"],te(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],r),n}function ry(t,e){const n={};if(s(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function ly(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],te(t,o));const r=s(e,["contents"]);if(r!=null){let i=Jt(t,r);Array.isArray(i)&&(i=i.map(u=>_l(t,u))),a(n,["contents"],i)}const l=s(e,["config"]);return l!=null&&a(n,["config"],ry(t,l)),n}function iy(t,e){const n={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=s(e,["imageBytes"]);o!=null&&a(n,["bytesBase64Encoded"],Xt(t,o));const r=s(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function sy(t,e,n){const o={},r=s(e,["numberOfVideos"]);if(n!==void 0&&r!=null&&a(n,["parameters","sampleCount"],r),s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=s(e,["durationSeconds"]);if(n!==void 0&&l!=null&&a(n,["parameters","durationSeconds"],l),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=s(e,["aspectRatio"]);if(n!==void 0&&i!=null&&a(n,["parameters","aspectRatio"],i),s(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=s(e,["personGeneration"]);if(n!==void 0&&u!=null&&a(n,["parameters","personGeneration"],u),s(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=s(e,["negativePrompt"]);if(n!==void 0&&d!=null&&a(n,["parameters","negativePrompt"],d),s(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function ay(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],te(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const l=s(e,["image"]);l!=null&&a(n,["instances[0]","image"],iy(t,l));const i=s(e,["config"]);return i!=null&&a(n,["config"],sy(t,i,n)),n}function uy(t,e){const n={},o=s(e,["displayName"]);o!=null&&a(n,["displayName"],o);const r=s(e,["data"]);r!=null&&a(n,["data"],r);const l=s(e,["mimeType"]);return l!=null&&a(n,["mimeType"],l),n}function cy(t,e){const n={},o=s(e,["videoMetadata"]);o!=null&&a(n,["videoMetadata"],o);const r=s(e,["thought"]);r!=null&&a(n,["thought"],r);const l=s(e,["inlineData"]);l!=null&&a(n,["inlineData"],uy(t,l));const i=s(e,["codeExecutionResult"]);i!=null&&a(n,["codeExecutionResult"],i);const u=s(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=s(e,["fileData"]);d!=null&&a(n,["fileData"],d);const f=s(e,["functionCall"]);f!=null&&a(n,["functionCall"],f);const p=s(e,["functionResponse"]);p!=null&&a(n,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&a(n,["text"],m),n}function Kn(t,e){const n={},o=s(e,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(i=>cy(t,i))),a(n,["parts"],l)}const r=s(e,["role"]);return r!=null&&a(n,["role"],r),n}function dy(t,e){const n={},o=s(e,["featureSelectionPreference"]);return o!=null&&a(n,["featureSelectionPreference"],o),n}function fy(t,e){const n={},o=s(e,["method"]);o!=null&&a(n,["method"],o);const r=s(e,["category"]);r!=null&&a(n,["category"],r);const l=s(e,["threshold"]);return l!=null&&a(n,["threshold"],l),n}function py(){return{}}function my(t,e){const n={},o=s(e,["mode"]);o!=null&&a(n,["mode"],o);const r=s(e,["dynamicThreshold"]);return r!=null&&a(n,["dynamicThreshold"],r),n}function hy(t,e){const n={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&a(n,["dynamicRetrievalConfig"],my(t,o)),n}function gy(){return{}}function xy(t,e){const n={},o=s(e,["apiKeyString"]);return o!=null&&a(n,["apiKeyString"],o),n}function yy(t,e){const n={},o=s(e,["apiKeyConfig"]);o!=null&&a(n,["apiKeyConfig"],xy(t,o));const r=s(e,["authType"]);r!=null&&a(n,["authType"],r);const l=s(e,["googleServiceAccountConfig"]);l!=null&&a(n,["googleServiceAccountConfig"],l);const i=s(e,["httpBasicAuthConfig"]);i!=null&&a(n,["httpBasicAuthConfig"],i);const u=s(e,["oauthConfig"]);u!=null&&a(n,["oauthConfig"],u);const d=s(e,["oidcConfig"]);return d!=null&&a(n,["oidcConfig"],d),n}function vy(t,e){const n={},o=s(e,["authConfig"]);return o!=null&&a(n,["authConfig"],yy(t,o)),n}function Bf(t,e){const n={},o=s(e,["retrieval"]);o!=null&&a(n,["retrieval"],o),s(e,["googleSearch"])!=null&&a(n,["googleSearch"],py());const l=s(e,["googleSearchRetrieval"]);l!=null&&a(n,["googleSearchRetrieval"],hy(t,l)),s(e,["enterpriseWebSearch"])!=null&&a(n,["enterpriseWebSearch"],gy());const u=s(e,["googleMaps"]);u!=null&&a(n,["googleMaps"],vy(t,u));const d=s(e,["codeExecution"]);d!=null&&a(n,["codeExecution"],d);const f=s(e,["functionDeclarations"]);return f!=null&&a(n,["functionDeclarations"],f),n}function Cy(t,e){const n={},o=s(e,["mode"]);o!=null&&a(n,["mode"],o);const r=s(e,["allowedFunctionNames"]);return r!=null&&a(n,["allowedFunctionNames"],r),n}function Sy(t,e){const n={},o=s(e,["latitude"]);o!=null&&a(n,["latitude"],o);const r=s(e,["longitude"]);return r!=null&&a(n,["longitude"],r),n}function Ty(t,e){const n={},o=s(e,["latLng"]);return o!=null&&a(n,["latLng"],Sy(t,o)),n}function wy(t,e){const n={},o=s(e,["functionCallingConfig"]);o!=null&&a(n,["functionCallingConfig"],Cy(t,o));const r=s(e,["retrievalConfig"]);return r!=null&&a(n,["retrievalConfig"],Ty(t,r)),n}function Ey(t,e){const n={},o=s(e,["voiceName"]);return o!=null&&a(n,["voiceName"],o),n}function Ny(t,e){const n={},o=s(e,["prebuiltVoiceConfig"]);return o!=null&&a(n,["prebuiltVoiceConfig"],Ey(t,o)),n}function _y(t,e){const n={},o=s(e,["voiceConfig"]);o!=null&&a(n,["voiceConfig"],Ny(t,o));const r=s(e,["languageCode"]);return r!=null&&a(n,["languageCode"],r),n}function Iy(t,e){const n={},o=s(e,["includeThoughts"]);o!=null&&a(n,["includeThoughts"],o);const r=s(e,["thinkingBudget"]);return r!=null&&a(n,["thinkingBudget"],r),n}function My(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],Kn(t,Pe(t,r)));const l=s(e,["temperature"]);l!=null&&a(o,["temperature"],l);const i=s(e,["topP"]);i!=null&&a(o,["topP"],i);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const d=s(e,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const f=s(e,["maxOutputTokens"]);f!=null&&a(o,["maxOutputTokens"],f);const p=s(e,["stopSequences"]);p!=null&&a(o,["stopSequences"],p);const m=s(e,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const h=s(e,["logprobs"]);h!=null&&a(o,["logprobs"],h);const y=s(e,["presencePenalty"]);y!=null&&a(o,["presencePenalty"],y);const C=s(e,["frequencyPenalty"]);C!=null&&a(o,["frequencyPenalty"],C);const S=s(e,["seed"]);S!=null&&a(o,["seed"],S);const I=s(e,["responseMimeType"]);I!=null&&a(o,["responseMimeType"],I);const x=s(e,["responseSchema"]);x!=null&&a(o,["responseSchema"],bf(t,x));const g=s(e,["routingConfig"]);g!=null&&a(o,["routingConfig"],g);const v=s(e,["modelSelectionConfig"]);v!=null&&a(o,["modelConfig"],dy(t,v));const T=s(e,["safetySettings"]);if(n!==void 0&&T!=null){let ue=T;Array.isArray(ue)&&(ue=ue.map(pt=>fy(t,pt))),a(n,["safetySettings"],ue)}const w=s(e,["tools"]);if(n!==void 0&&w!=null){let ue=El(t,w);Array.isArray(ue)&&(ue=ue.map(pt=>Bf(t,wl(t,pt)))),a(n,["tools"],ue)}const M=s(e,["toolConfig"]);n!==void 0&&M!=null&&a(n,["toolConfig"],wy(t,M));const D=s(e,["labels"]);n!==void 0&&D!=null&&a(n,["labels"],D);const A=s(e,["cachedContent"]);n!==void 0&&A!=null&&a(n,["cachedContent"],Qt(t,A));const $=s(e,["responseModalities"]);$!=null&&a(o,["responseModalities"],$);const L=s(e,["mediaResolution"]);L!=null&&a(o,["mediaResolution"],L);const Z=s(e,["speechConfig"]);Z!=null&&a(o,["speechConfig"],_y(t,Uf(t,Z)));const qe=s(e,["audioTimestamp"]);qe!=null&&a(o,["audioTimestamp"],qe);const xe=s(e,["thinkingConfig"]);return xe!=null&&a(o,["thinkingConfig"],Iy(t,xe)),o}function fc(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],te(t,o));const r=s(e,["contents"]);if(r!=null){let i=Jt(t,r);Array.isArray(i)&&(i=i.map(u=>Kn(t,u))),a(n,["contents"],i)}const l=s(e,["config"]);return l!=null&&a(n,["generationConfig"],My(t,l,n)),n}function ky(t,e,n){const o={},r=s(e,["taskType"]);n!==void 0&&r!=null&&a(n,["instances[]","task_type"],r);const l=s(e,["title"]);n!==void 0&&l!=null&&a(n,["instances[]","title"],l);const i=s(e,["outputDimensionality"]);n!==void 0&&i!=null&&a(n,["parameters","outputDimensionality"],i);const u=s(e,["mimeType"]);n!==void 0&&u!=null&&a(n,["instances[]","mimeType"],u);const d=s(e,["autoTruncate"]);return n!==void 0&&d!=null&&a(n,["parameters","autoTruncate"],d),o}function Dy(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],te(t,o));const r=s(e,["contents"]);r!=null&&a(n,["instances[]","content"],Lf(t,r));const l=s(e,["config"]);return l!=null&&a(n,["config"],ky(t,l,n)),n}function Ay(t,e,n){const o={},r=s(e,["outputGcsUri"]);n!==void 0&&r!=null&&a(n,["parameters","storageUri"],r);const l=s(e,["negativePrompt"]);n!==void 0&&l!=null&&a(n,["parameters","negativePrompt"],l);const i=s(e,["numberOfImages"]);n!==void 0&&i!=null&&a(n,["parameters","sampleCount"],i);const u=s(e,["aspectRatio"]);n!==void 0&&u!=null&&a(n,["parameters","aspectRatio"],u);const d=s(e,["guidanceScale"]);n!==void 0&&d!=null&&a(n,["parameters","guidanceScale"],d);const f=s(e,["seed"]);n!==void 0&&f!=null&&a(n,["parameters","seed"],f);const p=s(e,["safetyFilterLevel"]);n!==void 0&&p!=null&&a(n,["parameters","safetySetting"],p);const m=s(e,["personGeneration"]);n!==void 0&&m!=null&&a(n,["parameters","personGeneration"],m);const h=s(e,["includeSafetyAttributes"]);n!==void 0&&h!=null&&a(n,["parameters","includeSafetyAttributes"],h);const y=s(e,["includeRaiReason"]);n!==void 0&&y!=null&&a(n,["parameters","includeRaiReason"],y);const C=s(e,["language"]);n!==void 0&&C!=null&&a(n,["parameters","language"],C);const S=s(e,["outputMimeType"]);n!==void 0&&S!=null&&a(n,["parameters","outputOptions","mimeType"],S);const I=s(e,["outputCompressionQuality"]);n!==void 0&&I!=null&&a(n,["parameters","outputOptions","compressionQuality"],I);const x=s(e,["addWatermark"]);n!==void 0&&x!=null&&a(n,["parameters","addWatermark"],x);const g=s(e,["enhancePrompt"]);return n!==void 0&&g!=null&&a(n,["parameters","enhancePrompt"],g),o}function Py(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],te(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const l=s(e,["config"]);return l!=null&&a(n,["config"],Ay(t,l,n)),n}function ea(t,e){const n={},o=s(e,["gcsUri"]);o!=null&&a(n,["gcsUri"],o);const r=s(e,["imageBytes"]);r!=null&&a(n,["bytesBase64Encoded"],Xt(t,r));const l=s(e,["mimeType"]);return l!=null&&a(n,["mimeType"],l),n}function Ry(t,e){const n={},o=s(e,["maskMode"]);o!=null&&a(n,["maskMode"],o);const r=s(e,["segmentationClasses"]);r!=null&&a(n,["maskClasses"],r);const l=s(e,["maskDilation"]);return l!=null&&a(n,["dilation"],l),n}function Fy(t,e){const n={},o=s(e,["controlType"]);o!=null&&a(n,["controlType"],o);const r=s(e,["enableControlImageComputation"]);return r!=null&&a(n,["computeControl"],r),n}function Ly(t,e){const n={},o=s(e,["styleDescription"]);return o!=null&&a(n,["styleDescription"],o),n}function by(t,e){const n={},o=s(e,["subjectType"]);o!=null&&a(n,["subjectType"],o);const r=s(e,["subjectDescription"]);return r!=null&&a(n,["subjectDescription"],r),n}function Uy(t,e){const n={},o=s(e,["referenceImage"]);o!=null&&a(n,["referenceImage"],ea(t,o));const r=s(e,["referenceId"]);r!=null&&a(n,["referenceId"],r);const l=s(e,["referenceType"]);l!=null&&a(n,["referenceType"],l);const i=s(e,["maskImageConfig"]);i!=null&&a(n,["maskImageConfig"],Ry(t,i));const u=s(e,["controlImageConfig"]);u!=null&&a(n,["controlImageConfig"],Fy(t,u));const d=s(e,["styleImageConfig"]);d!=null&&a(n,["styleImageConfig"],Ly(t,d));const f=s(e,["subjectImageConfig"]);return f!=null&&a(n,["subjectImageConfig"],by(t,f)),n}function Vy(t,e,n){const o={},r=s(e,["outputGcsUri"]);n!==void 0&&r!=null&&a(n,["parameters","storageUri"],r);const l=s(e,["negativePrompt"]);n!==void 0&&l!=null&&a(n,["parameters","negativePrompt"],l);const i=s(e,["numberOfImages"]);n!==void 0&&i!=null&&a(n,["parameters","sampleCount"],i);const u=s(e,["aspectRatio"]);n!==void 0&&u!=null&&a(n,["parameters","aspectRatio"],u);const d=s(e,["guidanceScale"]);n!==void 0&&d!=null&&a(n,["parameters","guidanceScale"],d);const f=s(e,["seed"]);n!==void 0&&f!=null&&a(n,["parameters","seed"],f);const p=s(e,["safetyFilterLevel"]);n!==void 0&&p!=null&&a(n,["parameters","safetySetting"],p);const m=s(e,["personGeneration"]);n!==void 0&&m!=null&&a(n,["parameters","personGeneration"],m);const h=s(e,["includeSafetyAttributes"]);n!==void 0&&h!=null&&a(n,["parameters","includeSafetyAttributes"],h);const y=s(e,["includeRaiReason"]);n!==void 0&&y!=null&&a(n,["parameters","includeRaiReason"],y);const C=s(e,["language"]);n!==void 0&&C!=null&&a(n,["parameters","language"],C);const S=s(e,["outputMimeType"]);n!==void 0&&S!=null&&a(n,["parameters","outputOptions","mimeType"],S);const I=s(e,["outputCompressionQuality"]);n!==void 0&&I!=null&&a(n,["parameters","outputOptions","compressionQuality"],I);const x=s(e,["editMode"]);n!==void 0&&x!=null&&a(n,["parameters","editMode"],x);const g=s(e,["baseSteps"]);return n!==void 0&&g!=null&&a(n,["parameters","editConfig","baseSteps"],g),o}function jy(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],te(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const l=s(e,["referenceImages"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>Uy(t,d))),a(n,["instances[0]","referenceImages"],u)}const i=s(e,["config"]);return i!=null&&a(n,["config"],Vy(t,i,n)),n}function $y(t,e,n){const o={},r=s(e,["includeRaiReason"]);n!==void 0&&r!=null&&a(n,["parameters","includeRaiReason"],r);const l=s(e,["outputMimeType"]);n!==void 0&&l!=null&&a(n,["parameters","outputOptions","mimeType"],l);const i=s(e,["outputCompressionQuality"]);n!==void 0&&i!=null&&a(n,["parameters","outputOptions","compressionQuality"],i);const u=s(e,["numberOfImages"]);n!==void 0&&u!=null&&a(n,["parameters","sampleCount"],u);const d=s(e,["mode"]);return n!==void 0&&d!=null&&a(n,["parameters","mode"],d),o}function zy(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],te(t,o));const r=s(e,["image"]);r!=null&&a(n,["instances[0]","image"],ea(t,r));const l=s(e,["upscaleFactor"]);l!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],l);const i=s(e,["config"]);return i!=null&&a(n,["config"],$y(t,i,n)),n}function Gy(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","name"],te(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],r),n}function By(t,e,n){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const l=s(e,["pageToken"]);n!==void 0&&l!=null&&a(n,["_query","pageToken"],l);const i=s(e,["filter"]);n!==void 0&&i!=null&&a(n,["_query","filter"],i);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],$f(t,u)),o}function qy(t,e){const n={},o=s(e,["config"]);return o!=null&&a(n,["config"],By(t,o,n)),n}function Oy(t,e,n){const o={},r=s(e,["displayName"]);n!==void 0&&r!=null&&a(n,["displayName"],r);const l=s(e,["description"]);n!==void 0&&l!=null&&a(n,["description"],l);const i=s(e,["defaultCheckpointId"]);return n!==void 0&&i!=null&&a(n,["defaultCheckpointId"],i),o}function Hy(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],te(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],Oy(t,r,n)),n}function Yy(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","name"],te(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],r),n}function Wy(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],Kn(t,Pe(t,r)));const l=s(e,["tools"]);if(n!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>Bf(t,d))),a(n,["tools"],u)}const i=s(e,["generationConfig"]);return n!==void 0&&i!=null&&a(n,["generationConfig"],i),o}function Ky(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],te(t,o));const r=s(e,["contents"]);if(r!=null){let i=Jt(t,r);Array.isArray(i)&&(i=i.map(u=>Kn(t,u))),a(n,["contents"],i)}const l=s(e,["config"]);return l!=null&&a(n,["config"],Wy(t,l,n)),n}function Jy(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],te(t,o));const r=s(e,["contents"]);if(r!=null){let i=Jt(t,r);Array.isArray(i)&&(i=i.map(u=>Kn(t,u))),a(n,["contents"],i)}const l=s(e,["config"]);return l!=null&&a(n,["config"],l),n}function Qy(t,e,n){const o={},r=s(e,["numberOfVideos"]);n!==void 0&&r!=null&&a(n,["parameters","sampleCount"],r);const l=s(e,["outputGcsUri"]);n!==void 0&&l!=null&&a(n,["parameters","storageUri"],l);const i=s(e,["fps"]);n!==void 0&&i!=null&&a(n,["parameters","fps"],i);const u=s(e,["durationSeconds"]);n!==void 0&&u!=null&&a(n,["parameters","durationSeconds"],u);const d=s(e,["seed"]);n!==void 0&&d!=null&&a(n,["parameters","seed"],d);const f=s(e,["aspectRatio"]);n!==void 0&&f!=null&&a(n,["parameters","aspectRatio"],f);const p=s(e,["resolution"]);n!==void 0&&p!=null&&a(n,["parameters","resolution"],p);const m=s(e,["personGeneration"]);n!==void 0&&m!=null&&a(n,["parameters","personGeneration"],m);const h=s(e,["pubsubTopic"]);n!==void 0&&h!=null&&a(n,["parameters","pubsubTopic"],h);const y=s(e,["negativePrompt"]);n!==void 0&&y!=null&&a(n,["parameters","negativePrompt"],y);const C=s(e,["enhancePrompt"]);return n!==void 0&&C!=null&&a(n,["parameters","enhancePrompt"],C),o}function Xy(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],te(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const l=s(e,["image"]);l!=null&&a(n,["instances[0]","image"],ea(t,l));const i=s(e,["config"]);return i!=null&&a(n,["config"],Qy(t,i,n)),n}function Zy(t,e){const n={},o=s(e,["data"]);o!=null&&a(n,["data"],o);const r=s(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function ev(t,e){const n={},o=s(e,["thought"]);o!=null&&a(n,["thought"],o);const r=s(e,["inlineData"]);r!=null&&a(n,["inlineData"],Zy(t,r));const l=s(e,["codeExecutionResult"]);l!=null&&a(n,["codeExecutionResult"],l);const i=s(e,["executableCode"]);i!=null&&a(n,["executableCode"],i);const u=s(e,["fileData"]);u!=null&&a(n,["fileData"],u);const d=s(e,["functionCall"]);d!=null&&a(n,["functionCall"],d);const f=s(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=s(e,["text"]);return p!=null&&a(n,["text"],p),n}function tv(t,e){const n={},o=s(e,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(i=>ev(t,i))),a(n,["parts"],l)}const r=s(e,["role"]);return r!=null&&a(n,["role"],r),n}function nv(t,e){const n={},o=s(e,["citationSources"]);return o!=null&&a(n,["citations"],o),n}function ov(t,e){const n={},o=s(e,["content"]);o!=null&&a(n,["content"],tv(t,o));const r=s(e,["citationMetadata"]);r!=null&&a(n,["citationMetadata"],nv(t,r));const l=s(e,["tokenCount"]);l!=null&&a(n,["tokenCount"],l);const i=s(e,["finishReason"]);i!=null&&a(n,["finishReason"],i);const u=s(e,["avgLogprobs"]);u!=null&&a(n,["avgLogprobs"],u);const d=s(e,["groundingMetadata"]);d!=null&&a(n,["groundingMetadata"],d);const f=s(e,["index"]);f!=null&&a(n,["index"],f);const p=s(e,["logprobsResult"]);p!=null&&a(n,["logprobsResult"],p);const m=s(e,["safetyRatings"]);return m!=null&&a(n,["safetyRatings"],m),n}function pc(t,e){const n={},o=s(e,["candidates"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>ov(t,d))),a(n,["candidates"],u)}const r=s(e,["modelVersion"]);r!=null&&a(n,["modelVersion"],r);const l=s(e,["promptFeedback"]);l!=null&&a(n,["promptFeedback"],l);const i=s(e,["usageMetadata"]);return i!=null&&a(n,["usageMetadata"],i),n}function rv(t,e){const n={},o=s(e,["values"]);return o!=null&&a(n,["values"],o),n}function lv(){return{}}function iv(t,e){const n={},o=s(e,["embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(i=>rv(t,i))),a(n,["embeddings"],l)}return s(e,["metadata"])!=null&&a(n,["metadata"],lv()),n}function sv(t,e){const n={},o=s(e,["bytesBase64Encoded"]);o!=null&&a(n,["imageBytes"],Xt(t,o));const r=s(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function qf(t,e){const n={},o=s(e,["safetyAttributes","categories"]);o!=null&&a(n,["categories"],o);const r=s(e,["safetyAttributes","scores"]);r!=null&&a(n,["scores"],r);const l=s(e,["contentType"]);return l!=null&&a(n,["contentType"],l),n}function av(t,e){const n={},o=s(e,["_self"]);o!=null&&a(n,["image"],sv(t,o));const r=s(e,["raiFilteredReason"]);r!=null&&a(n,["raiFilteredReason"],r);const l=s(e,["_self"]);return l!=null&&a(n,["safetyAttributes"],qf(t,l)),n}function uv(t,e){const n={},o=s(e,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(i=>av(t,i))),a(n,["generatedImages"],l)}const r=s(e,["positivePromptSafetyAttributes"]);return r!=null&&a(n,["positivePromptSafetyAttributes"],qf(t,r)),n}function cv(t,e){const n={},o=s(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(e,["createTime"]);r!=null&&a(n,["createTime"],r);const l=s(e,["updateTime"]);return l!=null&&a(n,["updateTime"],l),n}function ns(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["name"],o);const r=s(e,["displayName"]);r!=null&&a(n,["displayName"],r);const l=s(e,["description"]);l!=null&&a(n,["description"],l);const i=s(e,["version"]);i!=null&&a(n,["version"],i);const u=s(e,["_self"]);u!=null&&a(n,["tunedModelInfo"],cv(t,u));const d=s(e,["inputTokenLimit"]);d!=null&&a(n,["inputTokenLimit"],d);const f=s(e,["outputTokenLimit"]);f!=null&&a(n,["outputTokenLimit"],f);const p=s(e,["supportedGenerationMethods"]);return p!=null&&a(n,["supportedActions"],p),n}function dv(t,e){const n={},o=s(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=s(e,["_self"]);if(r!=null){let l=zf(t,r);Array.isArray(l)&&(l=l.map(i=>ns(t,i))),a(n,["models"],l)}return n}function fv(){return{}}function pv(t,e){const n={},o=s(e,["totalTokens"]);o!=null&&a(n,["totalTokens"],o);const r=s(e,["cachedContentTokenCount"]);return r!=null&&a(n,["cachedContentTokenCount"],r),n}function mv(t,e){const n={},o=s(e,["video","uri"]);o!=null&&a(n,["uri"],o);const r=s(e,["video","encodedVideo"]);r!=null&&a(n,["videoBytes"],Xt(t,r));const l=s(e,["encoding"]);return l!=null&&a(n,["mimeType"],l),n}function hv(t,e){const n={},o=s(e,["_self"]);return o!=null&&a(n,["video"],mv(t,o)),n}function gv(t,e){const n={},o=s(e,["generatedSamples"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(u=>hv(t,u))),a(n,["generatedVideos"],i)}const r=s(e,["raiMediaFilteredCount"]);r!=null&&a(n,["raiMediaFilteredCount"],r);const l=s(e,["raiMediaFilteredReasons"]);return l!=null&&a(n,["raiMediaFilteredReasons"],l),n}function xv(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["name"],o);const r=s(e,["metadata"]);r!=null&&a(n,["metadata"],r);const l=s(e,["done"]);l!=null&&a(n,["done"],l);const i=s(e,["error"]);i!=null&&a(n,["error"],i);const u=s(e,["response","generateVideoResponse"]);return u!=null&&a(n,["response"],gv(t,u)),n}function yv(t,e){const n={},o=s(e,["displayName"]);o!=null&&a(n,["displayName"],o);const r=s(e,["data"]);r!=null&&a(n,["data"],r);const l=s(e,["mimeType"]);return l!=null&&a(n,["mimeType"],l),n}function vv(t,e){const n={},o=s(e,["videoMetadata"]);o!=null&&a(n,["videoMetadata"],o);const r=s(e,["thought"]);r!=null&&a(n,["thought"],r);const l=s(e,["inlineData"]);l!=null&&a(n,["inlineData"],yv(t,l));const i=s(e,["codeExecutionResult"]);i!=null&&a(n,["codeExecutionResult"],i);const u=s(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=s(e,["fileData"]);d!=null&&a(n,["fileData"],d);const f=s(e,["functionCall"]);f!=null&&a(n,["functionCall"],f);const p=s(e,["functionResponse"]);p!=null&&a(n,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&a(n,["text"],m),n}function Cv(t,e){const n={},o=s(e,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(i=>vv(t,i))),a(n,["parts"],l)}const r=s(e,["role"]);return r!=null&&a(n,["role"],r),n}function Sv(t,e){const n={},o=s(e,["citations"]);return o!=null&&a(n,["citations"],o),n}function Tv(t,e){const n={},o=s(e,["content"]);o!=null&&a(n,["content"],Cv(t,o));const r=s(e,["citationMetadata"]);r!=null&&a(n,["citationMetadata"],Sv(t,r));const l=s(e,["finishMessage"]);l!=null&&a(n,["finishMessage"],l);const i=s(e,["finishReason"]);i!=null&&a(n,["finishReason"],i);const u=s(e,["avgLogprobs"]);u!=null&&a(n,["avgLogprobs"],u);const d=s(e,["groundingMetadata"]);d!=null&&a(n,["groundingMetadata"],d);const f=s(e,["index"]);f!=null&&a(n,["index"],f);const p=s(e,["logprobsResult"]);p!=null&&a(n,["logprobsResult"],p);const m=s(e,["safetyRatings"]);return m!=null&&a(n,["safetyRatings"],m),n}function mc(t,e){const n={},o=s(e,["candidates"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>Tv(t,p))),a(n,["candidates"],f)}const r=s(e,["createTime"]);r!=null&&a(n,["createTime"],r);const l=s(e,["responseId"]);l!=null&&a(n,["responseId"],l);const i=s(e,["modelVersion"]);i!=null&&a(n,["modelVersion"],i);const u=s(e,["promptFeedback"]);u!=null&&a(n,["promptFeedback"],u);const d=s(e,["usageMetadata"]);return d!=null&&a(n,["usageMetadata"],d),n}function wv(t,e){const n={},o=s(e,["truncated"]);o!=null&&a(n,["truncated"],o);const r=s(e,["token_count"]);return r!=null&&a(n,["tokenCount"],r),n}function Ev(t,e){const n={},o=s(e,["values"]);o!=null&&a(n,["values"],o);const r=s(e,["statistics"]);return r!=null&&a(n,["statistics"],wv(t,r)),n}function Nv(t,e){const n={},o=s(e,["billableCharacterCount"]);return o!=null&&a(n,["billableCharacterCount"],o),n}function _v(t,e){const n={},o=s(e,["predictions[]","embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(i=>Ev(t,i))),a(n,["embeddings"],l)}const r=s(e,["metadata"]);return r!=null&&a(n,["metadata"],Nv(t,r)),n}function Iv(t,e){const n={},o=s(e,["gcsUri"]);o!=null&&a(n,["gcsUri"],o);const r=s(e,["bytesBase64Encoded"]);r!=null&&a(n,["imageBytes"],Xt(t,r));const l=s(e,["mimeType"]);return l!=null&&a(n,["mimeType"],l),n}function Of(t,e){const n={},o=s(e,["safetyAttributes","categories"]);o!=null&&a(n,["categories"],o);const r=s(e,["safetyAttributes","scores"]);r!=null&&a(n,["scores"],r);const l=s(e,["contentType"]);return l!=null&&a(n,["contentType"],l),n}function ta(t,e){const n={},o=s(e,["_self"]);o!=null&&a(n,["image"],Iv(t,o));const r=s(e,["raiFilteredReason"]);r!=null&&a(n,["raiFilteredReason"],r);const l=s(e,["_self"]);l!=null&&a(n,["safetyAttributes"],Of(t,l));const i=s(e,["prompt"]);return i!=null&&a(n,["enhancedPrompt"],i),n}function Mv(t,e){const n={},o=s(e,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(i=>ta(t,i))),a(n,["generatedImages"],l)}const r=s(e,["positivePromptSafetyAttributes"]);return r!=null&&a(n,["positivePromptSafetyAttributes"],Of(t,r)),n}function kv(t,e){const n={},o=s(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>ta(t,l))),a(n,["generatedImages"],r)}return n}function Dv(t,e){const n={},o=s(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>ta(t,l))),a(n,["generatedImages"],r)}return n}function Av(t,e){const n={},o=s(e,["endpoint"]);o!=null&&a(n,["name"],o);const r=s(e,["deployedModelId"]);return r!=null&&a(n,["deployedModelId"],r),n}function Pv(t,e){const n={},o=s(e,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&a(n,["baseModel"],o);const r=s(e,["createTime"]);r!=null&&a(n,["createTime"],r);const l=s(e,["updateTime"]);return l!=null&&a(n,["updateTime"],l),n}function Rv(t,e){const n={},o=s(e,["checkpointId"]);o!=null&&a(n,["checkpointId"],o);const r=s(e,["epoch"]);r!=null&&a(n,["epoch"],r);const l=s(e,["step"]);return l!=null&&a(n,["step"],l),n}function os(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["name"],o);const r=s(e,["displayName"]);r!=null&&a(n,["displayName"],r);const l=s(e,["description"]);l!=null&&a(n,["description"],l);const i=s(e,["versionId"]);i!=null&&a(n,["version"],i);const u=s(e,["deployedModels"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>Av(t,y))),a(n,["endpoints"],h)}const d=s(e,["labels"]);d!=null&&a(n,["labels"],d);const f=s(e,["_self"]);f!=null&&a(n,["tunedModelInfo"],Pv(t,f));const p=s(e,["defaultCheckpointId"]);p!=null&&a(n,["defaultCheckpointId"],p);const m=s(e,["checkpoints"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(y=>Rv(t,y))),a(n,["checkpoints"],h)}return n}function Fv(t,e){const n={},o=s(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=s(e,["_self"]);if(r!=null){let l=zf(t,r);Array.isArray(l)&&(l=l.map(i=>os(t,i))),a(n,["models"],l)}return n}function Lv(){return{}}function bv(t,e){const n={},o=s(e,["totalTokens"]);return o!=null&&a(n,["totalTokens"],o),n}function Uv(t,e){const n={},o=s(e,["tokensInfo"]);return o!=null&&a(n,["tokensInfo"],o),n}function Vv(t,e){const n={},o=s(e,["gcsUri"]);o!=null&&a(n,["uri"],o);const r=s(e,["bytesBase64Encoded"]);r!=null&&a(n,["videoBytes"],Xt(t,r));const l=s(e,["mimeType"]);return l!=null&&a(n,["mimeType"],l),n}function jv(t,e){const n={},o=s(e,["_self"]);return o!=null&&a(n,["video"],Vv(t,o)),n}function $v(t,e){const n={},o=s(e,["videos"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(u=>jv(t,u))),a(n,["generatedVideos"],i)}const r=s(e,["raiMediaFilteredCount"]);r!=null&&a(n,["raiMediaFilteredCount"],r);const l=s(e,["raiMediaFilteredReasons"]);return l!=null&&a(n,["raiMediaFilteredReasons"],l),n}function zv(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["name"],o);const r=s(e,["metadata"]);r!=null&&a(n,["metadata"],r);const l=s(e,["done"]);l!=null&&a(n,["done"],l);const i=s(e,["error"]);i!=null&&a(n,["error"],i);const u=s(e,["response"]);return u!=null&&a(n,["response"],$v(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gv="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Bv(t,e,n){const o=new s0;let r;if(n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),t.isVertexAI()){const l=Rx(t,r);Object.assign(o,l)}else{const l=Px(t,r);Object.assign(o,l)}e(o)}class qv{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o,r,l;const i=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const f=Wv(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())d=`${i}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(f);else{const T=this.apiClient.getApiKey();d=`${i}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateContent?key=${T}`}let p=()=>{};const m=new Promise(T=>{p=T}),h=e.callbacks,y=function(){var T;(T=h==null?void 0:h.onopen)===null||T===void 0||T.call(h),p({})},C=this.apiClient,S={onopen:y,onmessage:T=>{Bv(C,h.onmessage,T)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(T){},onclose:(o=h==null?void 0:h.onclose)!==null&&o!==void 0?o:function(T){}},I=this.webSocketFactory.create(d,Yv(f),S);I.connect(),await m;let x=te(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&x.startsWith("publishers/")){const T=this.apiClient.getProject(),w=this.apiClient.getLocation();x=`projects/${T}/locations/${w}/`+x}let g={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ll.AUDIO]}:e.config.responseModalities=[ll.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const v={model:x,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?g=ox(this.apiClient,v):g=nx(this.apiClient,v),delete g.config,I.send(JSON.stringify(g)),new Hv(I,this.apiClient)}}const Ov={turnComplete:!0};class Hv{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Jt(e,n.turns),e.isVertexAI()?o=o.map(r=>Kn(e,r)):o=o.map(r=>_l(e,r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const l of o){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(Gv)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},Ov),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:ux(this.apiClient,e)}:n={realtimeInput:ax(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Yv(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function Wv(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kv extends Bo{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let l;const i=[];if(o!=null&&o.generatedImages)for(const d of o.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((r=d==null?void 0:d.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?l=d==null?void 0:d.safetyAttributes:i.push(d);let u;return l?u={generatedImages:i,positivePromptSafetyAttributes:l}:u={generatedImages:i},u}),this.list=async n=>{var o;const i={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!i.config.queryBase){if(!((o=i.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");i.config.filter="labels.tune-type:*"}return new Nl(On.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(i),i)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)}}async generateContentInternal(e){var n,o,r,l;let i,u="",d={};if(this.apiClient.isVertexAI()){const f=fc(this.apiClient,e);return u=V("{model}:generateContent",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),i.then(p=>{const m=mc(this.apiClient,p),h=new gr;return Object.assign(h,m),h})}else{const f=dc(this.apiClient,e);return u=V("{model}:generateContent",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),i.then(p=>{const m=pc(this.apiClient,p),h=new gr;return Object.assign(h,m),h})}}async generateContentStreamInternal(e){var n,o,r,l;let i,u="",d={};if(this.apiClient.isVertexAI()){const f=fc(this.apiClient,e);u=V("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f.config,delete f._url,delete f._query;const p=this.apiClient;return i=p.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),i.then(function(m){return il(this,arguments,function*(){var h,y,C,S;try{for(var I=!0,x=es(m),g;g=yield Se(x.next()),h=g.done,!h;I=!0){S=g.value,I=!1;const T=mc(p,yield Se(S.json())),w=new gr;Object.assign(w,T),yield yield Se(w)}}catch(v){y={error:v}}finally{try{!I&&!h&&(C=x.return)&&(yield Se(C.call(x)))}finally{if(y)throw y.error}}})})}else{const f=dc(this.apiClient,e);u=V("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f.config,delete f._url,delete f._query;const p=this.apiClient;return i=p.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),i.then(function(m){return il(this,arguments,function*(){var h,y,C,S;try{for(var I=!0,x=es(m),g;g=yield Se(x.next()),h=g.done,!h;I=!0){S=g.value,I=!1;const T=pc(p,yield Se(S.json())),w=new gr;Object.assign(w,T),yield yield Se(w)}}catch(v){y={error:v}}finally{try{!I&&!h&&(C=x.return)&&(yield Se(C.call(x)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,o,r,l;let i,u="",d={};if(this.apiClient.isVertexAI()){const f=Dy(this.apiClient,e);return u=V("{model}:predict",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),i.then(p=>{const m=_v(this.apiClient,p),h=new Xu;return Object.assign(h,m),h})}else{const f=Kx(this.apiClient,e);return u=V("{model}:batchEmbedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),i.then(p=>{const m=iv(this.apiClient,p),h=new Xu;return Object.assign(h,m),h})}}async generateImagesInternal(e){var n,o,r,l;let i,u="",d={};if(this.apiClient.isVertexAI()){const f=Py(this.apiClient,e);return u=V("{model}:predict",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),i.then(p=>{const m=Mv(this.apiClient,p),h=new Zu;return Object.assign(h,m),h})}else{const f=Qx(this.apiClient,e);return u=V("{model}:predict",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),i.then(p=>{const m=uv(this.apiClient,p),h=new Zu;return Object.assign(h,m),h})}}async editImageInternal(e){var n,o;let r,l="",i={};if(this.apiClient.isVertexAI()){const u=jy(this.apiClient,e);return l=V("{model}:predict",u._url),i=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:i,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const f=kv(this.apiClient,d),p=new t0;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let r,l="",i={};if(this.apiClient.isVertexAI()){const u=zy(this.apiClient,e);return l=V("{model}:predict",u._url),i=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:i,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const f=Dv(this.apiClient,d),p=new n0;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,r,l;let i,u="",d={};if(this.apiClient.isVertexAI()){const f=Gy(this.apiClient,e);return u=V("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),i.then(p=>os(this.apiClient,p))}else{const f=Xx(this.apiClient,e);return u=V("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),i.then(p=>ns(this.apiClient,p))}}async listInternal(e){var n,o,r,l;let i,u="",d={};if(this.apiClient.isVertexAI()){const f=qy(this.apiClient,e);return u=V("{models_url}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),i.then(p=>{const m=Fv(this.apiClient,p),h=new ec;return Object.assign(h,m),h})}else{const f=ey(this.apiClient,e);return u=V("{models_url}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),i.then(p=>{const m=dv(this.apiClient,p),h=new ec;return Object.assign(h,m),h})}}async update(e){var n,o,r,l;let i,u="",d={};if(this.apiClient.isVertexAI()){const f=Hy(this.apiClient,e);return u=V("{model}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),i.then(p=>os(this.apiClient,p))}else{const f=ny(this.apiClient,e);return u=V("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),i.then(p=>ns(this.apiClient,p))}}async delete(e){var n,o,r,l;let i,u="",d={};if(this.apiClient.isVertexAI()){const f=Yy(this.apiClient,e);return u=V("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),i.then(()=>{const p=Lv(),m=new tc;return Object.assign(m,p),m})}else{const f=oy(this.apiClient,e);return u=V("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),i.then(()=>{const p=fv(),m=new tc;return Object.assign(m,p),m})}}async countTokens(e){var n,o,r,l;let i,u="",d={};if(this.apiClient.isVertexAI()){const f=Ky(this.apiClient,e);return u=V("{model}:countTokens",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),i.then(p=>{const m=bv(this.apiClient,p),h=new nc;return Object.assign(h,m),h})}else{const f=ly(this.apiClient,e);return u=V("{model}:countTokens",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),i.then(p=>{const m=pv(this.apiClient,p),h=new nc;return Object.assign(h,m),h})}}async computeTokens(e){var n,o;let r,l="",i={};if(this.apiClient.isVertexAI()){const u=Jy(this.apiClient,e);return l=V("{model}:computeTokens",u._url),i=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:i,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const f=Uv(this.apiClient,d),p=new o0;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,o,r,l;let i,u="",d={};if(this.apiClient.isVertexAI()){const f=Xy(this.apiClient,e);return u=V("{model}:predictLongRunning",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),i.then(p=>zv(this.apiClient,p))}else{const f=ay(this.apiClient,e);return u=V("{model}:predictLongRunning",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),i.then(p=>xv(this.apiClient,p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jv(t,e){const n={},o=s(e,["operationName"]);o!=null&&a(n,["_url","operationName"],o);const r=s(e,["config"]);return r!=null&&a(n,["config"],r),n}function Qv(t,e){const n={},o=s(e,["operationName"]);o!=null&&a(n,["_url","operationName"],o);const r=s(e,["config"]);return r!=null&&a(n,["config"],r),n}function Xv(t,e){const n={},o=s(e,["operationName"]);o!=null&&a(n,["operationName"],o);const r=s(e,["resourceName"]);r!=null&&a(n,["_url","resourceName"],r);const l=s(e,["config"]);return l!=null&&a(n,["config"],l),n}function Zv(t,e){const n={},o=s(e,["video","uri"]);o!=null&&a(n,["uri"],o);const r=s(e,["video","encodedVideo"]);r!=null&&a(n,["videoBytes"],Xt(t,r));const l=s(e,["encoding"]);return l!=null&&a(n,["mimeType"],l),n}function eC(t,e){const n={},o=s(e,["_self"]);return o!=null&&a(n,["video"],Zv(t,o)),n}function tC(t,e){const n={},o=s(e,["generatedSamples"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(u=>eC(t,u))),a(n,["generatedVideos"],i)}const r=s(e,["raiMediaFilteredCount"]);r!=null&&a(n,["raiMediaFilteredCount"],r);const l=s(e,["raiMediaFilteredReasons"]);return l!=null&&a(n,["raiMediaFilteredReasons"],l),n}function nC(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["name"],o);const r=s(e,["metadata"]);r!=null&&a(n,["metadata"],r);const l=s(e,["done"]);l!=null&&a(n,["done"],l);const i=s(e,["error"]);i!=null&&a(n,["error"],i);const u=s(e,["response","generateVideoResponse"]);return u!=null&&a(n,["response"],tC(t,u)),n}function oC(t,e){const n={},o=s(e,["gcsUri"]);o!=null&&a(n,["uri"],o);const r=s(e,["bytesBase64Encoded"]);r!=null&&a(n,["videoBytes"],Xt(t,r));const l=s(e,["mimeType"]);return l!=null&&a(n,["mimeType"],l),n}function rC(t,e){const n={},o=s(e,["_self"]);return o!=null&&a(n,["video"],oC(t,o)),n}function lC(t,e){const n={},o=s(e,["videos"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(u=>rC(t,u))),a(n,["generatedVideos"],i)}const r=s(e,["raiMediaFilteredCount"]);r!=null&&a(n,["raiMediaFilteredCount"],r);const l=s(e,["raiMediaFilteredReasons"]);return l!=null&&a(n,["raiMediaFilteredReasons"],l),n}function hc(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["name"],o);const r=s(e,["metadata"]);r!=null&&a(n,["metadata"],r);const l=s(e,["done"]);l!=null&&a(n,["done"],l);const i=s(e,["error"]);i!=null&&a(n,["error"],i);const u=s(e,["response"]);return u!=null&&a(n,["response"],lC(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iC extends Bo{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let l;return o&&"httpOptions"in o&&(l=o.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:l}})}else return this.getVideosOperationInternal({operationName:n.name,config:o})}async getVideosOperationInternal(e){var n,o,r,l;let i,u="",d={};if(this.apiClient.isVertexAI()){const f=Qv(this.apiClient,e);return u=V("{operationName}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),i.then(p=>hc(this.apiClient,p))}else{const f=Jv(this.apiClient,e);return u=V("{operationName}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),i.then(p=>nC(this.apiClient,p))}}async fetchPredictVideosOperationInternal(e){var n,o;let r,l="",i={};if(this.apiClient.isVertexAI()){const u=Xv(this.apiClient,e);return l=V("{resourceName}:fetchPredictOperation",u._url),i=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:i,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>hc(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sC="Content-Type",aC="X-Server-Timeout",uC="User-Agent",cC="x-goog-api-client",dC="0.14.1",fC=`google-genai-sdk/${dC}`,pC="v1beta1",mC="v1beta",gc=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Hf extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class rs extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class hC{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:pC,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:mC,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[i,u]of Object.entries(e.queryParams))r.searchParams.append(i,String(u));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,e.abortSignal),this.unaryApiCall(r,l,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[r,l]of Object.entries(n))typeof l=="object"?o[r]=Object.assign(Object.assign({},o[r]),l):l!==void 0&&(o[r]=l);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,e.abortSignal),this.streamApiCall(r,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o){if(n&&n.timeout||o){const r=new AbortController,l=r.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>r.abort(),n.timeout),o&&o.addEventListener("abort",()=>{r.abort()}),e.signal=l}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await xc(r),new Zi(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await xc(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var n;return il(this,arguments,function*(){const r=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let i="";for(;;){const{done:u,value:d}=yield Se(r.read());if(u){if(i.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=l.decode(d);try{const m=JSON.parse(f);if("error"in m){const h=JSON.parse(JSON.stringify(m.error)),y=h.status,C=h.code,S=`got status: ${y}. ${JSON.stringify(m)}`;if(C>=400&&C<500)throw new Hf(S);if(C>=500&&C<600)throw new rs(S)}}catch(m){const h=m;if(h.name==="ClientError"||h.name==="ServerError")throw m}i+=f;let p=i.match(gc);for(;p;){const m=p[1];try{const h=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Se(new Zi(h)),i=i.slice(p[0].length),p=i.match(gc)}catch(h){throw new Error(`exception parsing stream chunk ${m}. ${h}`)}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=fC+" "+this.clientOptions.userAgentExtra;return e[uC]=n,e[cC]=n,e[sC]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[o,r]of Object.entries(e.headers))n.append(o,r);e.timeout&&e.timeout>0&&n.append(aC,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const l=this.clientOptions.uploader,i=await l.stat(e);r.sizeBytes=String(i.size);const u=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:i.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const d=await this.fetchUploadUrl(r,n);return l.upload(e,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var o;let r={};n!=null&&n.httpOptions?r=n.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const l={file:e},i=await this.request({path:V("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:r});if(!i||!(i!=null&&i.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(o=i==null?void 0:i.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function xc(t){var e;if(t===void 0)throw new rs("response is undefined");if(!t.ok){const n=t.status,o=t.statusText;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const l=`got status: ${n} ${o}. ${JSON.stringify(r)}`;throw n>=400&&n<500?new Hf(l):n>=500&&n<600?new rs(l):new Error(l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gC(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],o);const r=s(e,["config"]);return r!=null&&a(n,["config"],r),n}function xC(t,e,n){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const l=s(e,["pageToken"]);n!==void 0&&l!=null&&a(n,["_query","pageToken"],l);const i=s(e,["filter"]);return n!==void 0&&i!=null&&a(n,["_query","filter"],i),o}function yC(t,e){const n={},o=s(e,["config"]);return o!=null&&a(n,["config"],xC(t,o,n)),n}function vC(t,e){const n={},o=s(e,["textInput"]);o!=null&&a(n,["textInput"],o);const r=s(e,["output"]);return r!=null&&a(n,["output"],r),n}function CC(t,e){const n={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=s(e,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>vC(t,l))),a(n,["examples","examples"],r)}return n}function SC(t,e,n){const o={};if(s(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=s(e,["tunedModelDisplayName"]);if(n!==void 0&&r!=null&&a(n,["displayName"],r),s(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=s(e,["epochCount"]);n!==void 0&&l!=null&&a(n,["tuningTask","hyperparameters","epochCount"],l);const i=s(e,["learningRateMultiplier"]);if(i!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],i),s(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(e,["batchSize"]);n!==void 0&&u!=null&&a(n,["tuningTask","hyperparameters","batchSize"],u);const d=s(e,["learningRate"]);return n!==void 0&&d!=null&&a(n,["tuningTask","hyperparameters","learningRate"],d),o}function TC(t,e){const n={},o=s(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(e,["trainingDataset"]);r!=null&&a(n,["tuningTask","trainingData"],CC(t,r));const l=s(e,["config"]);return l!=null&&a(n,["config"],SC(t,l,n)),n}function wC(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],o);const r=s(e,["config"]);return r!=null&&a(n,["config"],r),n}function EC(t,e,n){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const l=s(e,["pageToken"]);n!==void 0&&l!=null&&a(n,["_query","pageToken"],l);const i=s(e,["filter"]);return n!==void 0&&i!=null&&a(n,["_query","filter"],i),o}function NC(t,e){const n={},o=s(e,["config"]);return o!=null&&a(n,["config"],EC(t,o,n)),n}function _C(t,e,n){const o={},r=s(e,["gcsUri"]);if(n!==void 0&&r!=null&&a(n,["supervisedTuningSpec","trainingDatasetUri"],r),s(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function IC(t,e){const n={},o=s(e,["gcsUri"]);return o!=null&&a(n,["validationDatasetUri"],o),n}function MC(t,e,n){const o={},r=s(e,["validationDataset"]);n!==void 0&&r!=null&&a(n,["supervisedTuningSpec"],IC(t,r));const l=s(e,["tunedModelDisplayName"]);n!==void 0&&l!=null&&a(n,["tunedModelDisplayName"],l);const i=s(e,["description"]);n!==void 0&&i!=null&&a(n,["description"],i);const u=s(e,["epochCount"]);n!==void 0&&u!=null&&a(n,["supervisedTuningSpec","hyperParameters","epochCount"],u);const d=s(e,["learningRateMultiplier"]);n!==void 0&&d!=null&&a(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],d);const f=s(e,["exportLastCheckpointOnly"]);n!==void 0&&f!=null&&a(n,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const p=s(e,["adapterSize"]);if(n!==void 0&&p!=null&&a(n,["supervisedTuningSpec","hyperParameters","adapterSize"],p),s(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return o}function kC(t,e){const n={},o=s(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(e,["trainingDataset"]);r!=null&&a(n,["supervisedTuningSpec","trainingDatasetUri"],_C(t,r,n));const l=s(e,["config"]);return l!=null&&a(n,["config"],MC(t,l,n)),n}function DC(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["model"],o);const r=s(e,["name"]);return r!=null&&a(n,["endpoint"],r),n}function Yf(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["name"],o);const r=s(e,["state"]);r!=null&&a(n,["state"],Vf(t,r));const l=s(e,["createTime"]);l!=null&&a(n,["createTime"],l);const i=s(e,["tuningTask","startTime"]);i!=null&&a(n,["startTime"],i);const u=s(e,["tuningTask","completeTime"]);u!=null&&a(n,["endTime"],u);const d=s(e,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(e,["description"]);f!=null&&a(n,["description"],f);const p=s(e,["baseModel"]);p!=null&&a(n,["baseModel"],p);const m=s(e,["_self"]);m!=null&&a(n,["tunedModel"],DC(t,m));const h=s(e,["distillationSpec"]);h!=null&&a(n,["distillationSpec"],h);const y=s(e,["experiment"]);y!=null&&a(n,["experiment"],y);const C=s(e,["labels"]);C!=null&&a(n,["labels"],C);const S=s(e,["pipelineJob"]);S!=null&&a(n,["pipelineJob"],S);const I=s(e,["tunedModelDisplayName"]);return I!=null&&a(n,["tunedModelDisplayName"],I),n}function AC(t,e){const n={},o=s(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=s(e,["tunedModels"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(i=>Yf(t,i))),a(n,["tuningJobs"],l)}return n}function PC(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["name"],o);const r=s(e,["metadata"]);r!=null&&a(n,["metadata"],r);const l=s(e,["done"]);l!=null&&a(n,["done"],l);const i=s(e,["error"]);return i!=null&&a(n,["error"],i),n}function RC(t,e){const n={},o=s(e,["checkpointId"]);o!=null&&a(n,["checkpointId"],o);const r=s(e,["epoch"]);r!=null&&a(n,["epoch"],r);const l=s(e,["step"]);l!=null&&a(n,["step"],l);const i=s(e,["endpoint"]);return i!=null&&a(n,["endpoint"],i),n}function FC(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],o);const r=s(e,["endpoint"]);r!=null&&a(n,["endpoint"],r);const l=s(e,["checkpoints"]);if(l!=null){let i=l;Array.isArray(i)&&(i=i.map(u=>RC(t,u))),a(n,["checkpoints"],i)}return n}function ls(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["name"],o);const r=s(e,["state"]);r!=null&&a(n,["state"],Vf(t,r));const l=s(e,["createTime"]);l!=null&&a(n,["createTime"],l);const i=s(e,["startTime"]);i!=null&&a(n,["startTime"],i);const u=s(e,["endTime"]);u!=null&&a(n,["endTime"],u);const d=s(e,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(e,["error"]);f!=null&&a(n,["error"],f);const p=s(e,["description"]);p!=null&&a(n,["description"],p);const m=s(e,["baseModel"]);m!=null&&a(n,["baseModel"],m);const h=s(e,["tunedModel"]);h!=null&&a(n,["tunedModel"],FC(t,h));const y=s(e,["supervisedTuningSpec"]);y!=null&&a(n,["supervisedTuningSpec"],y);const C=s(e,["tuningDataStats"]);C!=null&&a(n,["tuningDataStats"],C);const S=s(e,["encryptionSpec"]);S!=null&&a(n,["encryptionSpec"],S);const I=s(e,["partnerModelTuningSpec"]);I!=null&&a(n,["partnerModelTuningSpec"],I);const x=s(e,["distillationSpec"]);x!=null&&a(n,["distillationSpec"],x);const g=s(e,["experiment"]);g!=null&&a(n,["experiment"],g);const v=s(e,["labels"]);v!=null&&a(n,["labels"],v);const T=s(e,["pipelineJob"]);T!=null&&a(n,["pipelineJob"],T);const w=s(e,["tunedModelDisplayName"]);return w!=null&&a(n,["tunedModelDisplayName"],w),n}function LC(t,e){const n={},o=s(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=s(e,["tuningJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(i=>ls(t,i))),a(n,["tuningJobs"],l)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bC extends Bo{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Nl(On.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const o=await this.tuneMldevInternal(n);let r="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?r=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(r=o.name.split("/operations/")[0]),{name:r,state:Xi.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,r,l;let i,u="",d={};if(this.apiClient.isVertexAI()){const f=wC(this.apiClient,e);return u=V("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),i.then(p=>ls(this.apiClient,p))}else{const f=gC(this.apiClient,e);return u=V("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),i.then(p=>Yf(this.apiClient,p))}}async listInternal(e){var n,o,r,l;let i,u="",d={};if(this.apiClient.isVertexAI()){const f=NC(this.apiClient,e);return u=V("tuningJobs",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),i.then(p=>{const m=LC(this.apiClient,p),h=new oc;return Object.assign(h,m),h})}else{const f=yC(this.apiClient,e);return u=V("tunedModels",f._url),d=f._query,delete f.config,delete f._url,delete f._query,i=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),i.then(p=>{const m=AC(this.apiClient,p),h=new oc;return Object.assign(h,m),h})}}async tuneInternal(e){var n,o;let r,l="",i={};if(this.apiClient.isVertexAI()){const u=kC(this.apiClient,e);return l=V("tuningJobs",u._url),i=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:i,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>ls(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let r,l="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=TC(this.apiClient,e);return l=V("tunedModels",u._url),i=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:i,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>PC(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UC{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const VC=1024*1024*8,jC=3,$C=1e3,zC=2,oi="x-goog-upload-status";async function GC(t,e,n){var o,r,l;let i=0,u=0,d=new Zi(new Response),f="upload";for(i=t.size;u<i;){const m=Math.min(VC,i-u),h=t.slice(u,u+m);u+m>=i&&(f+=", finalize");let y=0,C=$C;for(;y<jC&&(d=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(m)}}}),!(!((o=d==null?void 0:d.headers)===null||o===void 0)&&o[oi]));)y++,await qC(C),C=C*zC;if(u+=m,((r=d==null?void 0:d.headers)===null||r===void 0?void 0:r[oi])!=="active")break;if(i<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const p=await(d==null?void 0:d.json());if(((l=d==null?void 0:d.headers)===null||l===void 0?void 0:l[oi])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return p.file}async function BC(t){return{size:t.size,type:t.type}}function qC(t){return new Promise(e=>setTimeout(e,t))}class OC{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await GC(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await BC(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HC{create(e,n,o){return new YC(e,n,o)}}class YC{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yc="x-goog-api-key";class WC{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(yc)===null&&e.append(yc,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KC="gl-node/";class JC{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=lg(e,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const r=new WC(this.apiKey);this.apiClient=new hC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:KC+"web",uploader:new OC,downloader:new UC}),this.models=new Kv(this.apiClient),this.live=new qv(this.apiClient,r,new HC),this.chats=new f0(this.models,this.apiClient),this.caches=new a0(this.apiClient),this.files=new N0(this.apiClient),this.operations=new iC(this.apiClient),this.tunings=new bC(this.apiClient)}}var QC={};const XC=new JC({apiKey:QC.API_KEY}),ZC=({isOpen:t,onClose:e,averageBudgetData:n})=>{const[o,r]=E.useState([]),[l,i]=E.useState(""),[u,d]=E.useState(!1),f=E.useRef(null);E.useEffect(()=>{t&&o.length===0&&r([{sender:"ai",text:"Hola! Soy tu asistente financiero. Basado en tus presupuestos anteriores, puedo ofrecerte consejos. En qu puedo ayudarte hoy?"}])},[t,o.length]),E.useEffect(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},[o,u]);const p=()=>{if(n.averageTotalIncome===0)return"El usuario an no tiene presupuestos guardados. Responde amigablemente y anmale a crear uno para obtener anlisis personalizados.";let h=`Ingreso Total Promedio: $${n.averageTotalIncome.toFixed(2)}
`;return h+=`Distribucin de Gastos Promedio:
`,n.averageCategories.forEach(y=>{y.amount>0&&(h+=`- ${y.name}: $${y.amount.toFixed(2)}
`)}),h},m=async()=>{if(!l.trim()||u)return;const h={sender:"user",text:l};r(C=>[...C,h]);const y=l;if(i(""),d(!0),!navigator.onLine){const C={sender:"ai",text:"Necesito una conexin a la red para funcionar."};r(S=>[...S,C]),d(!1);return}try{const S=`Eres un asistente financiero amigable y til. Analiza el presupuesto promedio del usuario y responde su pregunta de manera concisa, til y fcil de entender. Usa markdown para formatear la respuesta si es necesario (listas, negritas). Aqu est el presupuesto:

${p()}

Pregunta del usuario: "${y}"

Respuesta:`,x={sender:"ai",text:(await XC.models.generateContent({model:"gemini-2.5-flash",contents:S})).text};r(g=>[...g,x])}catch(C){console.error("Error calling Gemini API:",C);const S={sender:"ai",text:"Lo siento, he encontrado un problema. Por favor, intenta de nuevo ms tarde."};r(I=>[...I,S])}finally{d(!1)}};return t?c.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",onClick:e,"aria-modal":"true",children:[c.jsxs("div",{className:"bg-neutral-800 rounded-2xl shadow-xl w-full max-w-lg max-h-[80vh] flex flex-col transform transition-all animate-fade-in-scale",onClick:h=>h.stopPropagation(),children:[c.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-700 flex-shrink-0",children:[c.jsxs("h2",{className:"text-lg font-bold text-neutral-100 flex items-center gap-2",children:[c.jsx("i",{className:"fa-solid fa-wand-magic-sparkles text-blue-400"})," Asistente Financiero IA"]}),c.jsx("button",{onClick:e,className:"p-2 rounded-full active:bg-neutral-700","aria-label":"Cerrar",children:c.jsx("i",{className:"fa-solid fa-times text-xl"})})]}),c.jsxs("div",{ref:f,className:"flex-grow p-4 space-y-4 overflow-y-auto",children:[o.map((h,y)=>c.jsxs("div",{className:`flex items-end gap-2 ${h.sender==="user"?"justify-end":"justify-start"}`,children:[h.sender==="ai"&&c.jsx("span",{className:"w-8 h-8 rounded-full bg-neutral-700 flex items-center justify-center flex-shrink-0",children:c.jsx("i",{className:"fa-solid fa-robot text-blue-400"})}),c.jsx("div",{className:`max-w-xs md:max-w-md p-3 rounded-2xl ${h.sender==="user"?"bg-blue-600 text-white rounded-br-none":"bg-neutral-700 text-neutral-200 rounded-bl-none"}`,children:c.jsx("p",{className:"text-sm",style:{whiteSpace:"pre-wrap"},children:h.text})})]},y)),u&&c.jsxs("div",{className:"flex items-end gap-2 justify-start",children:[c.jsx("span",{className:"w-8 h-8 rounded-full bg-neutral-700 flex items-center justify-center flex-shrink-0",children:c.jsx("i",{className:"fa-solid fa-robot text-blue-400"})}),c.jsx("div",{className:"max-w-xs md:max-w-md p-3 rounded-2xl bg-neutral-700 text-neutral-200 rounded-bl-none",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-neutral-400 rounded-full animate-pulse"}),c.jsx("div",{className:"w-2 h-2 bg-neutral-400 rounded-full animate-pulse [animation-delay:0.2s]"}),c.jsx("div",{className:"w-2 h-2 bg-neutral-400 rounded-full animate-pulse [animation-delay:0.4s]"})]})})]})]}),c.jsx("div",{className:"p-4 border-t border-neutral-700 flex-shrink-0",children:c.jsxs("div",{className:"flex items-center gap-3 bg-neutral-700 rounded-xl",children:[c.jsx("input",{type:"text",value:l,onChange:h=>i(h.target.value),onKeyDown:h=>h.key==="Enter"&&m(),placeholder:"Ej: Cmo puedo ahorrar en comida?",className:"w-full bg-transparent p-3 text-white focus:outline-none",disabled:u}),c.jsx("button",{onClick:m,disabled:u||!l.trim(),className:"p-3 text-white disabled:text-neutral-500 disabled:cursor-not-allowed",children:c.jsx("i",{className:"fa-solid fa-paper-plane"})})]})})]}),c.jsx("style",{children:`
                @keyframes fade-in-scale {
                  from { opacity: 0; transform: scale(0.95); }
                  to { opacity: 1; transform: scale(1); }
                }
                .animate-fade-in-scale { animation: fade-in-scale 0.2s ease-out forwards; }
            `})]}):null},eS=({buttonProps:t,label:e,icon:n})=>c.jsxs("div",{className:"flex items-center gap-3 w-max justify-end",children:[c.jsx("span",{className:"bg-neutral-700 text-neutral-200 text-xs font-semibold px-3 py-1 rounded-md shadow-md",children:e}),c.jsx("button",{...t,className:"bg-neutral-200 text-neutral-800 w-10 h-10 rounded-full flex items-center justify-center shadow-md active:bg-neutral-300","aria-label":e,children:c.jsx("i",{className:`fa-solid ${n}`})})]}),tS=({spentByCategory:t,periodStartDate:e,periodEndDate:n})=>{if(!e||!n)return c.jsxs("div",{className:"bg-neutral-800 p-6 rounded-3xl shadow-lg text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-neutral-100 mb-2",children:"Gastos del Perodo"}),c.jsxs("p",{className:"text-neutral-400 text-sm",children:["Configura un ",c.jsx("i",{className:"fa-solid fa-cog mx-1"}),c.jsx("strong",{children:"Ciclo de Pago"})," en la pestaa de Gastos para ver un resumen de tus gastos actuales aqu."]})]});const o=t.reduce((i,u)=>i+u.amount,0),r=e.toLocaleDateString("es-ES",{day:"numeric",month:"short"}),l=n.toLocaleDateString("es-ES",{day:"numeric",month:"short"});return c.jsxs("div",{className:"bg-neutral-800 p-6 rounded-3xl shadow-lg space-y-4 self-start",children:[c.jsxs("div",{className:"border-b border-neutral-700 pb-3 mb-3",children:[c.jsx("h2",{className:"text-2xl font-bold text-neutral-100",children:"Gastos del Perodo Actual"}),c.jsxs("p",{className:"text-sm text-neutral-400",children:[r," - ",l]})]}),c.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2",children:t.length>0?t.map(({category:i,amount:u})=>c.jsxs("div",{className:"flex justify-between items-center bg-neutral-700/50 p-3 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("i",{className:`${i.icon} fa-fw text-lg`,style:{color:i.color}}),c.jsx("span",{className:"font-semibold text-neutral-200",children:i.name})]}),c.jsxs("span",{className:"font-bold text-lg text-red-400",children:["-$",u.toFixed(2)]})]},i.id)):c.jsx("p",{className:"text-center text-neutral-500 py-4",children:"No hay gastos registrados en este perodo."})}),c.jsxs("div",{className:"border-t border-neutral-700 pt-3 mt-3 flex justify-between items-center",children:[c.jsx("span",{className:"font-bold text-neutral-100 text-lg",children:"Total Gastado"}),c.jsxs("span",{className:"font-extrabold text-2xl text-red-400",children:["-$",o.toFixed(2)]})]})]})},nS=({currentUser:t,onLogout:e})=>{const n=E.useMemo(()=>({BUDGETS:`financial-organizer-${t}-budgets`,GLOBAL_SAVINGS:`financial-organizer-${t}-global-savings`,CYCLE_PROFILES:`financial-organizer-${t}-cycle-profiles`,ACTIVE_CYCLE_ID:`financial-organizer-${t}-active-cycle-id`,ALL_DAILY:`financial-organizer-${t}-all-daily`,ALL_FUTURE:`financial-organizer-${t}-all-future`,LAST_CYCLE_CHECK:`financial-organizer-${t}-last-cycle-check`}),[t]),[o,r]=E.useState("dashboard"),[l,i]=E.useState(!0),[u,d]=E.useState(!1),[f,p]=E.useState(null),[m,h]=E.useState(!1),[y,C]=E.useState(()=>{try{const N=window.localStorage.getItem(n.BUDGETS),_=N?JSON.parse(N):[];return Array.isArray(_)?_:[]}catch(N){return console.error("Failed to parse budgets from localStorage",N),[]}}),[S,I]=E.useState(()=>{try{const N=window.localStorage.getItem(n.BUDGETS),_=N?JSON.parse(N):[];return Array.isArray(_)&&_.length>0?[..._].sort((H,O)=>new Date(O.dateSaved).getTime()-new Date(H.dateSaved).getTime())[0].id:null}catch(N){return console.error("Failed to parse budgets from localStorage for initial ID",N),null}}),[x,g]=E.useState(()=>{try{const N=window.localStorage.getItem(n.GLOBAL_SAVINGS),_=N?JSON.parse(N):0;return typeof _=="number"?_:0}catch(N){return console.error("Failed to parse global savings from localStorage",N),0}}),[v,T]=E.useState(()=>{try{const N=window.localStorage.getItem(n.CYCLE_PROFILES),_=N?JSON.parse(N):[];return Array.isArray(_)?_:[]}catch{return[]}}),[w,M]=E.useState(()=>{try{return window.localStorage.getItem(n.ACTIVE_CYCLE_ID)}catch{return null}}),[D,A]=E.useState(()=>{try{const N=window.localStorage.getItem(n.ALL_DAILY),_=N?JSON.parse(N):{};return typeof _=="object"&&_!==null&&!Array.isArray(_)?_:{}}catch{return{}}}),[$,L]=E.useState(()=>{try{const N=window.localStorage.getItem(n.ALL_FUTURE),_=N?JSON.parse(N):{};return typeof _=="object"&&_!==null&&!Array.isArray(_)?_:{}}catch{return{}}}),[Z,qe]=E.useState(()=>{try{return window.localStorage.getItem(n.LAST_CYCLE_CHECK)}catch{return null}}),[xe,ue]=E.useState(null),[pt,mt]=E.useState(null),[It,P]=E.useState(!1),[U,j]=E.useState(!1),[q,ne]=E.useState(null),[Mt,be]=E.useState(!1),[Ee,Oe]=E.useState(null),[Ne,qo]=E.useState(!1);E.useEffect(()=>{let N=window.scrollY;const _=()=>{const F=window.scrollY;F>N&&F>100?(i(!1),d(!1)):i(!0),N=F<=0?0:F};return o==="dashboard"?window.addEventListener("scroll",_,{passive:!0}):i(!0),()=>{window.removeEventListener("scroll",_)}},[o]),E.useEffect(()=>{!w&&v.length>0&&M(v[0].id)},[v,w]),E.useEffect(()=>{const N=new Set(v.map(F=>F.id)),_=F=>{const H={};for(const O in F)N.has(O)&&(H[O]=F[O]);return H};A(F=>_(F)),L(F=>_(F))},[v]),E.useMemo(()=>y.find(N=>N.id===S),[y,S]);const Zt=E.useMemo(()=>w?D[w]||{}:{},[D,w]),Oo=E.useMemo(()=>w?$[w]||[]:[],[$,w]),Il=E.useCallback(N=>{w&&A(_=>({..._,[w]:typeof N=="function"?N(_[w]||{}):N}))},[w]),Ho=E.useCallback(N=>{w&&L(_=>({..._,[w]:typeof N=="function"?N(_[w]||[]):N}))},[w]),it=E.useMemo(()=>v.find(N=>N.id===w),[v,w]),Ue=E.useMemo(()=>(it==null?void 0:it.config)||null,[it]),{currentPeriodSpending:Jn,periodStartDate:Xe,periodEndDate:ht}=E.useMemo(()=>{if(!Ue)return{currentPeriodSpending:[],periodStartDate:null,periodEndDate:null};const N=new Date,{startDate:_,frequency:F}=Ue,H=new Date(`${_}T00:00:00`);let O=new Date(H),z=new Date(O);for(;z<=N;)switch(O=new Date(z),F){case"semanal":z.setDate(z.getDate()+7);break;case"quincenal":z.setDate(z.getDate()+14);break;case"mensual":z.setMonth(z.getMonth()+1);break;case"anual":z.setFullYear(z.getFullYear()+1);break}const ye=O,gt=new Date(z.getTime()-1),Y=new Map;return nn.forEach(W=>Y.set(W.id,{category:W,amount:0})),Object.entries(Zt).forEach(([W,st])=>{const gn=new Date(`${W}T12:00:00`);gn>=ye&&gn<=gt&&st.forEach(Qo=>{const na=Y.get(Qo.categoryId);na&&(na.amount+=Qo.amount)})}),{currentPeriodSpending:Array.from(Y.values()).filter(W=>W.amount>0),periodStartDate:ye,periodEndDate:gt}},[Ue,Zt]);E.useEffect(()=>{if(Ue&&Xe&&ht){const N=nn.map(F=>{const H=Jn.find(O=>O.category.id===F.id);return{...F,amount:H?H.amount:0}}),_={id:"live-cycle-budget",name:`Presupuesto de Ciclo Actual (${(it==null?void 0:it.name)||""})`,totalIncome:Ue.income,categories:N,dateSaved:new Date().toISOString(),frequency:Ue.frequency};ue(_)}else ue(null)},[Jn,Ue,Xe,ht,it]);const Ml=E.useMemo(()=>{if(y.length===0)return{averageTotalIncome:0,averageCategories:[]};const _=y.reduce((O,z)=>O+z.totalIncome,0)/y.length,F=new Map;for(const O of y)for(const z of O.categories){const ye=F.get(z.id);ye?ye.sum+=z.amount:F.set(z.id,{name:z.name,sum:z.amount})}const H=Array.from(F.entries()).map(([O,{name:z,sum:ye}])=>({id:O,name:z,amount:ye/y.length}));return{averageTotalIncome:_,averageCategories:H}},[y]);E.useEffect(()=>{window.localStorage.setItem(n.BUDGETS,JSON.stringify(y))},[y,n.BUDGETS]),E.useEffect(()=>{window.localStorage.setItem(n.GLOBAL_SAVINGS,JSON.stringify(x))},[x,n.GLOBAL_SAVINGS]),E.useEffect(()=>{window.localStorage.setItem(n.CYCLE_PROFILES,JSON.stringify(v))},[v,n.CYCLE_PROFILES]),E.useEffect(()=>{w?window.localStorage.setItem(n.ACTIVE_CYCLE_ID,w):window.localStorage.removeItem(n.ACTIVE_CYCLE_ID)},[w,n.ACTIVE_CYCLE_ID]),E.useEffect(()=>{window.localStorage.setItem(n.ALL_DAILY,JSON.stringify(D))},[D,n.ALL_DAILY]),E.useEffect(()=>{window.localStorage.setItem(n.ALL_FUTURE,JSON.stringify($))},[$,n.ALL_FUTURE]),E.useEffect(()=>{Z?window.localStorage.setItem(n.LAST_CYCLE_CHECK,Z):window.localStorage.removeItem(n.LAST_CYCLE_CHECK)},[Z,n.LAST_CYCLE_CHECK]);const Qn=N=>{const _={...N,id:Date.now().toString()},F=[...y,_];C(F),I(_.id)},kl=N=>{C(_=>_.map(F=>F.id===N.id?N:F))},Yo=N=>{Oe(N),be(!0)},Dl=()=>{if(Ee){const N=y.filter(_=>_.id!==Ee.id);if(C(N),S===Ee.id)if(N.length>0){const _=[...N].sort((F,H)=>new Date(H.dateSaved).getTime()-new Date(F.dateSaved).getTime());I(_[0].id)}else I(null);be(!1),Oe(null)}},Xn=()=>{mt(null),P(!0)},Wo=N=>{mt(N),P(!0)},Ko=()=>{Xe&&ht?(ne({startDate:Xe,endDate:ht}),j(!0)):alert("No hay un ciclo de pago activo configurado para crear un presupuesto.")},Jo=()=>{if(Ue&&Xe&&ht){const N={...Zt};for(const Y of Oo){let W=new Date(`${Y.startDate}T00:00:00`);const st=Y.endDate?new Date(Y.endDate):null;for(;W<=ht&&(!st||W<=st);){if(W>=Xe){const gn=`${W.getFullYear()}-${(W.getMonth()+1).toString().padStart(2,"0")}-${W.getDate().toString().padStart(2,"0")}`,Qo={id:`future-${Y.id}-${gn}`,note:Y.note,amount:Y.amount,categoryId:Y.categoryId};N[gn]=[...N[gn]||[],Qo]}if(Y.frequency==="una-vez")break;switch(Y.frequency){case"semanal":W.setDate(W.getDate()+7);break;case"quincenal":W.setDate(W.getDate()+14);break;case"mensual":W.setMonth(W.getMonth()+1);break;case"anual":W.setFullYear(W.getFullYear()+1);break}}}const _=new Map;Object.values(N).flat().forEach(Y=>{_.set(Y.categoryId,(_.get(Y.categoryId)||0)+Y.amount)});const F=nn.map(Y=>({...Y,amount:_.get(Y.id)||0})),H=F.filter(Y=>Y.id!=="savings").reduce((Y,W)=>Y+W.amount,0),O=Math.max(0,Ue.income-H),z=F.findIndex(Y=>Y.id==="savings");z>-1&&(F[z].amount=O);const ye=new Date,gt={name:`Presupuesto Parcial ${ye.toLocaleDateString("es-ES")}`,totalIncome:Ue.income,categories:F,dateSaved:ye.toISOString(),frequency:Ue.frequency};Qn(gt),r("history")}},b=[{id:"add_cycle",label:"Aadir Calendario",icon:"fa-calendar-plus",action:()=>{p("add_cycle"),r("expenses")}},{id:"add_daily_expense",label:"Gasto Diario",icon:"fa-cash-register",action:()=>{p("add_daily_expense"),r("expenses")}},{id:"add_future_expense",label:"Gasto Planificado",icon:"fa-clock",action:()=>{p("add_future_expense"),r("expenses")}},{id:"add_budget",label:"Presupuesto Rpido",icon:"fa-file-invoice-dollar",action:Xn}];return c.jsxs(c.Fragment,{children:[c.jsx(wh,{activeTab:o,onTabChange:r,onMenuClick:()=>h(!0),onAiClick:()=>qo(!0)}),c.jsx($h,{isOpen:m,onClose:()=>h(!1),currentUser:t,onLogout:e}),c.jsxs("main",{className:"container mx-auto px-4 md:px-8 py-8 pb-24 md:pb-8",children:[o==="dashboard"&&c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsx("div",{className:"lg:col-span-2 space-y-6",children:c.jsx(tS,{spentByCategory:Jn,periodStartDate:Xe,periodEndDate:ht})}),c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsx(tg,{allDailyExpenses:D,allFutureExpenses:$,categories:nn,cycleProfiles:v}),c.jsx(Ph,{budgets:y,activeBudgetId:S,onOpenDeleteModal:Yo,onCreateNew:Xn,onEditBudget:Wo})]})]}),o==="history"&&c.jsx(kh,{budgets:y,globalSavings:x,onUpdateGlobalSavings:g,onEditBudget:Wo,onOpenDeleteModal:Yo}),o==="expenses"&&c.jsx(Hh,{expenses:Zt,setExpenses:Il,categories:nn,onForceCreateBudget:Ko,futureExpenses:Oo,setFutureExpenses:Ho,currentCycleBudget:xe,cycleProfiles:v,setCycleProfiles:T,activeCycleId:w,setActiveCycleId:M,pendingAction:f,onActionHandled:()=>p(null)}),o==="calculators"&&c.jsx(Xh,{})]}),c.jsx("div",{className:`fixed bottom-24 right-4 md:bottom-6 md:right-6 z-40 transition-all duration-300 ${l?"translate-y-0 opacity-100":"translate-y-10 opacity-0 pointer-events-none"}`,children:c.jsxs("div",{className:"relative flex flex-col items-end gap-3",children:[c.jsx("div",{className:`transition-all duration-300 ease-in-out ${u?"opacity-100":"opacity-0 pointer-events-none"}`,children:c.jsx("div",{className:"flex flex-col items-end gap-3",children:b.map(N=>c.jsx(eS,{label:N.label,icon:N.icon,buttonProps:{onClick:()=>{N.action(),d(!1)}}},N.id))})}),c.jsx("button",{onClick:()=>d(!u),className:"bg-blue-500 text-white w-14 h-14 rounded-full flex items-center justify-center shadow-lg transition-transform duration-300 active:scale-90","aria-haspopup":"true","aria-expanded":u,"aria-label":"Abrir men de acciones rpidas",children:c.jsx("i",{className:`fa-solid ${u?"fa-times":"fa-plus"} text-2xl transition-transform duration-300 ${u?"rotate-180":""}`})})]})}),c.jsx(Dh,{activeTab:o,onTabChange:r}),c.jsx(Vh,{isOpen:It,onClose:()=>P(!1),onSave:Qn,onUpdate:kl,budget:pt}),c.jsx(Yh,{isOpen:U,onClose:()=>j(!1),onConfirm:Jo,cycleStartDate:(q==null?void 0:q.startDate)||null,cycleEndDate:(q==null?void 0:q.endDate)||null}),Ee&&c.jsx(Zh,{isOpen:Mt,onClose:()=>be(!1),onConfirm:Dl,budgetName:Ee.name,budgetDate:Ee.dateSaved}),c.jsx(ZC,{isOpen:Ne,onClose:()=>qo(!1),averageBudgetData:Ml})]})},oS=()=>{const[t,e]=E.useState(null),[n,o]=E.useState(!0);E.useEffect(()=>{const i=window.localStorage.getItem("financial-organizer-currentUser");e(i),o(!1)},[]);const r=i=>{window.localStorage.setItem("financial-organizer-currentUser",i),e(i)},l=()=>{window.localStorage.removeItem("financial-organizer-currentUser"),e(null)};return n?c.jsx("div",{children:"Cargando..."}):c.jsx(c.Fragment,{children:t?c.jsx(nS,{currentUser:t,onLogout:l}):c.jsx(Th,{onLogin:r})})};Rr.createRoot(document.getElementById("root")).render(c.jsx(cp.StrictMode,{children:c.jsx(oS,{})}));
